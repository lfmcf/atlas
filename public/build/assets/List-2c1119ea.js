import{r as l,j as e,c as j}from"./app-cfa3735c.js";import{K as n,S as b,R as f,h as m,A as p}from"./AuthenticatedLayout-084565e0.js";import"./MetronicSplashScreen-6c3feacf.js";import"./MenuComponent-3757f3ff.js";import{D as g,w as N,S as v}from"./sweetalert2-react-content.es-8235ea27.js";import{S as y}from"./StatusComponent-1839612c.js";const S=a=>{const{data:c}=a,[i,w]=l.useState(15),[o,C]=l.useState(1),r=o*i,h=r-i;Object.entries(c).slice(h,r).map(s=>s[1]),l.useState("");let d;l.useEffect(()=>{d=new g("#lisTable",{ordering:!1})});const u=s=>{d.search(s.target.value).draw()},x=s=>{let t=s.value;t==="All"&&(t=""),d.column(3).search(t).draw()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header align-items-center py-5 gap-2 gap-md-5",children:[e.jsx("div",{className:"card-title",children:e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(n,{iconName:"magnifier",className:"fs-3 position-absolute ms-4"}),e.jsx("input",{type:"text",className:"form-control form-control-solid w-250px ps-12",placeholder:"Search",onChange:u})]})}),e.jsxs("div",{className:"card-toolbar flex-row-fluid justify-content-end gap-5",children:[e.jsx("div",{className:"w-100 mw-50px",children:e.jsx("button",{className:"btn btn-sm btn-light",children:e.jsx(n,{iconName:"printer",className:"fs-3"})})}),e.jsx("div",{className:"w-100 mw-50px",children:e.jsx("button",{className:"btn btn-sm btn-light",children:e.jsx(n,{iconName:"arrow-down",className:"fs-3"})})}),e.jsx("div",{className:"w-100 mw-150px",children:e.jsx(b,{options:[{label:"All",value:"All"},{label:"Initiated",value:"Initiated"},{label:"Submitted",value:"Submitted"},{label:"To verify",value:"To verify"},{label:"Delivered",value:"Delivered"},{label:"To correct",value:"To correct"},{label:"Closed",value:"Closed"}],placeholder:"All Forms",onChange:x,menuPortalTarget:document.body,styles:{menuPortal:s=>({...s,zIndex:9999})},isClearable:!0})}),a.user.current_team_id!==3?e.jsxs("a",{href:"#",className:"btn btn-sm btn-light-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_invite_friends",children:[e.jsx(n,{iconName:"plus",className:"fs-3"}),"Add New Request"]}):""]})]}),e.jsx("div",{className:"card-body py-3",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",id:"lisTable",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-150px",children:"Product"}),e.jsx("th",{className:"min-w-140px",children:"Country"}),e.jsx("th",{className:"min-w-140px",children:"Sequence"}),e.jsx("th",{className:"min-w-130px",children:"Status"}),e.jsx("th",{className:"min-w-130px",children:"Dossier type"}),e.jsx("th",{className:"min-w-130px",children:"Request date"}),e.jsx("th",{className:"min-w-130px",children:"Last update"})]})}),e.jsx("tbody",{children:a.data?Object.values(a.data).map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:typeof s.product_name=="object"&&s.product_name?e.jsx("a",{href:"#",onClick:()=>j.get("show-formatting",{id:s._id}),className:"text-dark fw-bold text-hover-primary fs-6",children:s.product_name.value}):s.product_name})}),e.jsx("td",{children:typeof s.country=="object"&&s.country?e.jsx(e.Fragment,{children:e.jsx(f,{countryCode:s.country.code,"aria-label":s.country.value,title:s.country.value,svg:!0,style:{width:"1.5em",height:"1.5em"}})}):s.country}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.sequence?s.sequence:"NA"})}),e.jsx("td",{children:e.jsx(y,{status:s.status})}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.dossier_type?s.dossier_type.value:""})}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.request_date?m(s.request_date).format("DD-MMM-YYYY"):""})}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.updated_at?m(s.updated_at).format("DD-MMM-YYYY"):""})})]},t)):""})]})})})]})})},_=N(v),q=a=>{const{allDemands:c}=a;return l.useEffect(()=>{a.flash.message&&_.fire({title:e.jsx("p",{children:"Done !"}),icon:"success",text:a.flash.message})},[]),e.jsx(p,{auth:a.auth,children:e.jsx(S,{data:c,user:a.auth.user})})};export{q as default};
