import{r as b,W as Ae,j as e,b as ae}from"./app-6d25ecbc.js";import{n as g,z as te,K as Fe,R as le,A as Ve,S as Re}from"./AuthenticatedLayout-38fedfc8.js";import{S as Te}from"./MenuComponent-00339f6e.js";import"./MetronicSplashScreen-6003dfe1.js";import{F as ne}from"./index-f847ed47.js";/* empty css                  */import{D as Ee}from"./Dropzone-678f99c9.js";import{S as Ue}from"./StatusComponent-20e80cb4.js";import{G as Ge}from"./GeneralInformation-81a6e5ee.js";import{P as Ye}from"./ProductMetaData-9c711e32.js";import{C as We}from"./ConfirmationMessage-a5a3a95e.js";import{w as ze}from"./sweetalert2-react-content.es-6f2745fc.js";import"./hoist-non-react-statics.cjs-1d8f9095.js";const Be=ze(Re),He=j=>{var R,T,E,U,G,Y,W,z,B,H,K,L,X,Z,$,J,Q,O,ee,se;const{metadata:r,folder:i}=j;var w=new URLSearchParams(window.location.search);const[u,d]=b.useState({dossier_type:"",dossier_count:"",submission_type:new Array,submission_mode:new Array,submission_unit:new Array,sequence:new Array}),[ie,re]=b.useState(!1),[ce,Ke]=b.useState(""),{data:n,setData:p,post:M,processing:Le,errors:Xe,clearErrors:Ze,reset:$e}=Ae({id:i?i._id:"",form:i?i.form:"Publishing",region:i?i.region:w.get("region"),procedure:i?i.procedure:w.get("procedure"),productName:i?i.product_name:w.get("product"),dossier_contact:i?i.dossier_contact:j.auth.user.trigramme,object:i?i.object:"",country:i?i.country:"",dossier_type:i?i.dossier_type:"",dossier_count:i?i.dossier_count:"",remarks:i?i.remarks:"",mt:i?i.mt:[],drug_substance:i?i.drug_substance:[{drug_substance:"",manufacturer:""}],drug_product:i?i.drug_product:[{drug_product:"",manufacturer:""}],dosage_form:i?i.dosage_form:"",excipient:i?i.excipient:"",doc:i&&i.doc!==null?i.doc:[],docremarks:i?i.docremarks:"",deadline:new Date,request_date:new Date,status:i?i.status:"",created_by:j.auth.user.id});if(!r)return e.jsxs("div",{children:[e.jsx("h1",{children:"Error"}),e.jsx("p",{children:"Error while fetching metadata"})]});const[m,I]=b.useState({uuid:(R=r[0])==null?void 0:R.uuid,submission_type:"",submission_mode:"",trackingNumber:(T=r[0])==null?void 0:T.tracking_numbers[0].numbers,submission_unit:"",applicant:(E=r[0])==null?void 0:E.applicant,agencyCode:(U=r[0])==null?void 0:U.agencyCode,inventedName:(G=r[0])==null?void 0:G.invented_name,mtd:(Y=r[0])==null?void 0:Y.mtd,inn:(W=r[0])==null?void 0:W.inn,sequence:(z=r[0])==null?void 0:z.sequence,r_sequence:(B=r[0])==null?void 0:B.r_sequence,submission_description:"",remarks:""}),A=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{x.current=Te.createInsance(A.current)},[]);const oe=()=>{if(!x.current)return;if(x.current.getCurrentStepIndex()===1&&(!n.dossier_type||!n.dossier_count)){n.dossier_type||d(s=>({...s,dossier_type:"this field is required"})),n.dossier_count||d(s=>({...s,dossier_count:"this field is required"}));return}let a=!1;if(x.current.getCurrentStepIndex()===2)for(let s=0;s<n.mt.length;s++)n.mt[s].submission_type||(d(l=>{const t={...l};return s>=0&&s<t.submission_type.length?t.submission_type[s]="this field is required":t.submission_type.push("this field is required"),t}),a=!0),n.mt[s].submission_mode||(d(l=>{const t={...l};return s>=0&&s<t.submission_mode.length?t.submission_mode[s]="this field is required":t.submission_mode.push("this field is required"),t}),a=!0),n.mt[s].submission_unit||(d(l=>{const t={...l};return s>=0&&s<t.submission_unit.length?t.submission_unit[s]="this field is required":t.submission_unit.push("this field is required"),t}),a=!0),n.mt[s].sequence||(d(l=>{const t={...l};return s>=0&&s<t.sequence.length?t.sequence[s]="this field is required":t.sequence.push("this field is required"),t}),a=!0);a||x.current.goNext()},de=()=>{x.current&&x.current.goPrev()},F=(a,s)=>{s=="dossier_type"&&d(l=>({...l,dossier_type:""})),p(s,a)},V=a=>{a.target.name=="dossier_count"&&d(s=>({...s,dossier_count:""})),p(a.target.name,a.target.value)},me=a=>{let s={...n};s.doc.push(...a),p(s)},h=(a,s)=>{if(a.target.name=="sequence"){let t={...u};t.sequence[s]="",d(t)}let l={...n};l.mt[s][a.target.name]=a.target.value,p(l)},q=(a,s,l)=>{if(s=="submission_type"){let o={...u};o.submission_type[l]="",d(o)}if(s=="submission_unit"){let o={...u};o.submission_unit[l]="",d(o)}if(s=="submission_mode"){let o={...u};o.submission_mode[l]="",d(o)}let t={...n};t.mt[l][s]=a,p(t)},S=(a,s)=>{const l={...m};l[s]=a,I(l)},N=a=>{const s={...m};s[a.target.name]=a.target.value,I(s)},[_,y]=b.useState([]),[D,ue]=b.useState(!1),[pe,Je]=b.useState(r),be=a=>{const{id:s,checked:l}=a.target;y([..._,parseInt(s)]),l||y(_.filter(t=>t!=s))},he=a=>{ue(!D),y(pe.map(s=>s.id)),D&&y([])},xe=()=>{let a={...n},s={...u};a.mt.map((l,t)=>{_.includes(l.id)&&(m.submission_type&&(s.submission_type[t]=""),m.submission_mode&&(s.submission_mode[t]=""),m.submission_unit&&(s.submission_unit[t]=""),m.sequence&&(s.sequence[t]=""),a.mt[t].uuid=m.uuid,a.mt[t].submission_type=m.submission_type,a.mt[t].submission_mode=m.submission_mode,a.mt[t].trackingNumber=m.trackingNumber,a.mt[t].submission_unit=m.submission_unit,a.mt[t].applicant=m.applicant,a.mt[t].inventedName=m.inventedName,a.mt[t].mtd=m.mtd,a.mt[t].inn=m.inn,a.mt[t].sequence=m.sequence,a.mt[t].r_sequence=m.r_sequence,a.mt[t].submission_description=m.submission_description,a.mt[t].remarks=m.remarks)}),d(s),p(a)};b.useEffect(()=>{let a={...n};r.map((s,l)=>{a.mt.push({id:s.id,country:s.country,uuid:s==null?void 0:s.uuid,submission_type:"",submission_mode:"",trackingNumber:s.tracking_numbers[0].numbers,submission_unit:"",applicant:s.applicant,agencyCode:s.agencyCode,inventedName:s.invented_name,inn:s.inn,sequence:"",r_sequence:"",submission_description:"",remarks:""})}),p(a)},[]),b.useEffect(()=>{let a=new Date,s=a.getHours(),l=n.dossier_type?n.dossier_type.delai:0,t=new Date,o=1;for(s>12&&(l=l+1);o<l;)t=new Date(a.setDate(a.getDate()+1)),t.getDay()!=0&&t.getDay()!=6&&o++;p("deadline",new Date(t))},[n.dossier_type]);const P=(a,s)=>{a.preventDefault(),Be.fire({title:s=="save"?'Click on "Yes" to save your request or click on "No, return" to return to the form.':'Click on "Yes" to submit your request or click on "No, return" to return to the form.',icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, proceed!",cancelButtonText:"No, return"}).then(l=>{l.isConfirmed&&M(route("publishing_initiate",{type:s}))})},fe=()=>{re(!1)},Ne=a=>{M(route("publishing_initiate",{type:a}))},je=()=>{let a={...n},s=[];a.doc.map(l=>{l.link&&s.push(l.name)}),s.length>0&&ae.post("delete-file-pub",{docs:s,id:n.id}),a.doc=[],p(a)},ve=a=>{if(a.link){let t=[];t.push(a.name),ae.post("delete-file-pub",{docs:t,id:n.id})}var s={...n};let l=s.doc.map(t=>t.name).indexOf(a.name);s.doc.splice(l,1),p(s)},k=a=>({control:s=>({...s,...a&&{borderColor:"red !important"}})}),C=a=>{var l;if((!n.dossier_type||!n.dossier_count)&&(a==2||a==3||a==4||a==5)){n.dossier_type||d(t=>({...t,dossier_type:"this field is required"})),n.dossier_count||d(t=>({...t,dossier_count:"this field is required"}));return}let s=!1;for(let t=0;t<n.mt.length;t++)(!n.mt[t].submission_type||!n.mt[t].submission_mode||!n.mt[t].submission_unit||!n.mt[t].sequence)&&(a==3||a==4||a==5)&&(n.mt[t].submission_type||d(o=>{const c={...o};return t>=0&&t<c.submission_type.length?c.submission_type[t]="this field is required":c.submission_type.push("this field is required"),c}),n.mt[t].submission_mode||d(o=>{const c={...o};return t>=0&&t<c.submission_type.length?c.submission_mode[t]="this field is required":c.submission_mode.push("this field is required"),c}),n.mt[t].submission_unit||d(o=>{const c={...o};return t>=0&&t<c.submission_type.length?c.submission_unit[t]="this field is required":c.submission_unit.push("this field is required"),c}),n.mt[t].sequence||d(o=>{const c={...o};return t>=0&&t<c.submission_type.length?c.sequence[t]="this field is required":c.sequence.push("this field is required"),c}),s=!0);s||(l=x.current)==null||l.goto(a)},ge=()=>{p("drug_substance",[...n.drug_substance,{drug_substance:"",manufacturer:""}])},_e=()=>{p("drug_product",[...n.drug_product,{drug_product:"",manufacturer:""}])},ye=a=>{let s={...n};s.drug_product.splice(a,1),p(s)},ke=a=>{let s={...n};s.drug_substance.splice(a,1),p(s)},[Ce,we]=b.useState({}),[qe,Se]=b.useState({}),De=(a,s)=>{var c,f;console.log(s);let l={...n};l.drug_substance[a].drug_substance=s?s.value:"",p(l);const t=s==null?void 0:s.value,o=((f=(c=r[0])==null?void 0:c.drug_substance.find(v=>v.substance===t))==null?void 0:f.ds_manufacturers.map(v=>({label:v.substance_manufacturer,value:v.substance_manufacturer})))||[];we(v=>({...v,[t]:o}))},Pe=(a,s)=>{var c;let l={...n};l.drug_product[a].drug_product=s?s.value:"",p(l);const t=s==null?void 0:s.value,o=((c=r[0].drug_product.find(f=>f.drug_product===t))==null?void 0:c.dp_manufacturers.map(f=>({label:f.product_manufacturer,value:f.product_manufacturer})))||[];Se(f=>({...f,[t]:o}))},Me=(a,s)=>{p(l=>{const t=[...l.drug_substance];return t[a]={...t[a],manufacturer:s},{...l,drug_substance:t}})},Ie=(a,s)=>{p(l=>{const t=[...l.drug_product];return t[a]={...t[a],manufacturer:s},{...l,drug_product:t}})};return e.jsxs(e.Fragment,{children:[i?e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("a",{href:"#",onClick:()=>window.history.back(),className:"btn btn-sm fw-bold btn-secondary mb-2",children:e.jsx("i",{className:"ki-duotone ki-black-left fs-3"})}),e.jsx(Ue,{status:n.status})]}):"",e.jsxs("div",{className:"stepper stepper-pills",id:"kt_stepper_example_basic",ref:A,children:[e.jsxs("div",{className:"stepper-nav flex-center flex-wrap mb-10",children:[e.jsxs("div",{className:"stepper-item mx-8 my-4 current","data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper d-flex align-items-center",onClick:()=>{var a;return(a=x.current)==null?void 0:a.goto(1)},style:{cursor:"pointer"},children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"1"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:"stepper-title",children:"Step 1"}),e.jsx("div",{className:"stepper-desc",children:"General information"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]}),e.jsxs("div",{className:"stepper-item mx-8 my-4","data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper d-flex align-items-center",onClick:()=>C(2),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"2"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:"stepper-title",children:"Step 2"}),e.jsx("div",{className:"stepper-desc",children:"Submission metadata"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]}),e.jsxs("div",{className:"stepper-item mx-8 my-4","data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper d-flex align-items-center",onClick:()=>C(3),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"3"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:"stepper-title",children:"Step 3"}),e.jsx("div",{className:"stepper-desc",children:"Product metadata"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]}),e.jsxs("div",{className:"stepper-item mx-8 my-4","data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper d-flex align-items-center",onClick:()=>C(4),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"4"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:"stepper-title",children:"Step 4"}),e.jsx("div",{className:"stepper-desc",children:"Documents"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]}),e.jsxs("div",{className:"stepper-item mx-8 my-4","data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper d-flex align-items-center",onClick:()=>C(5),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"5"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:"stepper-title",children:"Step 5"}),e.jsx("div",{className:"stepper-desc",children:"Delivery details"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})]}),e.jsxs("form",{className:"form",onSubmit:P,id:"kt_stepper_example_basic_form",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx(Ge,{data:n,myErrors:u,handleChange:V,handleSelectChange:F,selectStyles:k}),e.jsxs("div",{className:"flex-column","data-kt-stepper-element":"content",children:[e.jsx("div",{className:"d-flex justify-content-end mb-1",children:e.jsx("a",{href:"#",className:"btn btn-secondary btn-sm","data-bs-toggle":"modal","data-bs-target":"#kt_modal_multi_data_update",children:e.jsx("i",{className:"fa-solid fa-plus"})})}),e.jsxs("div",{className:"d-flex flex-column flex-md-row rounded border p-10",children:[e.jsx("ul",{className:"nav nav-tabs nav-line-tabs border-0 flex-row flex-md-column me-5 mb-3 mb-md-0 fs-6",children:e.jsx("div",{className:"position-relative d-inline-block",style:{flex:"1 1 auto",whiteSpace:"nowrap",overflowX:"hidden",overflowY:"auto",height:"calc(100vh - 240px)"},children:e.jsx("div",{className:"d-flex flex-column",children:r.map((a,s)=>e.jsx("li",{className:"nav-item w-md-150px me-0 pe-5",children:e.jsx("a",{className:"nav-link mx-0 my-2"+(s===0?" active":""),"data-bs-toggle":"tab",href:"#kt_vtab_pane_"+s,style:{color:u.submission_type[s]||u.submission_unit[s]||u.submission_mode[s]||u.sequence[s]?"red":""},children:a.country})},s))})})}),e.jsx("div",{className:"tab-content w-100",children:n.mt.map((a,s)=>e.jsxs("div",{className:"tab-pane fade"+(s===0?" active show":""),id:"kt_vtab_pane_"+s,children:[e.jsxs("div",{className:"row mb-10",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"UUID"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",value:a.uuid,name:"uuid",onChange:l=>h(l,s)})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",title:"Choose the submission type",style:{color:u.submission_type[s]?"red":""},children:"Submission type (*)"}),e.jsx(g,{options:te,name:"submission_type",onChange:l=>q(l,"submission_type",s),className:"react-select-container",classNamePrefix:"react-select",placeholder:"",isClearable:!0,value:a.submission_type,menuPortalTarget:document.body,styles:k(u.submission_type[s])})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",title:"Choose the submission mode",style:{color:u.submission_mode[s]?"red":""},children:"Submission mode (*)"}),e.jsx(g,{options:[{label:"Single",value:"Single"},{label:"Grouping",value:"Grouping"},{label:"Worksharing",value:"Worksharing"}],name:"submission_mode",onChange:l=>q(l,"submission_mode",s),className:"react-select-container",classNamePrefix:"react-select",placeholder:"",isClearable:!0,value:a.submission_mode,menuPortalTarget:document.body,styles:k(u.submission_mode[s])})]})]}),e.jsxs("div",{className:"row mb-10",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"Procedure Tracking N°"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"tracking",value:a.trackingNumber,onChange:l=>h(l,s)})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",title:"Choose the applicable submission unit",style:{color:u.submission_unit[s]?"red":""},children:"Submission unit (*)"}),e.jsx(g,{options:[{label:"initial",value:"initial"},{label:"validation-response",value:"validation-response"},{label:"response",value:"response"},{label:"additional-info",value:"additional-info"},{label:"closing",value:"closing"},{label:"consolidating",value:"consolidating"},{label:"corrigendum",value:"corrigendum"},{label:"reformat",value:"reformat"}],name:"submission_unit",onChange:l=>q(l,"submission_unit",s),className:"react-select-container",classNamePrefix:"react-select",placeholder:"",isClearable:!0,value:a.submission_unit,menuPortalTarget:document.body,styles:k(u.submission_unit[s])})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"Applicant"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"applicant",value:a.applicant,onChange:l=>h(l,s)})]})]}),e.jsxs("div",{className:"row mb-10",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"Agency code"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"agency_code",value:a.agencyCode,onChange:l=>h(l,s)})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"Invented name"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"inventedName",value:a.inventedName,onChange:l=>h(l,s)})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"INN"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"inn",value:a.inn,onChange:l=>h(l,s)})]})]}),e.jsxs("div",{className:"row mb-10",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",title:"Enter the sequence number",style:{color:u.sequence[s]?"red":""},children:"Sequence (*)"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"sequence",value:a.sequence,style:{borderColor:u.sequence[s]?"red":""},onChange:l=>h(l,s)})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"Related Sequence"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"r_sequence",value:a.r_sequence,onChange:l=>h(l,s)})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("label",{className:"form-label",children:"Submission description"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"submission_description",value:a.submission_description,onChange:l=>h(l,s)})]})]}),e.jsx("div",{className:"row mb-10",children:e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Remarks"}),e.jsx("textarea",{className:"form-control form-control-solid",rows:3,name:"remarks",value:a.remarks,onChange:l=>h(l,s)})]})})]},s))})]})]}),e.jsx(Ye,{metadata:r[0],data:n,handleSelectChange:F,handleDrugSubstanceChange:De,handleManufacturerChange:Me,handleDrugProductChange:Pe,handleDpManufacturerChange:Ie,manufacturerOptions:Ce,dpmanufacturerOptions:qe,addDrugSubstanceFields:ge,addDrugProductFields:_e,removeDrugProductFields:ye,removeDrugSubstanceFields:ke}),e.jsxs("div",{className:"flex-column","data-kt-stepper-element":"content",children:[e.jsxs("div",{className:"row mb-10",children:[e.jsx("div",{className:"col-md-2 col-lg-2 col-sm-12",children:e.jsx("label",{className:"form-label",children:"Attached documents"})}),e.jsx("div",{className:"col-md-6 col-lg-6 col-sm-12",children:e.jsx(Ee,{files:n.doc,upload:me,deleletFile:ve,removeAll:je})})]}),e.jsxs("div",{className:"row mb-10",children:[e.jsx("label",{className:"form-label",children:"Remarks"}),e.jsx("textarea",{className:"form-control form-control-solid",rows:3,name:"docremarks",placeholder:"",onChange:V})]})]}),e.jsx("div",{className:"flex-column","data-kt-stepper-element":"content",children:e.jsxs("div",{className:"row mb-10",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("label",{htmlFor:"",className:"form-label",children:"Request date"}),e.jsx(ne,{"data-enable-time":!0,value:n.request_date,className:"form-control",options:{dateFormat:"d-M-Y H:i"},disabled:!0})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{htmlFor:"",className:"form-label",children:"Delivery deadline"}),e.jsx(ne,{"data-enable-time":!0,value:n.deadline,className:"form-control",options:{dateFormat:"d-M-Y H:i"},disabled:!0})]})]})})]}),e.jsxs("div",{className:"d-flex flex-stack",children:[e.jsx("div",{className:"me-2",children:e.jsx("button",{type:"button",className:"btn btn-light btn-active-light-primary","data-kt-stepper-action":"previous",onClick:de,children:"Back"})}),e.jsxs("div",{children:[e.jsx("button",{type:"button",className:"btn btn-primary m-3","data-kt-stepper-action":"submit",onClick:a=>P(a,"save"),children:e.jsx("span",{className:"indicator-label",children:"Save"})}),e.jsxs("button",{type:"submit",className:"btn btn-primary","data-kt-stepper-action":"submit",onClick:a=>P(a,"submit"),children:[e.jsx("span",{className:"indicator-label",children:"Submit"}),e.jsxs("span",{className:"indicator-progress",children:["Please wait... ",e.jsx("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]}),e.jsx("button",{type:"button",className:"btn btn-primary","data-kt-stepper-action":"next",onClick:oe,children:"Continue"})]})]})]}),e.jsx("div",{className:"modal fade",id:"kt_modal_multi_data_update","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content rounded",children:[e.jsx("div",{className:"modal-header justify-content-end border-0 pb-0",children:e.jsx("div",{className:"btn btn-sm btn-icon btn-active-color-primary","data-bs-dismiss":"modal",children:e.jsx(Fe,{iconName:"cross",className:"fs-1"})})}),e.jsxs("div",{className:"modal-body pt-0 pb-15 px-5 px-xl-20",children:[e.jsxs("div",{className:"mb-13 text-center",children:[e.jsx("h1",{className:"mb-3",children:"Multi update"}),e.jsxs("div",{className:"text-muted fw-bold fs-5",children:["Apply update for selected countries"," ","."]})]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"row mt-10",children:[e.jsx("div",{className:"col-lg-12 mb-10 mb-lg-0",children:e.jsxs("form",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"UUID"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"uuid",defaultValue:(H=r[0])==null?void 0:H.uuid,onChange:N})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Submission type"}),e.jsx(g,{options:te,name:"submission_type",onChange:a=>S(a,"submission_type"),className:"react-select-container",classNamePrefix:"react-select",placeholder:"",isClearable:!0,value:(K=r[0])==null?void 0:K.submission_type,menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999}),container:a=>({width:"100%"})}})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Submission mode"}),e.jsx(g,{options:[{label:"Single",value:"Single"},{label:"Grouping",value:"Grouping"},{label:"Worksharing",value:"Worksharing"}],name:"submission_mode",onChange:a=>S(a,"submission_mode"),className:"react-select-container",classNamePrefix:"react-select",placeholder:"",isClearable:!0,value:(L=r[0])==null?void 0:L.submission_mode,menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999}),container:a=>({width:"100%"})}})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Procedure Tracking N°"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:(X=r[0])==null?void 0:X.tracking_numbers[0].numbers,name:"trackingNumber",onChange:N})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Submission unit"}),e.jsx(g,{options:[{label:"initial",value:"initial"},{label:"validation-response",value:"validation-response"},{label:"response",value:"response"},{label:"additional-info",value:"additional-info"},{label:"closing",value:"closing"},{label:"consolidating",value:"consolidating"},{label:"corrigendum",value:"corrigendum"},{label:"reformat",value:"reformat"}],name:"submission_unit",onChange:a=>S(a,"submission_unit"),className:"react-select-container",classNamePrefix:"react-select",placeholder:"",isClearable:!0,value:(Z=r[0])==null?void 0:Z.submission_unit,menuPortalTarget:document.body,styles:{menuPortal:a=>({...a,zIndex:9999}),container:a=>({width:"100%"})}})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Applicant"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:($=r[0])==null?void 0:$.applicant,name:"applicant",onChange:N})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Invented name"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:(J=r[0])==null?void 0:J.invented_name,name:"inventedName",onChange:N})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"INN"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:(Q=r[0])==null?void 0:Q.inn,name:"inn",onChange:N})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Sequence"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:(O=r[0])==null?void 0:O.sequence,name:"sequence",onChange:N})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Related Sequence"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:(ee=r[0])==null?void 0:ee.r_seqeunce,name:"r_sequence",onChange:N})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label",children:"Submission description"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",defaultValue:(se=r[0])==null?void 0:se.submission_description,name:"submission_description",onChange:N})]})]})]})}),e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-4 d-flex align-items-center mb-5",children:[e.jsx("div",{className:"me-5 position-relative",children:e.jsx("div",{className:"symbol symbol-35px symbol-circle",children:e.jsx(le,{className:"emojiFlag",countryCode:"EU","aria-label":"Europe",svg:!0,style:{width:"25px",height:"25px",borderRadius:"4px"}})})}),e.jsxs("div",{className:"fw-semibold",style:{width:"40%"},children:[e.jsx("a",{href:"#",className:"fs-5 fw-bold text-gray-900 text-hover-primary",children:"All Countries"}),e.jsx("div",{className:"text-gray-400",children:"All"})]}),e.jsx("div",{className:"badge badge-light",children:e.jsx("input",{type:"checkbox",name:"multicountry",value:"all",onChange:he,checked:D})})]}),r==null?void 0:r.map((a,s)=>e.jsxs("div",{className:"col-4 d-flex align-items-center mb-5",children:[e.jsx("div",{className:"me-5 position-relative",children:e.jsx("div",{className:"symbol symbol-35px symbol-circle",children:e.jsx(le,{className:"emojiFlag",countryCode:a.code,"aria-label":a.country,svg:!0,style:{width:"25px",height:"25px",borderRadius:"4px"}})})}),e.jsxs("div",{className:"fw-semibold",style:{width:"40%"},children:[e.jsx("a",{href:"#",className:"fs-5 fw-bold text-gray-900 text-hover-primary",children:a.country}),e.jsx("div",{className:"text-gray-400",children:a.code})]}),e.jsx("div",{className:"badge badge-light ",children:e.jsx("input",{type:"checkbox",id:a.id,name:a.country,value:a.country,onChange:be,checked:!!_.includes(a.id)})})]},s))]})})]})}),e.jsxs("div",{className:"d-flex flex-center flex-row-fluid pt-12",children:[e.jsx("button",{type:"reset",className:"btn btn-light me-3","data-bs-dismiss":"modal",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:xe,children:"Update"})]})]})]})})})]}),e.jsx(We,{show:ie,onCancel:fe,actionType:ce,onConfirm:Ne})]})};He.layout=j=>e.jsx(Ve,{children:j,auth:j.props.auth});export{He as default};
