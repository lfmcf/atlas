var Vf=Object.defineProperty;var Wf=(s,e,t)=>e in s?Vf(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var G=(s,e,t)=>(Wf(s,typeof e!="symbol"?e+"":e,t),t);import{c as ut,g as ls,e as ie,r as z,C as Yf,A as Xf,p as Kf,f as Qf,j as p,b as Ms,a as Zf,h as Jf}from"./app-d2ed0e92.js";import{u as ep,P as tp}from"./MetronicSplashScreen-e7b14096.js";import{_ as ip,c as sp,a as rp,i as np,d as op,h as B,A as ap,$ as lp,R as js,S as hp}from"./AuthenticatedLayout-c326bba1.js";import{w as dp}from"./sweetalert2-react-content.es-00c77eab.js";import{c as Xi,e as cp,D as il,t as Qt,_ as xt}from"./en-a790159a.js";import{g as q}from"./MenuComponent-2ab0c387.js";import"./jquery.dataTables-1de9e802.js";import{c as sl}from"./hoist-non-react-statics.cjs-1d8f9095.js";var Gc={},hs={},Hc={exports:{}};(function(s){function e(t){return t&&t.__esModule?t:{default:t}}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports})(Hc);var up=Hc.exports;const fp=ut(ip),pp=ut(sp),mp=ut(rp);var Fs={exports:{}},rl;function Bc(){return rl||(rl=1,function(s){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(Fs)),Fs.exports}const gp=ut(np);var Ls={exports:{}},qs={exports:{}},nl;function vp(){return nl||(nl=1,function(s){function e(t){"@babel/helpers - typeof";return s.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s.exports.__esModule=!0,s.exports.default=s.exports,e(t)}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(qs)),qs.exports}var ol;function bp(){return ol||(ol=1,function(s){var e=vp().default,t=Bc();function r(n,o){if(o&&(e(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(n)}s.exports=r,s.exports.__esModule=!0,s.exports.default=s.exports}(Ls)),Ls.exports}var Gs={exports:{}},al;function yp(){return al||(al=1,function(s){function e(t){return s.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s.exports.__esModule=!0,s.exports.default=s.exports,e(t)}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(Gs)),Gs.exports}const _p=ut(op);var zc={exports:{}};(function(s){s.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function o(){this.off(r,o),n.apply(this,arguments)}return o.fn=n,this.on(r,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+r];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var a,l=0;l<o.length;l++)if(a=o[l],a===n||a.fn===n){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+r],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,l=o.length;a<l;++a)o[a].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(zc);var wp=zc.exports;const ga=ls(wp);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function _e(){return _e=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},_e.apply(this,arguments)}function ve(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}function Gi(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var Yo;typeof Object.assign!="function"?Yo=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}:Yo=Object.assign;var at=Yo,ll=["","webkit","Moz","MS","ms","o"],xp=typeof document>"u"?{style:{}}:document.createElement("div"),Cp="function",Nt=Math.round,lt=Math.abs,va=Date.now;function ds(s,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),o=0;o<ll.length;){if(t=ll[o],r=t?t+n:e,r in s)return r;o++}}var Oe;typeof window>"u"?Oe={}:Oe=window;var $c=ds(xp.style,"touchAction"),Uc=$c!==void 0;function Tp(){if(!Uc)return!1;var s={},e=Oe.CSS&&Oe.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return s[t]=e?Oe.CSS.supports("touch-action",t):!0}),s}var Vc="compute",Wc="auto",Xo="manipulation",st="none",di="pan-x",ci="pan-y",Hi=Tp(),Sp=/mobile|tablet|ip(ad|hone|od)|android/i,Yc="ontouchstart"in Oe,Dp=ds(Oe,"PointerEvent")!==void 0,Ep=Yc&&Sp.test(navigator.userAgent),xi="touch",kp="pen",ba="mouse",Op="kinect",Np=25,re=1,ft=2,Q=4,oe=8,Ji=1,Ci=2,Ti=4,Si=8,Rt=16,Te=Ci|Ti,rt=Si|Rt,Xc=Te|rt,Kc=["x","y"],es=["clientX","clientY"];function Ne(s,e,t){var r;if(s)if(s.forEach)s.forEach(e,t);else if(s.length!==void 0)for(r=0;r<s.length;)e.call(t,s[r],r,s),r++;else for(r in s)s.hasOwnProperty(r)&&e.call(t,s[r],r,s)}function cs(s,e){return typeof s===Cp?s.apply(e&&e[0]||void 0,e):s}function it(s,e){return s.indexOf(e)>-1}function Ap(s){if(it(s,st))return st;var e=it(s,di),t=it(s,ci);return e&&t?st:e||t?e?di:ci:it(s,Xo)?Xo:Wc}var Qc=function(){function s(t,r){this.manager=t,this.set(r)}var e=s.prototype;return e.set=function(r){r===Vc&&(r=this.compute()),Uc&&this.manager.element.style&&Hi[r]&&(this.manager.element.style[$c]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Ne(this.manager.recognizers,function(n){cs(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),Ap(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,o=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var a=this.actions,l=it(a,st)&&!Hi[st],h=it(a,ci)&&!Hi[ci],d=it(a,di)&&!Hi[di];if(l){var c=r.pointers.length===1,u=r.distance<2,f=r.deltaTime<250;if(c&&u&&f)return}if(!(d&&h)&&(l||h&&o&Te||d&&o&rt))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},s}();function ya(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}function Zc(s){var e=s.length;if(e===1)return{x:Nt(s[0].clientX),y:Nt(s[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=s[n].clientX,r+=s[n].clientY,n++;return{x:Nt(t/e),y:Nt(r/e)}}function hl(s){for(var e=[],t=0;t<s.pointers.length;)e[t]={clientX:Nt(s.pointers[t].clientX),clientY:Nt(s.pointers[t].clientY)},t++;return{timeStamp:va(),pointers:e,center:Zc(e),deltaX:s.deltaX,deltaY:s.deltaY}}function ts(s,e,t){t||(t=Kc);var r=e[t[0]]-s[t[0]],n=e[t[1]]-s[t[1]];return Math.sqrt(r*r+n*n)}function Ko(s,e,t){t||(t=Kc);var r=e[t[0]]-s[t[0]],n=e[t[1]]-s[t[1]];return Math.atan2(n,r)*180/Math.PI}function Jc(s,e){return s===e?Ji:lt(s)>=lt(e)?s<0?Ci:Ti:e<0?Si:Rt}function Pp(s,e){var t=e.center,r=s.offsetDelta||{},n=s.prevDelta||{},o=s.prevInput||{};(e.eventType===re||o.eventType===Q)&&(n=s.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=s.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function eu(s,e,t){return{x:e/s||0,y:t/s||0}}function Ip(s,e){return ts(e[0],e[1],es)/ts(s[0],s[1],es)}function Rp(s,e){return Ko(e[1],e[0],es)+Ko(s[1],s[0],es)}function Mp(s,e){var t=s.lastInterval||e,r=e.timeStamp-t.timeStamp,n,o,a,l;if(e.eventType!==oe&&(r>Np||t.velocity===void 0)){var h=e.deltaX-t.deltaX,d=e.deltaY-t.deltaY,c=eu(r,h,d);o=c.x,a=c.y,n=lt(c.x)>lt(c.y)?c.x:c.y,l=Jc(h,d),s.lastInterval=e}else n=t.velocity,o=t.velocityX,a=t.velocityY,l=t.direction;e.velocity=n,e.velocityX=o,e.velocityY=a,e.direction=l}function jp(s,e){var t=s.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=hl(e)),n>1&&!t.firstMultiple?t.firstMultiple=hl(e):n===1&&(t.firstMultiple=!1);var o=t.firstInput,a=t.firstMultiple,l=a?a.center:o.center,h=e.center=Zc(r);e.timeStamp=va(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Ko(l,h),e.distance=ts(l,h),Pp(t,e),e.offsetDirection=Jc(e.deltaX,e.deltaY);var d=eu(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=lt(d.x)>lt(d.y)?d.x:d.y,e.scale=a?Ip(a.pointers,r):1,e.rotation=a?Rp(a.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,Mp(t,e);var c=s.element,u=e.srcEvent,f;u.composedPath?f=u.composedPath()[0]:u.path?f=u.path[0]:f=u.target,ya(f,c)&&(c=f),e.target=c}function Fp(s,e,t){var r=t.pointers.length,n=t.changedPointers.length,o=e&re&&r-n===0,a=e&(Q|oe)&&r-n===0;t.isFirst=!!o,t.isFinal=!!a,o&&(s.session={}),t.eventType=e,jp(s,t),s.emit("hammer.input",t),s.recognize(t),s.session.prevInput=t}function ui(s){return s.trim().split(/\s+/g)}function oi(s,e,t){Ne(ui(e),function(r){s.addEventListener(r,t,!1)})}function ai(s,e,t){Ne(ui(e),function(r){s.removeEventListener(r,t,!1)})}function dl(s){var e=s.ownerDocument||s;return e.defaultView||e.parentWindow||window}var Ht=function(){function s(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){cs(t.options.enable,[t])&&n.handler(o)},this.init()}var e=s.prototype;return e.handler=function(){},e.init=function(){this.evEl&&oi(this.element,this.evEl,this.domHandler),this.evTarget&&oi(this.target,this.evTarget,this.domHandler),this.evWin&&oi(dl(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ai(this.element,this.evEl,this.domHandler),this.evTarget&&ai(this.target,this.evTarget,this.domHandler),this.evWin&&ai(dl(this.element),this.evWin,this.domHandler)},s}();function ht(s,e,t){if(s.indexOf&&!t)return s.indexOf(e);for(var r=0;r<s.length;){if(t&&s[r][t]==e||!t&&s[r]===e)return r;r++}return-1}var Lp={pointerdown:re,pointermove:ft,pointerup:Q,pointercancel:oe,pointerout:oe},qp={2:xi,3:kp,4:ba,5:Op},tu="pointerdown",iu="pointermove pointerup pointercancel";Oe.MSPointerEvent&&!Oe.PointerEvent&&(tu="MSPointerDown",iu="MSPointerMove MSPointerUp MSPointerCancel");var su=function(s){ve(e,s);function e(){var r,n=e.prototype;return n.evEl=tu,n.evWin=iu,r=s.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var o=this.store,a=!1,l=n.type.toLowerCase().replace("ms",""),h=Lp[l],d=qp[n.pointerType]||n.pointerType,c=d===xi,u=ht(o,n.pointerId,"pointerId");h&re&&(n.button===0||c)?u<0&&(o.push(n),u=o.length-1):h&(Q|oe)&&(a=!0),!(u<0)&&(o[u]=n,this.callback(this.manager,h,{pointers:o,changedPointers:[n],pointerType:d,srcEvent:n}),a&&o.splice(u,1))},e}(Ht);function fi(s){return Array.prototype.slice.call(s,0)}function _a(s,e,t){for(var r=[],n=[],o=0;o<s.length;){var a=e?s[o][e]:s[o];ht(n,a)<0&&r.push(s[o]),n[o]=a,o++}return t&&(e?r=r.sort(function(l,h){return l[e]>h[e]}):r=r.sort()),r}var Gp={touchstart:re,touchmove:ft,touchend:Q,touchcancel:oe},Hp="touchstart touchmove touchend touchcancel",wa=function(s){ve(e,s);function e(){var r;return e.prototype.evTarget=Hp,r=s.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var o=Gp[n.type],a=Bp.call(this,n,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:xi,srcEvent:n})},e}(Ht);function Bp(s,e){var t=fi(s.touches),r=this.targetIds;if(e&(re|ft)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,o,a=fi(s.changedTouches),l=[],h=this.target;if(o=t.filter(function(d){return ya(d.target,h)}),e===re)for(n=0;n<o.length;)r[o[n].identifier]=!0,n++;for(n=0;n<a.length;)r[a[n].identifier]&&l.push(a[n]),e&(Q|oe)&&delete r[a[n].identifier],n++;if(l.length)return[_a(o.concat(l),"identifier",!0),l]}var zp={mousedown:re,mousemove:ft,mouseup:Q},$p="mousedown",Up="mousemove mouseup",xa=function(s){ve(e,s);function e(){var r,n=e.prototype;return n.evEl=$p,n.evWin=Up,r=s.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var o=zp[n.type];o&re&&n.button===0&&(this.pressed=!0),o&ft&&n.which!==1&&(o=Q),this.pressed&&(o&Q&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:ba,srcEvent:n}))},e}(Ht),Vp=2500,cl=25;function ul(s){var e=s.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var o=function(){var l=n.indexOf(r);l>-1&&n.splice(l,1)};setTimeout(o,Vp)}}function Wp(s,e){s&re?(this.primaryTouch=e.changedPointers[0].identifier,ul.call(this,e)):s&(Q|oe)&&ul.call(this,e)}function Yp(s){for(var e=s.srcEvent.clientX,t=s.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],o=Math.abs(e-n.x),a=Math.abs(t-n.y);if(o<=cl&&a<=cl)return!0}return!1}var ru=function(){var s=function(e){ve(t,e);function t(n,o){var a;return a=e.call(this,n,o)||this,a.handler=function(l,h,d){var c=d.pointerType===xi,u=d.pointerType===ba;if(!(u&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(c)Wp.call(Gi(Gi(a)),h,d);else if(u&&Yp.call(Gi(Gi(a)),d))return;a.callback(l,h,d)}},a.touch=new wa(a.manager,a.handler),a.mouse=new xa(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Ht);return s}();function Xp(s){var e,t=s.options.inputClass;return t?e=t:Dp?e=su:Ep?e=wa:Yc?e=ru:e=xa,new e(s,Fp)}function At(s,e,t){return Array.isArray(s)?(Ne(s,t[e],t),!0):!1}var Ki=1,ge=2,Mt=4,$e=8,Ae=$e,pi=16,xe=32,Kp=1;function Qp(){return Kp++}function Bi(s,e){var t=e.manager;return t?t.get(s):s}function fl(s){return s&pi?"cancel":s&$e?"end":s&Mt?"move":s&ge?"start":""}var Di=function(){function s(t){t===void 0&&(t={}),this.options=_e({enable:!0},t),this.id=Qp(),this.manager=null,this.state=Ki,this.simultaneous={},this.requireFail=[]}var e=s.prototype;return e.set=function(r){return at(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(At(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=Bi(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return At(r,"dropRecognizeWith",this)?this:(r=Bi(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(At(r,"requireFailure",this))return this;var n=this.requireFail;return r=Bi(r,this),ht(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(At(r,"dropRequireFailure",this))return this;r=Bi(r,this);var n=ht(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,o=this.state;function a(l){n.manager.emit(l,r)}o<$e&&a(n.options.event+fl(o)),a(n.options.event),r.additionalEvent&&a(r.additionalEvent),o>=$e&&a(n.options.event+fl(o))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=xe},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(xe|Ki)))return!1;r++}return!0},e.recognize=function(r){var n=at({},r);if(!cs(this.options.enable,[this,n])){this.reset(),this.state=xe;return}this.state&(Ae|pi|xe)&&(this.state=Ki),this.state=this.process(n),this.state&(ge|Mt|$e|pi)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},s}(),Qo=function(s){ve(e,s);function e(r){var n;return r===void 0&&(r={}),n=s.call(this,_e({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Xo]},t.process=function(n){var o=this,a=this.options,l=n.pointers.length===a.pointers,h=n.distance<a.threshold,d=n.deltaTime<a.time;if(this.reset(),n.eventType&re&&this.count===0)return this.failTimeout();if(h&&d&&l){if(n.eventType!==Q)return this.failTimeout();var c=this.pTime?n.timeStamp-this.pTime<a.interval:!0,u=!this.pCenter||ts(this.pCenter,n.center)<a.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!u||!c?this.count=1:this.count+=1,this._input=n;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Ae,o.tryEmit()},a.interval),ge):Ae}return xe},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=xe},this.options.interval),xe},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Ae&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Di),jt=function(s){ve(e,s);function e(r){return r===void 0&&(r={}),s.call(this,_e({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},t.process=function(n){var o=this.state,a=n.eventType,l=o&(ge|Mt),h=this.attrTest(n);return l&&(a&oe||!h)?o|pi:l||h?a&Q?o|$e:o&ge?o|Mt:ge:xe},e}(Di);function nu(s){return s===Rt?"down":s===Si?"up":s===Ci?"left":s===Ti?"right":""}var Ca=function(s){ve(e,s);function e(r){var n;return r===void 0&&(r={}),n=s.call(this,_e({event:"pan",threshold:10,pointers:1,direction:Xc},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,o=[];return n&Te&&o.push(ci),n&rt&&o.push(di),o},t.directionTest=function(n){var o=this.options,a=!0,l=n.distance,h=n.direction,d=n.deltaX,c=n.deltaY;return h&o.direction||(o.direction&Te?(h=d===0?Ji:d<0?Ci:Ti,a=d!==this.pX,l=Math.abs(n.deltaX)):(h=c===0?Ji:c<0?Si:Rt,a=c!==this.pY,l=Math.abs(n.deltaY))),n.direction=h,a&&l>o.threshold&&h&o.direction},t.attrTest=function(n){return jt.prototype.attrTest.call(this,n)&&(this.state&ge||!(this.state&ge)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=nu(n.direction);o&&(n.additionalEvent=this.options.event+o),s.prototype.emit.call(this,n)},e}(jt),ou=function(s){ve(e,s);function e(r){return r===void 0&&(r={}),s.call(this,_e({event:"swipe",threshold:10,velocity:.3,direction:Te|rt,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Ca.prototype.getTouchAction.call(this)},t.attrTest=function(n){var o=this.options.direction,a;return o&(Te|rt)?a=n.overallVelocity:o&Te?a=n.overallVelocityX:o&rt&&(a=n.overallVelocityY),s.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&lt(a)>this.options.velocity&&n.eventType&Q},t.emit=function(n){var o=nu(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e}(jt),au=function(s){ve(e,s);function e(r){return r===void 0&&(r={}),s.call(this,_e({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[st]},t.attrTest=function(n){return s.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&ge)},t.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}s.prototype.emit.call(this,n)},e}(jt),lu=function(s){ve(e,s);function e(r){return r===void 0&&(r={}),s.call(this,_e({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[st]},t.attrTest=function(n){return s.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&ge)},e}(jt),hu=function(s){ve(e,s);function e(r){var n;return r===void 0&&(r={}),n=s.call(this,_e({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[Wc]},t.process=function(n){var o=this,a=this.options,l=n.pointers.length===a.pointers,h=n.distance<a.threshold,d=n.deltaTime>a.time;if(this._input=n,!h||!l||n.eventType&(Q|oe)&&!d)this.reset();else if(n.eventType&re)this.reset(),this._timer=setTimeout(function(){o.state=Ae,o.tryEmit()},a.time);else if(n.eventType&Q)return Ae;return xe},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===Ae&&(n&&n.eventType&Q?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=va(),this.manager.emit(this.options.event,this._input)))},e}(Di),du={domEvents:!1,touchAction:Vc,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},pl=[[lu,{enable:!1}],[au,{enable:!1},["rotate"]],[ou,{direction:Te}],[Ca,{direction:Te},["swipe"]],[Qo],[Qo,{event:"doubletap",taps:2},["tap"]],[hu]],Zp=1,ml=2;function gl(s,e){var t=s.element;if(t.style){var r;Ne(s.options.cssProps,function(n,o){r=ds(t.style,o),e?(s.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=s.oldCssProps[r]||""}),e||(s.oldCssProps={})}}function Jp(s,e){var t=document.createEvent("Event");t.initEvent(s,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var vl=function(){function s(t,r){var n=this;this.options=at({},du,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Xp(this),this.touchAction=new Qc(this,this.options.touchAction),gl(this,!0),Ne(this.options.recognizers,function(o){var a=n.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}var e=s.prototype;return e.set=function(r){return at(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?ml:Zp},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var o,a=this.recognizers,l=n.curRecognizer;(!l||l&&l.state&Ae)&&(n.curRecognizer=null,l=null);for(var h=0;h<a.length;)o=a[h],n.stopped!==ml&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(r):o.reset(),!l&&o.state&(ge|Mt|$e)&&(n.curRecognizer=o,l=o),h++}},e.get=function(r){if(r instanceof Di)return r;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===r)return n[o];return null},e.add=function(r){if(At(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(At(r,"remove",this))return this;var n=this.get(r);if(r){var o=this.recognizers,a=ht(o,n);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var o=this.handlers;return Ne(ui(r),function(a){o[a]=o[a]||[],o[a].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var o=this.handlers;return Ne(ui(r),function(a){n?o[a]&&o[a].splice(ht(o[a],n),1):delete o[a]}),this},e.emit=function(r,n){this.options.domEvents&&Jp(r,n);var o=this.handlers[r]&&this.handlers[r].slice();if(!(!o||!o.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](n),a++}},e.destroy=function(){this.element&&gl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},s}(),em={touchstart:re,touchmove:ft,touchend:Q,touchcancel:oe},tm="touchstart",im="touchstart touchmove touchend touchcancel",sm=function(s){ve(e,s);function e(){var r,n=e.prototype;return n.evTarget=tm,n.evWin=im,r=s.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var o=em[n.type];if(o===re&&(this.started=!0),!!this.started){var a=rm.call(this,n,o);o&(Q|oe)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:xi,srcEvent:n})}},e}(Ht);function rm(s,e){var t=fi(s.touches),r=fi(s.changedTouches);return e&(Q|oe)&&(t=_a(t.concat(r),"identifier",!0)),[t,r]}function cu(s,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,r,o),s.apply(this,arguments)}}var uu=cu(function(s,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&s[r[n]]===void 0)&&(s[r[n]]=e[r[n]]),n++;return s},"extend","Use `assign`."),nm=cu(function(s,e){return uu(s,e,!0)},"merge","Use `assign`.");function om(s,e,t){var r=e.prototype,n;n=s.prototype=Object.create(r),n.constructor=s,n._super=r,t&&at(n,t)}function bl(s,e){return function(){return s.apply(e,arguments)}}var fu=function(){var s=function(t,r){return r===void 0&&(r={}),new vl(t,_e({recognizers:pl.concat()},r))};return s.VERSION="2.0.17-rc",s.DIRECTION_ALL=Xc,s.DIRECTION_DOWN=Rt,s.DIRECTION_LEFT=Ci,s.DIRECTION_RIGHT=Ti,s.DIRECTION_UP=Si,s.DIRECTION_HORIZONTAL=Te,s.DIRECTION_VERTICAL=rt,s.DIRECTION_NONE=Ji,s.DIRECTION_DOWN=Rt,s.INPUT_START=re,s.INPUT_MOVE=ft,s.INPUT_END=Q,s.INPUT_CANCEL=oe,s.STATE_POSSIBLE=Ki,s.STATE_BEGAN=ge,s.STATE_CHANGED=Mt,s.STATE_ENDED=$e,s.STATE_RECOGNIZED=Ae,s.STATE_CANCELLED=pi,s.STATE_FAILED=xe,s.Manager=vl,s.Input=Ht,s.TouchAction=Qc,s.TouchInput=wa,s.MouseInput=xa,s.PointerEventInput=su,s.TouchMouseInput=ru,s.SingleTouchInput=sm,s.Recognizer=Di,s.AttrRecognizer=jt,s.Tap=Qo,s.Pan=Ca,s.Swipe=ou,s.Pinch=au,s.Rotate=lu,s.Press=hu,s.on=oi,s.off=ai,s.each=Ne,s.merge=nm,s.extend=uu,s.bindFn=bl,s.assign=at,s.inherit=om,s.bindFn=bl,s.prefixed=ds,s.toArray=fi,s.inArray=ht,s.uniqueArray=_a,s.splitStr=ui,s.boolOrFn=cs,s.hasParent=ya,s.addEventListeners=oi,s.removeEventListeners=ai,s.defaults=at({},du,{preset:pl}),s}();fu.defaults;const pu=fu;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 5.0.7
 * @date    2023-11-20T09:06:51.067Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const us=Symbol("DELETE");function mu(s,...e){return Ta({},s,...e)}function Ta(...s){const e=is(...s);return vu(e),e}function is(...s){if(s.length<2)return s[0];if(s.length>2)return is(Ta(s[0],s[1]),...s.slice(2));const e=s[0],t=s[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const r of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,r)&&(t[r]===us?delete e[r]:e[r]!==null&&t[r]!==null&&typeof e[r]=="object"&&typeof t[r]=="object"&&!Array.isArray(e[r])&&!Array.isArray(t[r])?e[r]=is(e[r],t[r]):e[r]=gu(t[r]));return e}function gu(s){return Array.isArray(s)?s.map(e=>gu(e)):typeof s=="object"&&s!==null?s instanceof Date?new Date(s.getTime()):is({},s):s}function vu(s){for(const e of Object.keys(s))s[e]===us?delete s[e]:typeof s[e]=="object"&&s[e]!==null&&vu(s[e])}function am(...s){return lm(s.length?s:[Date.now()])}function lm(s){let[e,t,r]=hm(s),n=1;const o=()=>{const a=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=a-(n=a|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=s,o.version="0.9",o}function hm(...s){const e=dm();let t=e(" "),r=e(" "),n=e(" ");for(let o=0;o<s.length;o++)t-=e(s[o]),t<0&&(t+=1),r-=e(s[o]),r<0&&(r+=1),n-=e(s[o]),n<0&&(n+=1);return[t,r,n]}function dm(){let s=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){s+=t.charCodeAt(r);let n=.02519603282416938*s;s=n>>>0,n-=s,n*=s,s=n>>>0,n-=s,s+=n*4294967296}return(s>>>0)*23283064365386963e-26}}function cm(){const s=()=>{};return{on:s,off:s,destroy:s,emit:s,get(){return{set:s}}}}const Sa=typeof window<"u"?window.Hammer||pu:function(){return cm()};function Ce(s){this._cleanupQueue=[],this.active=!1,this._dom={container:s,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=Sa(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{um(r.target,s)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}ga(Ce.prototype);Ce.current=null;Ce.prototype.destroy=function(){this.deactivate();for(const s of this._cleanupQueue.splice(0).reverse())s()};Ce.prototype.activate=function(){Ce.current&&Ce.current.deactivate(),Ce.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ce.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ce.prototype._onTapOverlay=function(s){this.activate(),s.srcEvent.stopPropagation()};function um(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}const fm=/^\/?Date\((-?\d+)/i,pm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,mm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gm=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,vm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function li(s){return s instanceof Number||typeof s=="number"}function bu(s){if(s)for(;s.hasChildNodes()===!0;){const e=s.firstChild;e&&(bu(e),s.removeChild(e))}}function de(s){return s instanceof String||typeof s=="string"}function Zo(s){return typeof s=="object"&&s!==null}function bm(s){if(s instanceof Date)return!0;if(de(s)){if(fm.exec(s))return!0;if(!isNaN(Date.parse(s)))return!0}return!1}function dt(s,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&s[t]!==void 0),n?delete s[t]:s[t]=e[t]}function yu(s,e,t=!1){for(const r in s)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")dt(s,e,r,t);else{const n=s[r],o=e[r];Zo(n)&&Zo(o)&&yu(n,o,t)}}const ym=Object.assign;function _m(s,e,...t){if(!Array.isArray(s))throw new Error("Array with property names expected as first argument");for(const r of t)for(let n=0;n<s.length;n++){const o=s[n];r&&Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}function wm(s,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<s.length;n++){const o=s[n];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?mi(e[o],t[o],!1,r):dt(e,t,o,r);else{if(Array.isArray(t[o]))throw new TypeError("Arrays are not supported by deepExtend");dt(e,t,o,r)}}return e}function xm(s,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!s.includes(n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?mi(e[n],t[n]):dt(e,t,n,r);else if(Array.isArray(t[n])){e[n]=[];for(let o=0;o<t[n].length;o++)e[n].push(t[n][o])}else dt(e,t,n,r);return e}function mi(s,e,t=!1,r=!1){for(const n in e)(Object.prototype.hasOwnProperty.call(e,n)||t===!0)&&(typeof e[n]=="object"&&e[n]!==null&&Object.getPrototypeOf(e[n])===Object.prototype?s[n]===void 0?s[n]=mi({},e[n],t):typeof s[n]=="object"&&s[n]!==null&&Object.getPrototypeOf(s[n])===Object.prototype?mi(s[n],e[n],t):dt(s,e,n,r):Array.isArray(e[n])?s[n]=e[n].slice():dt(s,e,n,r));return s}function Cm(s,e){if(s.length!==e.length)return!1;for(let t=0,r=s.length;t<r;t++)if(s[t]!=e[t])return!1;return!0}function ti(s){const e=typeof s;return e==="object"?s===null?"null":s instanceof Boolean?"Boolean":s instanceof Number?"Number":s instanceof String?"String":Array.isArray(s)?"Array":s instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function gi(s,e){return[...s,e]}function _u(s){return s.slice()}function Tm(s){return s.getBoundingClientRect().left}function Sm(s){return s.getBoundingClientRect().right}function Dm(s){return s.getBoundingClientRect().top}function Em(s,e){let t=s.className.split(" ");const r=e.split(" ");t=t.concat(r.filter(function(n){return!t.includes(n)})),s.className=t.join(" ")}function km(s,e){let t=s.className.split(" ");const r=e.split(" ");t=t.filter(function(n){return!r.includes(n)}),s.className=t.join(" ")}function Om(s,e){if(Array.isArray(s)){const t=s.length;for(let r=0;r<t;r++)e(s[r],r,s)}else for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(s[t],t,s)}const Nm=Object.values;function Am(s,e,t){return s[e]!==t?(s[e]=t,!0):!1}function Pm(s){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,s()}))}}function Im(s){s||(s=window.event),s&&(s.preventDefault?s.preventDefault():s.returnValue=!1)}function Rm(s=window.event){let e=null;return s&&(s.target?e=s.target:s.srcElement&&(e=s.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function Mm(s,e){let t=s;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const jm={asBoolean(s,e){return typeof s=="function"&&(s=s()),s!=null?s!=!1:e||null},asNumber(s,e){return typeof s=="function"&&(s=s()),s!=null?Number(s)||e||null:e||null},asString(s,e){return typeof s=="function"&&(s=s()),s!=null?String(s):e||null},asSize(s,e){return typeof s=="function"&&(s=s()),de(s)?s:li(s)?s+"px":e||null},asElement(s,e){return typeof s=="function"&&(s=s()),s||e||null}};function fs(s){let e;switch(s.length){case 3:case 4:return e=mm.exec(s),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=pm.exec(s),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function Fm(s,e){if(s.includes("rgba"))return s;if(s.includes("rgb")){const t=s.substr(s.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=fs(s);return t==null?s:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function Da(s,e,t){return"#"+((1<<24)+(s<<16)+(e<<8)+t).toString(16).slice(1)}function Lm(s,e){if(de(s)){let t=s;if(ka(t)){const r=t.substr(4).substr(0,t.length-5).split(",").map(function(n){return parseInt(n)});t=Da(r[0],r[1],r[2])}if(Ea(t)===!0){const r=xu(t),n={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)},o={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8},a=Jo(o.h,o.s,o.v),l=Jo(n.h,n.s,n.v);return{background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return e?{background:s.background||e.background,border:s.border||e.border,highlight:de(s.highlight)?{border:s.highlight,background:s.highlight}:{background:s.highlight&&s.highlight.background||e.highlight.background,border:s.highlight&&s.highlight.border||e.highlight.border},hover:de(s.hover)?{border:s.hover,background:s.hover}:{border:s.hover&&s.hover.border||e.hover.border,background:s.hover&&s.hover.background||e.hover.background}}:{background:s.background||void 0,border:s.border||void 0,highlight:de(s.highlight)?{border:s.highlight,background:s.highlight}:{background:s.highlight&&s.highlight.background||void 0,border:s.highlight&&s.highlight.border||void 0},hover:de(s.hover)?{border:s.hover,background:s.hover}:{border:s.hover&&s.hover.border||void 0,background:s.hover&&s.hover.background||void 0}}}function Pt(s,e,t){s=s/255,e=e/255,t=t/255;const r=Math.min(s,Math.min(e,t)),n=Math.max(s,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const o=s===r?e-t:t===r?s-e:t-s,l=60*((s===r?3:t===r?1:5)-o/(n-r))/360,h=(n-r)/n;return{h:l,s:h,v:n}}function wu(s){const e=document.createElement("div"),t={};e.style.cssText=s;for(let r=0;r<e.style.length;++r)t[e.style[r]]=e.style.getPropertyValue(e.style[r]);return t}function qm(s,e){const t=wu(e);for(const[r,n]of Object.entries(t))s.style.setProperty(r,n)}function Gm(s,e){const t=wu(e);for(const r of Object.keys(t))s.style.removeProperty(r)}function hi(s,e,t){let r,n,o;const a=Math.floor(s*6),l=s*6-a,h=t*(1-e),d=t*(1-l*e),c=t*(1-(1-l)*e);switch(a%6){case 0:r=t,n=c,o=h;break;case 1:r=d,n=t,o=h;break;case 2:r=h,n=t,o=c;break;case 3:r=h,n=d,o=t;break;case 4:r=c,n=h,o=t;break;case 5:r=t,n=h,o=d;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(o*255)}}function Jo(s,e,t){const r=hi(s,e,t);return Da(r.r,r.g,r.b)}function xu(s){const e=fs(s);if(!e)throw new TypeError(`'${s}' is not a valid color.`);return Pt(e.r,e.g,e.b)}function Ea(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)}function ka(s){return gm.test(s)}function Cu(s){return vm.test(s)}function Hm(s,e){if(e!==null&&typeof e=="object"){const t=Object.create(e);for(let r=0;r<s.length;r++)Object.prototype.hasOwnProperty.call(e,s[r])&&typeof e[s[r]]=="object"&&(t[s[r]]=Oa(e[s[r]]));return t}else return null}function Oa(s){if(s===null||typeof s!="object")return null;if(s instanceof Element)return s;const e=Object.create(s);for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&typeof s[t]=="object"&&(e[t]=Oa(s[t]));return e}function Bm(s,e){for(let t=0;t<s.length;t++){const r=s[t];let n;for(n=t;n>0&&e(r,s[n-1])<0;n--)s[n]=s[n-1];s[n]=r}return s}function zm(s,e,t,r={}){const n=function(m){return m!=null},o=function(m){return m!==null&&typeof m=="object"},a=function(m){for(const g in m)if(Object.prototype.hasOwnProperty.call(m,g))return!1;return!0};if(!o(s))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");const l=function(m,g,b){o(m[b])||(m[b]={});const y=g[b],_=m[b];for(const w in y)Object.prototype.hasOwnProperty.call(y,w)&&(_[w]=y[w])},h=e[t],c=o(r)&&!a(r)?r[t]:void 0,u=c?c.enabled:void 0;if(h===void 0)return;if(typeof h=="boolean"){o(s[t])||(s[t]={}),s[t].enabled=h;return}if(h===null&&!o(s[t]))if(n(c))s[t]=Object.create(c);else return;if(!o(h))return;let f=!0;h.enabled!==void 0?f=h.enabled:u!==void 0&&(f=c.enabled),l(s,e,t),s[t].enabled=f}function $m(s,e,t,r){let o=0,a=0,l=s.length-1;for(;a<=l&&o<1e4;){const h=Math.floor((a+l)/2),d=s[h],c=r===void 0?d[t]:d[t][r],u=e(c);if(u==0)return h;u==-1?a=h+1:l=h-1,o++}return-1}function Um(s,e,t,r,n){let a=0,l=0,h=s.length-1,d,c,u,f;for(n=n??function(m,g){return m==g?0:m<g?-1:1};l<=h&&a<1e4;){if(f=Math.floor(.5*(h+l)),d=s[Math.max(0,f-1)][t],c=s[f][t],u=s[Math.min(s.length-1,f+1)][t],n(c,e)==0)return f;if(n(d,e)<0&&n(c,e)>0)return r=="before"?Math.max(0,f-1):f;if(n(c,e)<0&&n(u,e)>0)return r=="before"?f:Math.min(s.length-1,f+1);n(c,e)<0?l=f+1:h=f-1,a++}return-1}const Vm={linear(s){return s},easeInQuad(s){return s*s},easeOutQuad(s){return s*(2-s)},easeInOutQuad(s){return s<.5?2*s*s:-1+(4-2*s)*s},easeInCubic(s){return s*s*s},easeOutCubic(s){return--s*s*s+1},easeInOutCubic(s){return s<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1},easeInQuart(s){return s*s*s*s},easeOutQuart(s){return 1- --s*s*s*s},easeInOutQuart(s){return s<.5?8*s*s*s*s:1-8*--s*s*s*s},easeInQuint(s){return s*s*s*s*s},easeOutQuint(s){return 1+--s*s*s*s*s},easeInOutQuint(s){return s<.5?16*s*s*s*s*s:1+16*--s*s*s*s*s}};function Wm(){const s=document.createElement("p");s.style.width="100%",s.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(s),document.body.appendChild(e);const t=s.offsetWidth;e.style.overflow="scroll";let r=s.offsetWidth;return t==r&&(r=e.clientWidth),document.body.removeChild(e),t-r}function Ym(s,e){let t;Array.isArray(e)||(e=[e]);for(const r of s)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const Xm={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Tu=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Xm[e]}setColor(e,t=!0){if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),de(e)===!0){if(ka(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(Cu(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");r={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(Ea(e)===!0){const o=fs(e);r={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:o}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const r=Pt(e.r,e.g,e.b),n=2*Math.PI,o=this.r*r.s,a=this.centerCoordinates.x+o*Math.sin(n*r.h),l=this.centerCoordinates.y+o*Math.cos(n*r.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Pt(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=hi(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){const t=Pt(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Sa(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,o,a,l;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const h=2*Math.PI/360,d=1/360,c=1/this.r;let u;for(a=0;a<360;a++)for(l=0;l<this.r;l++)n=this.centerCoordinates.x+l*Math.sin(h*a),o=this.centerCoordinates.y+l*Math.cos(h*a),u=hi(a*d,l*c,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=r-a,h=n-o,d=Math.atan2(l,h),c=.98*Math.min(Math.sqrt(l*l+h*h),a),u=Math.cos(d)*c+o,f=Math.sin(d)*c+a;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let m=d/(2*Math.PI);m=m<0?m+1:m;const g=c/this.r,b=Pt(this.color.r,this.color.g,this.color.b);b.h=m,b.s=g;const y=hi(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function ea(...s){if(s.length<1)throw new TypeError("Invalid arguments.");if(s.length===1)return document.createTextNode(s[0]);{const e=document.createElement(s[0]);return e.appendChild(ea(...s.slice(1))),e}}let Km=class{constructor(e,t,r,n=1,o=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Tu(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,r=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(ea("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;t!==void 0&&e.indexOf(t)!==-1&&(o=e.indexOf(t));for(let h=0;h<e.length;h++){const d=document.createElement("option");d.value=e[h],h===o&&(d.selected="selected"),d.innerText=e[h],n.appendChild(d)}const a=this;n.onchange=function(){a._update(this.value,r)};const l=this._makeLabel(r[r.length-1],r);this._makeItem(r,l,n)}_makeRange(e,t,r){const n=e[0],o=e[1],a=e[2],l=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=o,h.max=a}catch{}h.step=l;let d="",c=0;t!==void 0?(t<0&&t*1.2<o?(h.min=Math.ceil(t*1.2),c=h.min,d="range increased"):t/1.2<o&&(h.min=Math.ceil(t/1.2),c=h.min,d="range increased"),t*1.2>a&&a!==1&&(h.max=Math.ceil(t*1.2),c=h.max,d="range increased"),h.value=t):h.value=n;const u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=h.value;const f=this;h.onchange=function(){u.value=this.value,f._update(Number(this.value),r)},h.oninput=function(){u.value=this.value};const m=this._makeLabel(r[r.length-1],r),g=this._makeItem(r,m,h,u);d!==""&&this.popupHistory[g]!==c&&(this.popupHistory[g]=c,this._setupPopup(d,g))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const o=this;n.onchange=function(){o._update(this.checked,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeColorField(e,t,r){const n=e[1],o=document.createElement("div");t=t===void 0?n:t,t!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,o.onclick=()=>{this._showColorPicker(t,o,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,o)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const o="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=o,this._update(o,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1;const o=this.options.filter;let a=!1;for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){n=!0;const h=e[l],d=gi(t,l);if(typeof o=="function"&&(n=o(l,t),n===!1&&!Array.isArray(h)&&typeof h!="string"&&typeof h!="boolean"&&h instanceof Object&&(this.allowCreation=!1,n=this._handleObject(h,d,!0),this.allowCreation=r===!1)),n!==!1){a=!0;const c=this._getValue(d);if(Array.isArray(h))this._handleArray(h,c,d);else if(typeof h=="string")this._makeTextInput(h,c,d);else if(typeof h=="boolean")this._makeCheckbox(h,c,d);else if(h instanceof Object){if(!this.hideOption(t,l,this.moduleOptions))if(h.enabled!==void 0){const u=gi(d,"enabled"),f=this._getValue(u);if(f===!0){const m=this._makeLabel(l,d,!0);this._makeItem(d,m),a=this._handleObject(h,d)||a}else this._makeCheckbox(h,f,d)}else{const u=this._makeLabel(l,d,!0);this._makeItem(d,u),a=this._handleObject(h,d)||a}}else console.error("dont know how to handle",h,l,d)}}return a}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<t.length;o++)t[o]!=="global"&&(n[t[o]]===void 0&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ea("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},Qm=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let a=0,l=0;if(this.overflowMethod=="flip"){let h=!1,d=!0;this.y-t<this.padding&&(d=!1),this.x+r>o-this.padding&&(h=!0),h?a=this.x-r:a=this.x,d?l=this.y-t:l=this.y}else l=this.y-t,l+t+this.padding>n&&(l=n-t-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+r+this.padding>o&&(a=o-r-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Zt=!1,yl;const ta="background: #FFeeee; color: #dd0000";let Zm=class X{static validate(e,t,r){Zt=!1,yl=t;let n=t;return r!==void 0&&(n=t[r]),X.parse(e,n,[]),Zt}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&X.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){X.getSuggestion(e,r,n);return}let o=e,a=!0;r[e]===void 0&&r.__any__!==void 0&&(o="__any__",a=X.getType(t[e])==="object");let l=r[o];a&&l.__type__!==void 0&&(l=l.__type__),X.checkFields(e,t,r,o,l,n)}static checkFields(e,t,r,n,o,a){const l=function(c){console.error("%c"+c+X.printLocation(a,e),ta)},h=X.getType(t[e]),d=o[h];d!==void 0?X.getType(d)==="array"&&d.indexOf(t[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+X.print(d)+' not "'+t[e]+'". '),Zt=!0):h==="object"&&n!=="__any__"&&(a=gi(a,e),X.parse(t[e],r[n],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+X.print(Object.keys(o))+". Received ["+h+'] "'+t[e]+'"'),Zt=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=X.findInOptions(e,t,r,!1),o=X.findInOptions(e,yl,[],!0),a=8,l=4;let h;n.indexMatch!==void 0?h=" in "+X.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:o.distance<=l&&n.distance>o.distance?h=" in "+X.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+X.printLocation(o.path,o.closestMatch,""):n.distance<=a?h='. Did you mean "'+n.closestMatch+'"?'+X.printLocation(n.path,e):h=". Did you mean one of these: "+X.print(Object.keys(t))+X.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+h,ta),Zt=!0}static findInOptions(e,t,r,n=!1){let o=1e9,a="",l=[];const h=e.toLowerCase();let d;for(const c in t){let u;if(t[c].__type__!==void 0&&n===!0){const f=X.findInOptions(e,t[c],gi(r,c));o>f.distance&&(a=f.closestMatch,l=f.path,o=f.distance,d=f.indexMatch)}else c.toLowerCase().indexOf(h)!==-1&&(d=c),u=X.levenshteinDistance(e,c),o>u&&(a=c,l=_u(r),o=u)}return{closestMatch:a,path:l,distance:o,indexMatch:d}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)n+="  ";n+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)n+="  ";n+=t+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let o;for(o=0;o<=e.length;o++)r[0][o]=o;for(n=1;n<=t.length;n++)for(o=1;o<=e.length;o++)t.charAt(n-1)==e.charAt(o-1)?r[n][o]=r[n-1][o-1]:r[n][o]=Math.min(r[n-1][o-1]+1,Math.min(r[n][o-1]+1,r[n-1][o]+1));return r[t.length][e.length]}};const Jm=Ce,eg=Tu,tg=Km,ig=Sa,sg=Qm,rg=ta,ng=Zm,og=Object.freeze(Object.defineProperty({__proto__:null,Activator:Jm,Alea:am,ColorPicker:eg,Configurator:tg,DELETE:us,HSVToHex:Jo,HSVToRGB:hi,Hammer:ig,Popup:sg,RGBToHSV:Pt,RGBToHex:Da,VALIDATOR_PRINT_STYLE:rg,Validator:ng,addClassName:Em,addCssText:qm,binarySearchCustom:$m,binarySearchValue:Um,bridgeObject:Oa,copyAndExtendArray:gi,copyArray:_u,deepExtend:mi,deepObjectAssign:Ta,easingFunctions:Vm,equalArray:Cm,extend:ym,fillIfDefined:yu,forEach:Om,getAbsoluteLeft:Tm,getAbsoluteRight:Sm,getAbsoluteTop:Dm,getScrollBarWidth:Wm,getTarget:Rm,getType:ti,hasParent:Mm,hexToHSV:xu,hexToRGB:fs,insertSort:Bm,isDate:bm,isNumber:li,isObject:Zo,isString:de,isValidHex:Ea,isValidRGB:ka,isValidRGBA:Cu,mergeOptions:zm,option:jm,overrideOpacity:Fm,parseColor:Lm,preventDefault:Im,pureDeepObjectAssign:mu,recursiveDOMDelete:bu,removeClassName:km,removeCssText:Gm,selectiveBridgeObject:Hm,selectiveDeepExtend:wm,selectiveExtend:_m,selectiveNotDeepExtend:xm,throttle:Pm,toArray:Nm,topMost:Ym,updateProperty:Am},Symbol.toStringTag,{value:"Module"}));var zi,ag=new Uint8Array(16);function lg(){if(!zi&&(zi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(ag)}const hg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dg(s){return typeof s=="string"&&hg.test(s)}var Z=[];for(var Hs=0;Hs<256;++Hs)Z.push((Hs+256).toString(16).substr(1));function cg(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Z[s[e+0]]+Z[s[e+1]]+Z[s[e+2]]+Z[s[e+3]]+"-"+Z[s[e+4]]+Z[s[e+5]]+"-"+Z[s[e+6]]+Z[s[e+7]]+"-"+Z[s[e+8]]+Z[s[e+9]]+"-"+Z[s[e+10]]+Z[s[e+11]]+Z[s[e+12]]+Z[s[e+13]]+Z[s[e+14]]+Z[s[e+15]]).toLowerCase();if(!dg(t))throw TypeError("Stringified UUID is invalid");return t}function nt(s,e,t){s=s||{};var r=s.random||(s.rng||lg)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=r[n];return e}return cg(r)}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function Su(s){return new fg(s)}class ug{constructor(e,t,r){G(this,"_source");G(this,"_transformers");G(this,"_target");G(this,"_listeners",{add:this._add.bind(this),remove:this._remove.bind(this),update:this._update.bind(this)});this._source=e,this._transformers=t,this._target=r}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){return this._transformers.reduce((t,r)=>r(t),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class fg{constructor(e){G(this,"_source");G(this,"_transformers",[]);this._source=e}filter(e){return this._transformers.push(t=>t.filter(e)),this}map(e){return this._transformers.push(t=>t.map(e)),this}flatMap(e){return this._transformers.push(t=>t.flatMap(e)),this}to(e){return new ug(this._source,this._transformers,e)}}function ia(s){return typeof s=="string"||typeof s=="number"}class ps{constructor(e){G(this,"delay");G(this,"max");G(this,"_queue",[]);G(this,"_timeout",null);G(this,"_extended",null);this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new ps(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let o=0;o<t.replace.length;o++){const a=t.replace[o];n.push({name:a,original:e[a]}),r.replace(e,a)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(...o){r.queue({args:o,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout(()=>{this.flush()},this.delay))}flush(){this._queue.splice(0).forEach(e=>{e.fn.apply(e.context||e.fn,e.args||[])})}}class vi{constructor(){G(this,"_subscribers",{"*":[],add:[],remove:[],update:[]});G(this,"subscribe",vi.prototype.on);G(this,"unsubscribe",vi.prototype.off)}_trigger(e,t,r){if(e==="*")throw new Error("Cannot trigger event *");[...this._subscribers[e],...this._subscribers["*"]].forEach(n=>{n(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){this._subscribers[e]=this._subscribers[e].filter(r=>r!==t)}}class ze{constructor(e){G(this,"_pairs");this._pairs=e}*[Symbol.iterator](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){return[...this._pairs].map(e=>e[0])}toItemArray(){return[...this._pairs].map(e=>e[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Object.create(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new ze([...this._pairs])}distinct(e){const t=new Set;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new ze({*[Symbol.iterator](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new ze({*[Symbol.iterator](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=this._pairs[Symbol.iterator]();let r=t.next();if(r.done)return null;let n=r.value[1],o=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[a,l]=r.value,h=e(l,a);h>o&&(o=h,n=l)}return n}min(e){const t=this._pairs[Symbol.iterator]();let r=t.next();if(r.done)return null;let n=r.value[1],o=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[a,l]=r.value,h=e(l,a);h<o&&(o=h,n=l)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new ze({[Symbol.iterator]:()=>[...this._pairs].sort(([t,r],[n,o])=>e(r,o,t,n))[Symbol.iterator]()})}}function pg(s,e){return s[e]==null&&(s[e]=nt()),s}class ct extends vi{constructor(t,r){super();G(this,"flush");G(this,"length");G(this,"_options");G(this,"_data");G(this,"_idProp");G(this,"_queue",null);t&&!Array.isArray(t)&&(r=t,t=[]),this._options=r||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(r)}get idProp(){return this._idProp}setOptions(t){t&&t.queue!==void 0&&(t.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=ps.extend(this,{replace:["add","update","remove"]})),t.queue&&typeof t.queue=="object"&&this._queue.setOptions(t.queue)))}add(t,r){const n=[];let o;if(Array.isArray(t)){if(t.map(l=>l[this._idProp]).some(l=>this._data.has(l)))throw new Error("A duplicate id was found in the parameter array.");for(let l=0,h=t.length;l<h;l++)o=this._addItem(t[l]),n.push(o)}else if(t&&typeof t=="object")o=this._addItem(t),n.push(o);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(t,r){const n=[],o=[],a=[],l=[],h=this._idProp,d=c=>{const u=c[h];if(u!=null&&this._data.has(u)){const f=c,m=Object.assign({},this._data.get(u)),g=this._updateItem(f);o.push(g),l.push(f),a.push(m)}else{const f=this._addItem(c);n.push(f)}};if(Array.isArray(t))for(let c=0,u=t.length;c<u;c++)t[c]&&typeof t[c]=="object"?d(t[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(t&&typeof t=="object")d(t);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),o.length){const c={items:o,oldData:a,data:l};this._trigger("update",c,r)}return n.concat(o)}updateOnly(t,r){Array.isArray(t)||(t=[t]);const n=t.map(o=>{const a=this._data.get(o[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:o}}).map(({oldData:o,update:a})=>{const l=o[this._idProp],h=mu(o,a);return this._data.set(l,h),{id:l,oldData:o,updatedData:h}});if(n.length){const o={items:n.map(a=>a.id),oldData:n.map(a=>a.oldData),data:n.map(a=>a.updatedData)};return this._trigger("update",o,r),o.items}else return[]}get(t,r){let n,o,a;ia(t)?(n=t,a=r):Array.isArray(t)?(o=t,a=r):a=t;const l=a&&a.returnType==="Object"?"Object":"Array",h=a&&a.filter,d=[];let c,u,f;if(n!=null)c=this._data.get(n),c&&h&&!h(c)&&(c=void 0);else if(o!=null)for(let m=0,g=o.length;m<g;m++)c=this._data.get(o[m]),c!=null&&(!h||h(c))&&d.push(c);else{u=[...this._data.keys()];for(let m=0,g=u.length;m<g;m++)f=u[m],c=this._data.get(f),c!=null&&(!h||h(c))&&d.push(c)}if(a&&a.order&&n==null&&this._sort(d,a.order),a&&a.fields){const m=a.fields;if(n!=null&&c!=null)c=this._filterFields(c,m);else for(let g=0,b=d.length;g<b;g++)d[g]=this._filterFields(d[g],m)}if(l=="Object"){const m={};for(let g=0,b=d.length;g<b;g++){const y=d[g],_=y[this._idProp];m[_]=y}return m}else return n!=null?c??null:d}getIds(t){const r=this._data,n=t&&t.filter,o=t&&t.order,a=[...r.keys()],l=[];if(n)if(o){const h=[];for(let d=0,c=a.length;d<c;d++){const u=a[d],f=this._data.get(u);f!=null&&n(f)&&h.push(f)}this._sort(h,o);for(let d=0,c=h.length;d<c;d++)l.push(h[d][this._idProp])}else for(let h=0,d=a.length;h<d;h++){const c=a[h],u=this._data.get(c);u!=null&&n(u)&&l.push(u[this._idProp])}else if(o){const h=[];for(let d=0,c=a.length;d<c;d++){const u=a[d];h.push(r.get(u))}this._sort(h,o);for(let d=0,c=h.length;d<c;d++)l.push(h[d][this._idProp])}else for(let h=0,d=a.length;h<d;h++){const c=a[h],u=r.get(c);u!=null&&l.push(u[this._idProp])}return l}getDataSet(){return this}forEach(t,r){const n=r&&r.filter,a=[...this._data.keys()];if(r&&r.order){const l=this.get(r);for(let h=0,d=l.length;h<d;h++){const c=l[h],u=c[this._idProp];t(c,u)}}else for(let l=0,h=a.length;l<h;l++){const d=a[l],c=this._data.get(d);c!=null&&(!n||n(c))&&t(c,d)}}map(t,r){const n=r&&r.filter,o=[],l=[...this._data.keys()];for(let h=0,d=l.length;h<d;h++){const c=l[h],u=this._data.get(c);u!=null&&(!n||n(u))&&o.push(t(u,c))}return r&&r.order&&this._sort(o,r.order),o}_filterFields(t,r){return t&&(Array.isArray(r)?r:Object.keys(r)).reduce((n,o)=>(n[o]=t[o],n),{})}_sort(t,r){if(typeof r=="string"){const n=r;t.sort((o,a)=>{const l=o[n],h=a[n];return l>h?1:l<h?-1:0})}else if(typeof r=="function")t.sort(r);else throw new TypeError("Order must be a function or a string")}remove(t,r){const n=[],o=[],a=Array.isArray(t)?t:[t];for(let l=0,h=a.length;l<h;l++){const d=this._remove(a[l]);if(d){const c=d[this._idProp];c!=null&&(n.push(c),o.push(d))}}return n.length&&this._trigger("remove",{items:n,oldData:o},r),n}_remove(t){let r;if(ia(t)?r=t:t&&typeof t=="object"&&(r=t[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(t){const r=[...this._data.keys()],n=[];for(let o=0,a=r.length;o<a;o++)n.push(this._data.get(r[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},t),r}max(t){let r=null,n=null;for(const o of this._data.values()){const a=o[t];typeof a=="number"&&(n==null||a>n)&&(r=o,n=a)}return r||null}min(t){let r=null,n=null;for(const o of this._data.values()){const a=o[t];typeof a=="number"&&(n==null||a<n)&&(r=o,n=a)}return r||null}distinct(t){const r=this._data,n=[...r.keys()],o=[];let a=0;for(let l=0,h=n.length;l<h;l++){const d=n[l],u=r.get(d)[t];let f=!1;for(let m=0;m<a;m++)if(o[m]==u){f=!0;break}!f&&u!==void 0&&(o[a]=u,a++)}return o}_addItem(t){const r=pg(t,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(t){const r=t[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,{...n,...t}),r}stream(t){if(t){const r=this._data;return new ze({*[Symbol.iterator](){for(const n of t){const o=r.get(n);o!=null&&(yield[n,o])}}})}else return new ze({[Symbol.iterator]:this._data.entries.bind(this._data)})}}class ms extends vi{constructor(t,r){super();G(this,"length",0);G(this,"_listener");G(this,"_data");G(this,"_ids",new Set);G(this,"_options");this._options=r||{},this._listener=this._onEvent.bind(this),this.setData(t)}get idProp(){return this.getDataSet().idProp}setData(t){if(this._data){this._data.off&&this._data.off("*",this._listener);const r=this._data.getIds({filter:this._options.filter}),n=this._data.get(r);this._ids.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n})}if(t!=null){this._data=t;const r=this._data.getIds({filter:this._options.filter});for(let n=0,o=r.length;n<o;n++){const a=r[n];this._ids.add(a)}this.length=r.length,this._trigger("add",{items:r})}else this._data=new ct;this._data.on&&this._data.on("*",this._listener)}refresh(){const t=this._data.getIds({filter:this._options.filter}),r=[...this._ids],n={},o=[],a=[],l=[];for(let h=0,d=t.length;h<d;h++){const c=t[h];n[c]=!0,this._ids.has(c)||(o.push(c),this._ids.add(c))}for(let h=0,d=r.length;h<d;h++){const c=r[h],u=this._data.get(c);u==null?console.error("If you see this, report it please."):n[c]||(a.push(c),l.push(u),this._ids.delete(c))}this.length+=o.length-a.length,o.length&&this._trigger("add",{items:o}),a.length&&this._trigger("remove",{items:a,oldData:l})}get(t,r){if(this._data==null)return null;let n=null,o;ia(t)||Array.isArray(t)?(n=t,o=r):o=t;const a=Object.assign({},this._options,o),l=this._options.filter,h=o&&o.filter;return l&&h&&(a.filter=d=>l(d)&&h(d)),n==null?this._data.get(a):this._data.get(n,a)}getIds(t){if(this._data.length){const r=this._options.filter,n=t!=null?t.filter:null;let o;return n?r?o=a=>r(a)&&n(a):o=n:o=r,this._data.getIds({filter:o,order:t&&t.order})}else return[]}forEach(t,r){if(this._data){const n=this._options.filter,o=r&&r.filter;let a;o?n?a=function(l){return n(l)&&o(l)}:a=o:a=n,this._data.forEach(t,{filter:a,order:r&&r.order})}}map(t,r){if(this._data){const n=this._options.filter,o=r&&r.filter;let a;return o?n?a=l=>n(l)&&o(l):a=o:a=n,this._data.map(t,{filter:a,order:r&&r.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(t){return this._data.stream(t||{[Symbol.iterator]:this._ids.keys.bind(this._ids)})}dispose(){var n;(n=this._data)!=null&&n.off&&this._data.off("*",this._listener);const t="This data view has already been disposed of.",r={get:()=>{throw new Error(t)},set:()=>{throw new Error(t)},configurable:!1};for(const o of Reflect.ownKeys(ms.prototype))Object.defineProperty(this,o,r)}_onEvent(t,r,n){if(!r||!r.items||!this._data)return;const o=r.items,a=[],l=[],h=[],d=[],c=[],u=[];switch(t){case"add":for(let f=0,m=o.length;f<m;f++){const g=o[f];this.get(g)&&(this._ids.add(g),a.push(g))}break;case"update":for(let f=0,m=o.length;f<m;f++){const g=o[f];this.get(g)?this._ids.has(g)?(l.push(g),c.push(r.data[f]),d.push(r.oldData[f])):(this._ids.add(g),a.push(g)):this._ids.has(g)&&(this._ids.delete(g),h.push(g),u.push(r.oldData[f]))}break;case"remove":for(let f=0,m=o.length;f<m;f++){const g=o[f];this._ids.has(g)&&(this._ids.delete(g),h.push(g),u.push(r.oldData[f]))}break}this.length+=a.length-h.length,a.length&&this._trigger("add",{items:a},n),l.length&&this._trigger("update",{items:l,oldData:d,data:c},n),h.length&&this._trigger("remove",{items:h,oldData:u},n)}}function Du(s,e){return typeof e=="object"&&e!==null&&s===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Eu(s,e){return typeof e=="object"&&e!==null&&s===e.idProp&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Du(s,e.getDataSet())}const mg=Object.freeze(Object.defineProperty({__proto__:null,DELETE:us,DataSet:ct,DataStream:ze,DataView:ms,Queue:ps,createNewDataPipeFrom:Su,isDataSetLike:Du,isDataViewLike:Eu},Symbol.toStringTag,{value:"Module"})),gg=ut(mg);var sa={exports:{}},Y={},ra={exports:{}},pt={};function ku(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function vg(s,e,t){}function bg(s,e,t){}var yg=/javascript\s*\:/img;function _g(s,e){return yg.test(e)?"":e}pt.whiteList=ku();pt.getDefaultWhiteList=ku;pt.onAttr=vg;pt.onIgnoreAttr=bg;pt.safeAttrValue=_g;var wg={indexOf:function(s,e){var t,r;if(Array.prototype.indexOf)return s.indexOf(e);for(t=0,r=s.length;t<r;t++)if(s[t]===e)return t;return-1},forEach:function(s,e,t){var r,n;if(Array.prototype.forEach)return s.forEach(e,t);for(r=0,n=s.length;r<n;r++)e.call(t,s[r],r,s)},trim:function(s){return String.prototype.trim?s.trim():s.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(s){return String.prototype.trimRight?s.trimRight():s.replace(/(\s*$)/g,"")}},Jt=wg;function xg(s,e){s=Jt.trimRight(s),s[s.length-1]!==";"&&(s+=";");var t=s.length,r=!1,n=0,o=0,a="";function l(){if(!r){var c=Jt.trim(s.slice(n,o)),u=c.indexOf(":");if(u!==-1){var f=Jt.trim(c.slice(0,u)),m=Jt.trim(c.slice(u+1));if(f){var g=e(n,a.length,f,m,c);g&&(a+=g+"; ")}}}n=o+1}for(;o<t;o++){var h=s[o];if(h==="/"&&s[o+1]==="*"){var d=s.indexOf("*/",o+2);if(d===-1)break;o=d+1,n=o+1,r=!1}else h==="("?r=!0:h===")"?r=!1:h===";"?r||l():h===`
`&&l()}return Jt.trim(a)}var Cg=xg,$i=pt,Tg=Cg;function _l(s){return s==null}function Sg(s){var e={};for(var t in s)e[t]=s[t];return e}function Ou(s){s=Sg(s||{}),s.whiteList=s.whiteList||$i.whiteList,s.onAttr=s.onAttr||$i.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||$i.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||$i.safeAttrValue,this.options=s}Ou.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var e=this,t=e.options,r=t.whiteList,n=t.onAttr,o=t.onIgnoreAttr,a=t.safeAttrValue,l=Tg(s,function(h,d,c,u,f){var m=r[c],g=!1;if(m===!0?g=m:typeof m=="function"?g=m(u):m instanceof RegExp&&(g=m.test(u)),g!==!0&&(g=!1),u=a(c,u),!!u){var b={position:d,sourcePosition:h,source:f,isWhite:g};if(g){var y=n(c,u,b);return _l(y)?c+":"+u:y}else{var y=o(c,u,b);if(!_l(y))return y}}});return l};var Dg=Ou;(function(s,e){var t=pt,r=Dg;function n(a,l){var h=new r(l);return h.process(a)}e=s.exports=n,e.FilterCSS=r;for(var o in t)e[o]=t[o];typeof window<"u"&&(window.filterCSS=s.exports)})(ra,ra.exports);var Na=ra.exports,Aa={indexOf:function(s,e){var t,r;if(Array.prototype.indexOf)return s.indexOf(e);for(t=0,r=s.length;t<r;t++)if(s[t]===e)return t;return-1},forEach:function(s,e,t){var r,n;if(Array.prototype.forEach)return s.forEach(e,t);for(r=0,n=s.length;r<n;r++)e.call(t,s[r],r,s)},trim:function(s){return String.prototype.trim?s.trim():s.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(s){var e=/\s|\n|\t/,t=e.exec(s);return t?t.index:-1}},Eg=Na.FilterCSS,kg=Na.getDefaultWhiteList,ss=Aa;function Nu(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Au=new Eg;function Og(s,e,t){}function Ng(s,e,t){}function Ag(s,e,t){}function Pg(s,e,t){}function Pu(s){return s.replace(Rg,"&lt;").replace(Mg,"&gt;")}function Ig(s,e,t,r){if(t=Lu(t),e==="href"||e==="src"){if(t=ss.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(e==="background"){if(Ui.lastIndex=0,Ui.test(t))return""}else if(e==="style"){if(wl.lastIndex=0,wl.test(t)||(xl.lastIndex=0,xl.test(t)&&(Ui.lastIndex=0,Ui.test(t))))return"";r!==!1&&(r=r||Au,t=r.process(t))}return t=qu(t),t}var Rg=/</g,Mg=/>/g,jg=/"/g,Fg=/&quot;/g,Lg=/&#([a-zA-Z0-9]*);?/gim,qg=/&colon;?/gim,Gg=/&newline;?/gim,Ui=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,wl=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,xl=/u\s*r\s*l\s*\(.*/gi;function Iu(s){return s.replace(jg,"&quot;")}function Ru(s){return s.replace(Fg,'"')}function Mu(s){return s.replace(Lg,function(t,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function ju(s){return s.replace(qg,":").replace(Gg," ")}function Fu(s){for(var e="",t=0,r=s.length;t<r;t++)e+=s.charCodeAt(t)<32?" ":s.charAt(t);return ss.trim(e)}function Lu(s){return s=Ru(s),s=Mu(s),s=ju(s),s=Fu(s),s}function qu(s){return s=Iu(s),s=Pu(s),s}function Hg(){return""}function Bg(s,e){typeof e!="function"&&(e=function(){});var t=!Array.isArray(s);function r(a){return t?!0:ss.indexOf(s,a)!==-1}var n=[],o=!1;return{onIgnoreTag:function(a,l,h){if(r(a))if(h.isClosing){var d="[/removed]",c=h.position+d.length;return n.push([o!==!1?o:h.position,c]),o=!1,d}else return o||(o=h.position),"[removed]";else return e(a,l,h)},remove:function(a){var l="",h=0;return ss.forEach(n,function(d){l+=a.slice(h,d[0]),h=d[1]}),l+=a.slice(h),l}}}function zg(s){for(var e="",t=0;t<s.length;){var r=s.indexOf("<!--",t);if(r===-1){e+=s.slice(t);break}e+=s.slice(t,r);var n=s.indexOf("-->",r);if(n===-1)break;t=n+3}return e}function $g(s){var e=s.split("");return e=e.filter(function(t){var r=t.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}Y.whiteList=Nu();Y.getDefaultWhiteList=Nu;Y.onTag=Og;Y.onIgnoreTag=Ng;Y.onTagAttr=Ag;Y.onIgnoreTagAttr=Pg;Y.safeAttrValue=Ig;Y.escapeHtml=Pu;Y.escapeQuote=Iu;Y.unescapeQuote=Ru;Y.escapeHtmlEntities=Mu;Y.escapeDangerHtml5Entities=ju;Y.clearNonPrintableCharacter=Fu;Y.friendlyAttrValue=Lu;Y.escapeAttrValue=qu;Y.onIgnoreTagStripAll=Hg;Y.StripTagBody=Bg;Y.stripCommentTag=zg;Y.stripBlankChar=$g;Y.cssFilter=Au;Y.getDefaultCSSWhiteList=kg;var gs={},Ge=Aa;function Ug(s){var e=Ge.spaceIndex(s),t;return e===-1?t=s.slice(1,-1):t=s.slice(1,e+1),t=Ge.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function Vg(s){return s.slice(0,2)==="</"}function Wg(s,e,t){var r="",n=0,o=!1,a=!1,l=0,h=s.length,d="",c="";e:for(l=0;l<h;l++){var u=s.charAt(l);if(o===!1){if(u==="<"){o=l;continue}}else if(a===!1){if(u==="<"){r+=t(s.slice(n,l)),o=l,n=l;continue}if(u===">"||l===h-1){r+=t(s.slice(n,o)),c=s.slice(o,l+1),d=Ug(c),r+=e(o,r.length,d,c,Vg(c)),n=l+1,o=!1;continue}if(u==='"'||u==="'")for(var f=1,m=s.charAt(l-f);m.trim()===""||m==="=";){if(m==="="){a=u;continue e}m=s.charAt(l-++f)}}else if(u===a){a=!1;continue}}return n<h&&(r+=t(s.substr(n))),r}var Yg=/[^a-zA-Z0-9\\_:.-]/gim;function Xg(s,e){var t=0,r=0,n=[],o=!1,a=s.length;function l(f,m){if(f=Ge.trim(f),f=f.replace(Yg,"").toLowerCase(),!(f.length<1)){var g=e(f,m||"");g&&n.push(g)}}for(var h=0;h<a;h++){var d=s.charAt(h),c,u;if(o===!1&&d==="="){o=s.slice(t,h),t=h+1,r=s.charAt(t)==='"'||s.charAt(t)==="'"?t:Qg(s,h+1);continue}if(o!==!1&&h===r){if(u=s.indexOf(d,h+1),u===-1)break;c=Ge.trim(s.slice(r+1,u)),l(o,c),o=!1,h=u,t=h+1;continue}if(/\s|\n|\t/.test(d))if(s=s.replace(/\s|\n|\t/g," "),o===!1)if(u=Kg(s,h),u===-1){c=Ge.trim(s.slice(t,h)),l(c),o=!1,t=h+1;continue}else{h=u-1;continue}else if(u=Zg(s,h-1),u===-1){c=Ge.trim(s.slice(t,h)),c=Cl(c),l(o,c),o=!1,t=h+1;continue}else continue}return t<s.length&&(o===!1?l(s.slice(t)):l(o,Cl(Ge.trim(s.slice(t))))),Ge.trim(n.join(" "))}function Kg(s,e){for(;e<s.length;e++){var t=s[e];if(t!==" ")return t==="="?e:-1}}function Qg(s,e){for(;e<s.length;e++){var t=s[e];if(t!==" ")return t==="'"||t==='"'?e:-1}}function Zg(s,e){for(;e>0;e--){var t=s[e];if(t!==" ")return t==="="?e:-1}}function Jg(s){return s[0]==='"'&&s[s.length-1]==='"'||s[0]==="'"&&s[s.length-1]==="'"}function Cl(s){return Jg(s)?s.substr(1,s.length-2):s}gs.parseTag=Wg;gs.parseAttr=Xg;var ev=Na.FilterCSS,be=Y,Gu=gs,tv=Gu.parseTag,iv=Gu.parseAttr,Qi=Aa;function Vi(s){return s==null}function sv(s){var e=Qi.spaceIndex(s);if(e===-1)return{html:"",closing:s[s.length-2]==="/"};s=Qi.trim(s.slice(e+1,-1));var t=s[s.length-1]==="/";return t&&(s=Qi.trim(s.slice(0,-1))),{html:s,closing:t}}function rv(s){var e={};for(var t in s)e[t]=s[t];return e}function nv(s){var e={};for(var t in s)Array.isArray(s[t])?e[t.toLowerCase()]=s[t].map(function(r){return r.toLowerCase()}):e[t.toLowerCase()]=s[t];return e}function Hu(s){s=rv(s||{}),s.stripIgnoreTag&&(s.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),s.onIgnoreTag=be.onIgnoreTagStripAll),s.whiteList||s.allowList?s.whiteList=nv(s.whiteList||s.allowList):s.whiteList=be.whiteList,s.onTag=s.onTag||be.onTag,s.onTagAttr=s.onTagAttr||be.onTagAttr,s.onIgnoreTag=s.onIgnoreTag||be.onIgnoreTag,s.onIgnoreTagAttr=s.onIgnoreTagAttr||be.onIgnoreTagAttr,s.safeAttrValue=s.safeAttrValue||be.safeAttrValue,s.escapeHtml=s.escapeHtml||be.escapeHtml,this.options=s,s.css===!1?this.cssFilter=!1:(s.css=s.css||{},this.cssFilter=new ev(s.css))}Hu.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var e=this,t=e.options,r=t.whiteList,n=t.onTag,o=t.onIgnoreTag,a=t.onTagAttr,l=t.onIgnoreTagAttr,h=t.safeAttrValue,d=t.escapeHtml,c=e.cssFilter;t.stripBlankChar&&(s=be.stripBlankChar(s)),t.allowCommentTag||(s=be.stripCommentTag(s));var u=!1;t.stripIgnoreTagBody&&(u=be.StripTagBody(t.stripIgnoreTagBody,o),o=u.onIgnoreTag);var f=tv(s,function(m,g,b,y,_){var w={sourcePosition:m,position:g,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(r,b)},x=n(b,y,w);if(!Vi(x))return x;if(w.isWhite){if(w.isClosing)return"</"+b+">";var D=sv(y),T=r[b],S=iv(D.html,function(E,A){var $=Qi.indexOf(T,E)!==-1,le=a(b,E,A,$);return Vi(le)?$?(A=h(b,E,A,c),A?E+'="'+A+'"':E):(le=l(b,E,A,$),Vi(le)?void 0:le):le});return y="<"+b,S&&(y+=" "+S),D.closing&&(y+=" /"),y+=">",y}else return x=o(b,y,w),Vi(x)?d(y):x},d);return u&&(f=u.remove(f)),f};var ov=Hu;(function(s,e){var t=Y,r=gs,n=ov;function o(l,h){var d=new n(h);return d.process(l)}e=s.exports=o,e.filterXSS=o,e.FilterXSS=n,function(){for(var l in t)e[l]=t[l];for(var h in r)e[h]=r[h]}(),typeof window<"u"&&(window.filterXSS=s.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=s.exports)})(sa,sa.exports);var av=sa.exports;const lv=ls(av);var Wi=null;function na(s,e){var t=e||{preventDefault:!1};if(s.Manager){var r=s,n=function(d,c){var u=Object.create(t);return c&&r.assign(u,c),na(new r(d,u),u)};return r.assign(n,r),n.Manager=function(d,c){var u=Object.create(t);return c&&r.assign(u,c),na(new r.Manager(d,u),u)},n}var o=Object.create(s),a=s.element;a.hammer||(a.hammer=[]),a.hammer.push(o),s.on("hammer.input",function(d){(t.preventDefault===!0||t.preventDefault===d.pointerType)&&d.preventDefault(),d.isFirst&&(Wi=d.target)}),o._handlers={},o.on=function(d,c){return l(d).forEach(function(u){var f=o._handlers[u];f||(o._handlers[u]=f=[],s.on(u,h)),f.push(c)}),o},o.off=function(d,c){return l(d).forEach(function(u){var f=o._handlers[u];f&&(f=c?f.filter(function(m){return m!==c}):[],f.length>0?o._handlers[u]=f:(s.off(u,h),delete o._handlers[u]))}),o},o.emit=function(d,c){Wi=c.target,s.emit(d,c)},o.destroy=function(){var d=s.element.hammer,c=d.indexOf(o);c!==-1&&d.splice(c,1),d.length||delete s.element.hammer,o._handlers={},s.destroy()};function l(d){return d.match(/[^ ]+/g)}function h(d){if(d.type!=="hammer.input"){if(d.srcEvent._handled||(d.srcEvent._handled={}),d.srcEvent._handled[d.type])return;d.srcEvent._handled[d.type]=!0}var c=!1;d.stopPropagation=function(){c=!0};var u=d.srcEvent.stopPropagation.bind(d.srcEvent);typeof u=="function"&&(d.srcEvent.stopPropagation=function(){u(),d.stopPropagation()}),d.firstTarget=Wi;for(var f=Wi;f&&!c;){var m=f.hammer;if(m){for(var g,b=0;b<m.length;b++)if(g=m[b]._handlers[d.type],g)for(var y=0;y<g.length&&!c;y++)g[y](d)}f=f.parentNode}}return o}var Bu={exports:{}};(function(s,e){(function(t,r){s.exports=r()})(ie,function(){function t(r){var n=r&&r.preventDefault||!1,o=r&&r.container||window,a={},l={keydown:{},keyup:{}},h={},d;for(d=97;d<=122;d++)h[String.fromCharCode(d)]={code:65+(d-97),shift:!1};for(d=65;d<=90;d++)h[String.fromCharCode(d)]={code:d,shift:!0};for(d=0;d<=9;d++)h[""+d]={code:48+d,shift:!1};for(d=1;d<=12;d++)h["F"+d]={code:111+d,shift:!1};for(d=0;d<=9;d++)h["num"+d]={code:96+d,shift:!1};h["num*"]={code:106,shift:!1},h["num+"]={code:107,shift:!1},h["num-"]={code:109,shift:!1},h["num/"]={code:111,shift:!1},h["num."]={code:110,shift:!1},h.left={code:37,shift:!1},h.up={code:38,shift:!1},h.right={code:39,shift:!1},h.down={code:40,shift:!1},h.space={code:32,shift:!1},h.enter={code:13,shift:!1},h.shift={code:16,shift:void 0},h.esc={code:27,shift:!1},h.backspace={code:8,shift:!1},h.tab={code:9,shift:!1},h.ctrl={code:17,shift:!1},h.alt={code:18,shift:!1},h.delete={code:46,shift:!1},h.pageup={code:33,shift:!1},h.pagedown={code:34,shift:!1},h["="]={code:187,shift:!1},h["-"]={code:189,shift:!1},h["]"]={code:221,shift:!1},h["["]={code:219,shift:!1};var c=function(m){f(m,"keydown")},u=function(m){f(m,"keyup")},f=function(m,g){if(l[g][m.keyCode]!==void 0){for(var b=l[g][m.keyCode],y=0;y<b.length;y++)(b[y].shift===void 0||b[y].shift==!0&&m.shiftKey==!0||b[y].shift==!1&&m.shiftKey==!1)&&b[y].fn(m);n==!0&&m.preventDefault()}};return a.bind=function(m,g,b){if(b===void 0&&(b="keydown"),h[m]===void 0)throw new Error("unsupported key: "+m);l[b][h[m].code]===void 0&&(l[b][h[m].code]=[]),l[b][h[m].code].push({fn:g,shift:h[m].shift})},a.bindAll=function(m,g){g===void 0&&(g="keydown");for(var b in h)h.hasOwnProperty(b)&&a.bind(b,m,g)},a.getKey=function(m){for(var g in h)if(h.hasOwnProperty(g)){if(m.shiftKey==!0&&h[g].shift==!0&&m.keyCode==h[g].code)return g;if(m.shiftKey==!1&&h[g].shift==!1&&m.keyCode==h[g].code)return g;if(m.keyCode==h[g].code&&g=="shift")return g}return"unknown key, currently not supported"},a.unbind=function(m,g,b){if(b===void 0&&(b="keydown"),h[m]===void 0)throw new Error("unsupported key: "+m);if(g!==void 0){var y=[],_=l[b][h[m].code];if(_!==void 0)for(var w=0;w<_.length;w++)_[w].fn==g&&_[w].shift==h[m].shift||y.push(l[b][h[m].code][w]);l[b][h[m].code]=y}else l[b][h[m].code]=[]},a.reset=function(){l={keydown:{},keyup:{}}},a.destroy=function(){l={keydown:{},keyup:{}},o.removeEventListener("keydown",c,!0),o.removeEventListener("keyup",u,!0)},o.addEventListener("keydown",c,!0),o.addEventListener("keyup",u,!0),a}return t})})(Bu);var hv=Bu.exports;const dv=ls(hv);/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 7.7.3
 * @date    2023-10-27T17:57:57.604Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function cv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uv=typeof window<"u"&&window.moment||B,ne=cv(uv);function Pe(s){if(!s)return!1;let e=s.idProp??s._idProp;return e?Eu(e,s):!1}const Bs=/^\/?Date\((-?\d+)/i,fv=/^\d+$/;function Pa(s,e){let t;if(s!==void 0){if(s===null)return null;if(!e)return s;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!s;case"number":case"Number":return de(s)&&!isNaN(Date.parse(s))?B(s).valueOf():Number(s.valueOf());case"string":case"String":return String(s);case"Date":try{return Pa(s,"Moment").toDate()}catch(r){throw r instanceof TypeError?new TypeError("Cannot convert object of type "+ti(s)+" to type "+e):r}case"Moment":if(li(s))return B(s);if(s instanceof Date)return B(s.valueOf());if(B.isMoment(s))return B(s);if(de(s))return t=Bs.exec(s),t?B(Number(t[1])):(t=fv.exec(s),t?B(Number(s)):B(s));throw new TypeError("Cannot convert object of type "+ti(s)+" to type "+e);case"ISODate":if(li(s))return new Date(s);if(s instanceof Date)return s.toISOString();if(B.isMoment(s))return s.toDate().toISOString();if(de(s))return t=Bs.exec(s),t?new Date(Number(t[1])).toISOString():B(s).format();throw new Error("Cannot convert object of type "+ti(s)+" to type ISODate");case"ASPDate":if(li(s))return"/Date("+s+")/";if(s instanceof Date||B.isMoment(s))return"/Date("+s.valueOf()+")/";if(de(s)){t=Bs.exec(s);let r;return t?r=new Date(Number(t[1])).valueOf():r=new Date(s).valueOf(),"/Date("+r+")/"}else throw new Error("Cannot convert object of type "+ti(s)+" to type ASPDate");default:throw new Error(`Unknown type ${e}`)}}}function Ft(s,e={start:"Date",end:"Date"}){const t=s._idProp,r=new ct({fieldId:t}),n=Su(s).map(o=>Object.keys(o).reduce((a,l)=>(a[l]=Pa(o[l],e[l]),a),{})).to(r);return n.all().start(),{add:(...o)=>s.getDataSet().add(...o),remove:(...o)=>s.getDataSet().remove(...o),update:(...o)=>s.getDataSet().update(...o),updateOnly:(...o)=>s.getDataSet().updateOnly(...o),clear:(...o)=>s.getDataSet().clear(...o),forEach:r.forEach.bind(r),get:r.get.bind(r),getIds:r.getIds.bind(r),off:r.off.bind(r),on:r.on.bind(r),get length(){return r.length},idProp:t,type:e,rawDS:s,coercedDS:r,dispose:()=>n.stop()}}const zu=s=>{const e=new lv.FilterXSS(s);return t=>e.process(t)},pv=s=>s;let oa=zu();const mv=s=>{s&&(s.disabled===!0?(oa=pv,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):s.filterOptions&&(oa=zu(s.filterOptions)))},v={...og,convert:Pa,setupXSSProtection:mv};Object.defineProperty(v,"xss",{get:function(){return oa}});class Ie{constructor(e,t){this.options=null,this.props=null}setOptions(e){e&&v.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}function vs(s,e,t){if(t&&!Array.isArray(t))return vs(s,e,[t]);if(e.hiddenDates=[],t&&Array.isArray(t)==!0){for(let r=0;r<t.length;r++)if(t[r].repeat===void 0){const n={};n.start=s(t[r].start).toDate().valueOf(),n.end=s(t[r].end).toDate().valueOf(),e.hiddenDates.push(n)}e.hiddenDates.sort((r,n)=>r.start-n.start)}}function bi(s,e,t){if(t&&!Array.isArray(t))return bi(s,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){vs(s,e,t);const r=s(e.range.start),n=s(e.range.end),a=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let u=0;u<t.length;u++)if(t[u].repeat!==void 0){const f=s(t[u].start);let m=s(t[u].end);if(f._d=="Invalid Date")throw new Error(`Supplied start date is not valid: ${t[u].start}`);if(m._d=="Invalid Date")throw new Error(`Supplied end date is not valid: ${t[u].end}`);if(m-f>=4*a){let b=0;const y=n.clone();switch(t[u].repeat){case"daily":f.day()!=m.day()&&(b=1),f.dayOfYear(r.dayOfYear()),f.year(r.year()),f.subtract(7,"days"),m.dayOfYear(r.dayOfYear()),m.year(r.year()),m.subtract(7-b,"days"),y.add(1,"weeks");break;case"weekly":{const _=m.diff(f,"days"),w=f.day();f.date(r.date()),f.month(r.month()),f.year(r.year()),m=f.clone(),f.day(w),m.day(w),m.add(_,"days"),f.subtract(1,"weeks"),m.subtract(1,"weeks"),y.add(1,"weeks");break}case"monthly":f.month()!=m.month()&&(b=1),f.month(r.month()),f.year(r.year()),f.subtract(1,"months"),m.month(r.month()),m.year(r.year()),m.subtract(1,"months"),m.add(b,"months"),y.add(1,"months");break;case"yearly":f.year()!=m.year()&&(b=1),f.year(r.year()),f.subtract(1,"years"),m.year(r.year()),m.subtract(1,"years"),m.add(b,"years"),y.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[u].repeat);return}for(;f<y;)switch(e.hiddenDates.push({start:f.valueOf(),end:m.valueOf()}),t[u].repeat){case"daily":f.add(1,"days"),m.add(1,"days");break;case"weekly":f.add(1,"weeks"),m.add(1,"weeks");break;case"monthly":f.add(1,"months"),m.add(1,"months");break;case"yearly":f.add(1,"y"),m.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[u].repeat);return}e.hiddenDates.push({start:f.valueOf(),end:m.valueOf()})}}$u(e);const l=_i(e.range.start,e.hiddenDates),h=_i(e.range.end,e.hiddenDates);let d=e.range.start,c=e.range.end;l.hidden==!0&&(d=e.range.startToFront==!0?l.startDate-1:l.endDate+1),h.hidden==!0&&(c=e.range.endToFront==!0?h.startDate-1:h.endDate+1),(l.hidden==!0||h.hidden==!0)&&e.range._applyRange(d,c)}}function $u(s){const e=s.hiddenDates,t=[];for(var r=0;r<e.length;r++)for(let n=0;n<e.length;n++)r!=n&&e[n].remove!=!0&&e[r].remove!=!0&&(e[n].start>=e[r].start&&e[n].end<=e[r].end?e[n].remove=!0:e[n].start>=e[r].start&&e[n].start<=e[r].end?(e[r].end=e[n].end,e[n].remove=!0):e[n].end>=e[r].start&&e[n].end<=e[r].end&&(e[r].start=e[n].start,e[n].remove=!0));for(r=0;r<e.length;r++)e[r].remove!==!0&&t.push(e[r]);s.hiddenDates=t,s.hiddenDates.sort((n,o)=>n.start-o.start)}function gv(s){for(let e=0;e<s.length;e++)console.log(e,new Date(s[e].start),new Date(s[e].end),s[e].start,s[e].end,s[e].remove)}function Uu(s,e,t){let r=!1;const n=e.current.valueOf();for(let a=0;a<e.hiddenDates.length;a++){const l=e.hiddenDates[a].start;var o=e.hiddenDates[a].end;if(n>=l&&n<o){r=!0;break}}if(r==!0&&n<e._end.valueOf()&&n!=t){const a=s(t),l=s(o);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}}function aa(s,e,t){let r;if(s.body.hiddenDates.length==0)return r=s.range.conversion(t),(e.valueOf()-r.offset)*r.scale;{const n=_i(e,s.body.hiddenDates);n.hidden==!0&&(e=n.startDate);const o=It(s.body.hiddenDates,s.range.start,s.range.end);if(e<s.range.start){r=s.range.conversion(t,o);const a=Vu(s.body.hiddenDates,e,r.offset);return e=s.options.moment(e).toDate().valueOf(),e=e+a,-(r.offset-e.valueOf())*r.scale}else if(e>s.range.end){const a={start:s.range.start,end:e};return e=ha(s.options.moment,s.body.hiddenDates,a,e),r=s.range.conversion(t,o),(e.valueOf()-r.offset)*r.scale}else return e=ha(s.options.moment,s.body.hiddenDates,s.range,e),r=s.range.conversion(t,o),(e.valueOf()-r.offset)*r.scale}}function la(s,e,t){if(s.body.hiddenDates.length==0){const r=s.range.conversion(t);return new Date(e/r.scale+r.offset)}else{const r=It(s.body.hiddenDates,s.range.start,s.range.end),o=(s.range.end-s.range.start-r)*e/t,a=Wu(s.body.hiddenDates,s.range,o);return new Date(a+o+s.range.start)}}function It(s,e,t){let r=0;for(let n=0;n<s.length;n++){const o=s[n].start,a=s[n].end;o>=e&&a<t&&(r+=a-o)}return r}function Vu(s,e,t){let r=0;for(let n=0;n<s.length;n++){const o=s[n].start,a=s[n].end;o>=e&&a<=t&&(r+=a-o)}return r}function ha(s,e,t,r){return r=s(r).toDate().valueOf(),r-=yi(s,e,t,r),r}function yi(s,e,t,r){let n=0;r=s(r).toDate().valueOf();for(let o=0;o<e.length;o++){const a=e[o].start,l=e[o].end;a>=t.start&&l<t.end&&r>=l&&(n+=l-a)}return n}function Wu(s,e,t){let r=0,n=0,o=e.start;for(let a=0;a<s.length;a++){const l=s[a].start,h=s[a].end;if(l>=e.start&&h<e.end){if(n+=l-o,o=h,n>=t)break;r+=h-l}}return r}function He(s,e,t,r){const n=_i(e,s);return n.hidden==!0?t<0?r==!0?n.startDate-(n.endDate-e)-1:n.startDate-1:r==!0?n.endDate+(e-n.startDate)+1:n.endDate+1:e}function _i(s,e){for(let n=0;n<e.length;n++){var t=e[n].start,r=e[n].end;if(s>=t&&s<r)return{hidden:!0,startDate:t,endDate:r}}return{hidden:!1,startDate:t,endDate:r}}var vv=Object.freeze({__proto__:null,convertHiddenOptions:vs,correctTimeForHidden:ha,getAccumulatedHiddenDuration:Wu,getHiddenDurationBefore:yi,getHiddenDurationBeforeStart:Vu,getHiddenDurationBetween:It,getIsHidden:_i,printDates:gv,removeDuplicates:$u,snapAwayFromHidden:He,stepOverHiddenDates:Uu,toScreen:aa,toTime:la,updateHiddenDates:bi});class Ei extends Ie{constructor(e,t){super();const r=ne().hours(0).minutes(0).seconds(0).milliseconds(0),n=r.clone().add(-3,"days").valueOf(),o=r.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=n,this.end=o):(this.start=t.start||n,this.end=t.end||o),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:ne,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=v.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"];v.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let r=e.end-e.start;const n=v.convert(new Date,"Date").valueOf(),o=e.options.rollingMode&&e.options.rollingMode.offset||.5,a=n-r*o,l=n+r*(1-o),h={animation:!1};e.setRange(a,l,h),r=1/e.conversion(e.body.domProps.center.width).scale/10,r<30&&(r=30),r>1e3&&(r=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,r)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,r,n,o){r||(r={}),r.byUser!==!0&&(r.byUser=!1);const a=this,l=e!=null?v.convert(e,"Date").valueOf():null,h=t!=null?v.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,r.animation){const c=this.start,u=this.end,f=typeof r.animation=="object"&&"duration"in r.animation?r.animation.duration:500,m=typeof r.animation=="object"&&"easingFunction"in r.animation?r.animation.easingFunction:"easeInOutQuad",g=v.easingFunctions[m];if(!g)throw new Error(`Unknown easing function ${JSON.stringify(m)}. Choose from: ${Object.keys(v.easingFunctions).join(", ")}`);const b=Date.now();let y=!1;const _=()=>{if(!a.props.touch.dragging){const x=Date.now()-b,D=g(x/f),T=x>f,S=T||l===null?l:c+(l-c)*D,E=T||h===null?h:u+(h-u)*D;d=a._applyRange(S,E),bi(a.options.moment,a.body,a.options.hiddenDates),y=y||d;const A={start:new Date(a.start),end:new Date(a.end),byUser:r.byUser,event:r.event};if(o&&o(D,d,T),d&&a.body.emitter.emit("rangechange",A),T){if(y&&(a.body.emitter.emit("rangechanged",A),n))return n()}else a.animationTimer=setTimeout(_,20)}};return _()}else{var d=this._applyRange(l,h);if(bi(this.options.moment,this.body,this.options.hiddenDates),d){const c={start:new Date(this.start),end:new Date(this.end),byUser:r.byUser,event:r.event};if(this.body.emitter.emit("rangechange",c),clearTimeout(a.timeoutID),a.timeoutID=setTimeout(()=>{a.body.emitter.emit("rangechanged",c)},200),n)return n()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let r=e!=null?v.convert(e,"Date").valueOf():this.start,n=t!=null?v.convert(t,"Date").valueOf():this.end;const o=this.options.max!=null?v.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?v.convert(this.options.min,"Date").valueOf():null;let l;if(isNaN(r)||r===null)throw new Error(`Invalid start "${e}"`);if(isNaN(n)||n===null)throw new Error(`Invalid end "${t}"`);if(n<r&&(n=r),a!==null&&r<a&&(l=a-r,r+=l,n+=l,o!=null&&n>o&&(n=o)),o!==null&&n>o&&(l=n-o,r-=l,n-=l,a!=null&&r<a&&(r=a)),this.options.zoomMin!==null){let d=parseFloat(this.options.zoomMin);d<0&&(d=0),n-r<d&&(this.end-this.start===d&&r>=this.start-.5&&n<=this.end?(r=this.start,n=this.end):(l=d-(n-r),r-=l/2,n+=l/2))}if(this.options.zoomMax!==null){let d=parseFloat(this.options.zoomMax);d<0&&(d=0),n-r>d&&(this.end-this.start===d&&r<this.start&&n>this.end?(r=this.start,n=this.end):(l=n-r-d,r+=l/2,n-=l/2))}const h=this.start!=r||this.end!=n;return!(r>=this.start&&r<=this.end||n>=this.start&&n<=this.end)&&!(this.start>=r&&this.start<=n||this.end>=r&&this.end<=n)&&this.body.emitter.emit("checkRangedItems"),this.start=r,this.end=n,h}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return Ei.conversion(this.start,this.end,e,t)}static conversion(e,t,r,n){return n===void 0&&(n=0),r!=0&&t-e!=0?{offset:e,scale:r/(t-e-n)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;Tl(t);let r=t=="horizontal"?e.deltaX:e.deltaY;r-=this.deltaDifference;let n=this.props.touch.end-this.props.touch.start;const o=It(this.body.hiddenDates,this.start,this.end);n-=o;const a=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let l;this.options.rtl?l=r/a*n:l=-r/a*n;const h=this.props.touch.start+l,d=this.props.touch.end+l,c=He(this.body.hiddenDates,h,this.previousDelta-r,!0),u=He(this.body.hiddenDates,d,this.previousDelta-r,!0);if(c!=h||u!=d){this.deltaDifference+=r,this.props.touch.start=c,this.props.touch.end=u,this._onDrag(e);return}this.previousDelta=r,this._applyRange(h,d);const f=new Date(this.start),m=new Date(this.end);this.body.emitter.emit("rangechange",{start:f,end:m,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const r=this.options.zoomFriction||5;let n;t<0?n=1-t/r:n=1/(1+t/r);let o;if(this.rolling){const a=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*a}else{const a=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);o=this._pointerToDate(a)}this.zoom(n,o,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,v.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;v.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),r=this.props.touch.centerDate,n=It(this.body.hiddenDates,this.start,this.end),o=yi(this.options.moment,this.body.hiddenDates,this,r),a=n-o;let l=r-o+(this.props.touch.start-(r-o))*t,h=r+a+(this.props.touch.end-(r+a))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const d=He(this.body.hiddenDates,l,1-t,!0),c=He(this.body.hiddenDates,h,t-1,!0);(d!=l||c!=h)&&(this.props.touch.start=d,this.props.touch.end=c,this.scaleOffset=1-e.scale,l=d,h=c);const u={animation:!1,byUser:!0,event:e};this.setRange(l,h,u),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,r=this.body.dom.centerContainer.getBoundingClientRect(),n=this.options.rtl?t-r.left:r.right-t,o=this.body.util.toTime(n);return o>=this.start&&o<=this.end}_pointerToDate(e){let t;const r=this.options.direction;if(Tl(r),r=="horizontal")return this.body.util.toTime(e.x).valueOf();{const n=this.body.domProps.center.height;return t=this.conversion(n),e.y/t.scale+t.offset}}getPointer(e,t){const r=t.getBoundingClientRect();return this.options.rtl?{x:r.right-e.x,y:e.y-r.top}:{x:e.x-r.left,y:e.y-r.top}}zoom(e,t,r,n){t==null&&(t=(this.start+this.end)/2);const o=It(this.body.hiddenDates,this.start,this.end),a=yi(this.options.moment,this.body.hiddenDates,this,t),l=o-a;let h=t-a+(this.start-(t-a))*e,d=t+l+(this.end-(t+l))*e;this.startToFront=!(r>0),this.endToFront=!(-r>0);const c=He(this.body.hiddenDates,h,r,!0),u=He(this.body.hiddenDates,d,-r,!0);(c!=h||u!=d)&&(h=c,d=u);const f={animation:!1,byUser:!0,event:n};this.setRange(h,d,f),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,r=this.start+t*e,n=this.end+t*e;this.start=r,this.end=n}moveTo(e){const r=(this.start+this.end)/2-e,n=this.start-r,o=this.end-r,a={animation:!1,byUser:!0,event:null};this.setRange(n,o,a)}destroy(){this.stopRolling()}}function Tl(s){if(s!="horizontal"&&s!="vertical")throw new TypeError(`Unknown direction "${s}". Choose "horizontal" or "vertical".`)}function bv(){const s=()=>{};return{on:s,off:s,destroy:s,emit:s,get(e){return{set:s}}}}let da;if(typeof window<"u"){const s=window.Hammer||pu;da=na(s,{preventDefault:"mouse"})}else da=()=>bv();var te=da;function Yu(s,e){e.inputHandler=function(t){t.isFirst&&e(t)},s.on("hammer.input",e.inputHandler)}function yv(s,e){return e.inputHandler=function(t){t.isFinal&&e(t)},s.on("hammer.input",e.inputHandler)}function _v(s){const e="pan-y";return s.getTouchAction=function(){return[e]},s}class Ue{constructor(e,t,r,n,o){this.moment=o&&o.moment||ne,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,r),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(n)?this.hiddenDates=n:n!=null?this.hiddenDates=[n]:this.hiddenDates=[],this.format=Ue.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=v.deepExtend({},Ue.FORMAT);this.format=v.deepExtend(t,e)}setRange(e,t,r){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Date.now(),this._end=t!=null?this.moment(t.valueOf()):Date.now(),this.autoScale&&this.setMinimumStep(r)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(He(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current.weekday(0),this.current.add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Uu(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,r=1e3*60*60*24*30,n=1e3*60*60*24,o=1e3*60*60,a=1e3*60,l=1e3,h=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),r*3>e&&(this.scale="month",this.step=3),r>e&&(this.scale="month",this.step=1),n*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),n*2>e&&(this.scale="day",this.step=2),n>e&&(this.scale="day",this.step=1),n/2>e&&(this.scale="weekday",this.step=1),o*4>e&&(this.scale="hour",this.step=4),o>e&&(this.scale="hour",this.step=1),a*15>e&&(this.scale="minute",this.step=15),a*10>e&&(this.scale="minute",this.step=10),a*5>e&&(this.scale="minute",this.step=5),a>e&&(this.scale="minute",this.step=1),l*15>e&&(this.scale="second",this.step=15),l*10>e&&(this.scale="second",this.step=10),l*5>e&&(this.scale="second",this.step=5),l>e&&(this.scale="second",this.step=1),h*200>e&&(this.scale="millisecond",this.step=200),h*100>e&&(this.scale="millisecond",this.step=100),h*50>e&&(this.scale="millisecond",this.step=50),h*10>e&&(this.scale="millisecond",this.step=10),h*5>e&&(this.scale="millisecond",this.step=5),h>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,r){const n=ne(e);if(t=="year"){const o=n.year()+Math.round(n.month()/12);n.year(Math.round(o/r)*r),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if(t=="month")n.date()>15?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if(t=="week")n.weekday()>2?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if(t=="day"){switch(r){case 5:case 2:n.hours(Math.round(n.hours()/24)*24);break;default:n.hours(Math.round(n.hours()/12)*12);break}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if(t=="weekday"){switch(r){case 5:case 2:n.hours(Math.round(n.hours()/12)*12);break;default:n.hours(Math.round(n.hours()/6)*6);break}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if(t=="hour"){switch(r){case 4:n.minutes(Math.round(n.minutes()/60)*60);break;default:n.minutes(Math.round(n.minutes()/30)*30);break}n.seconds(0),n.milliseconds(0)}else if(t=="minute"){switch(r){case 15:case 10:n.minutes(Math.round(n.minutes()/5)*5),n.seconds(0);break;case 5:n.seconds(Math.round(n.seconds()/60)*60);break;default:n.seconds(Math.round(n.seconds()/30)*30);break}n.milliseconds(0)}else if(t=="second")switch(r){case 15:case 10:n.seconds(Math.round(n.seconds()/5)*5),n.milliseconds(0);break;case 5:n.milliseconds(Math.round(n.milliseconds()/1e3)*1e3);break;default:n.milliseconds(Math.round(n.milliseconds()/500)*500);break}else if(t=="millisecond"){const o=r>5?r/2:1;n.milliseconds(Math.round(n.milliseconds()/o)*o)}return n}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){const e=this.moment,t=this.moment(this.current),r=t.locale?t.locale("en"):t.lang("en"),n=this.step,o=[];function a(u){return u/n%2==0?" vis-even":" vis-odd"}function l(u){return u.isSame(Date.now(),"day")?" vis-today":u.isSame(e().add(1,"day"),"day")?" vis-tomorrow":u.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function h(u){return u.isSame(Date.now(),"week")?" vis-current-week":""}function d(u){return u.isSame(Date.now(),"month")?" vis-current-month":""}function c(u){return u.isSame(Date.now(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(l(r)),o.push(a(r.milliseconds()));break;case"second":o.push(l(r)),o.push(a(r.seconds()));break;case"minute":o.push(l(r)),o.push(a(r.minutes()));break;case"hour":o.push(`vis-h${r.hours()}${this.step==4?"-h"+(r.hours()+4):""}`),o.push(l(r)),o.push(a(r.hours()));break;case"weekday":o.push(`vis-${r.format("dddd").toLowerCase()}`),o.push(l(r)),o.push(h(r)),o.push(a(r.date()));break;case"day":o.push(`vis-day${r.date()}`),o.push(`vis-${r.format("MMMM").toLowerCase()}`),o.push(l(r)),o.push(d(r)),o.push(this.step<=2?l(r):""),o.push(this.step<=2?`vis-${r.format("dddd").toLowerCase()}`:""),o.push(a(r.date()-1));break;case"week":o.push(`vis-week${r.format("w")}`),o.push(h(r)),o.push(a(r.week()));break;case"month":o.push(`vis-${r.format("MMMM").toLowerCase()}`),o.push(d(r)),o.push(a(r.month()));break;case"year":o.push(`vis-year${r.year()}`),o.push(c(r)),o.push(a(r.year()));break}return o.filter(String).join(" ")}}Ue.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class wi extends Ie{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:v.extend({},Ue.FORMAT),moment:ne,timeAxis:null},this.options=v.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(v.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),v.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof ne.locale=="function"?ne.locale(e.locale):ne.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,r=this.dom.background,n=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,o=t.parentNode!==n;this._calculateCharSize();const a=this.options.showMinorLabels&&this.options.orientation.axis!=="none",l=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=a?e.minorCharHeight:0,e.majorLabelHeight=l?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const h=t.nextSibling,d=r.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r),t.style.height=`${this.props.height}px`,this._repaintLabels(),h?n.insertBefore(t,h):n.appendChild(t),d?this.body.dom.backgroundVertical.insertBefore(r,d):this.body.dom.backgroundVertical.appendChild(r),this._isResized()||o}_repaintLabels(){const e=this.options.orientation.axis,t=v.convert(this.body.range.start,"Number"),r=v.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=n-yi(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();const a=new Ue(new Date(t),new Date(r),o,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;const l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];let h,d,c,u,f,m,g=0,b,y,_,w=0;const x=1e3;let D;for(a.start(),d=a.getCurrent(),u=this.body.util.toScreen(d);a.hasNext()&&w<x;){switch(w++,f=a.isMajor(),D=a.getClassName(),h=d,c=u,a.next(),d=a.getCurrent(),u=this.body.util.toScreen(d),b=g,g=u-c,a.scale){case"week":m=!0;break;default:m=g>=b*.4;break}if(this.options.showMinorLabels&&m){var T=this._repaintMinorText(c,a.getLabelMinor(h),e,D);T.style.width=`${g}px`}f&&this.options.showMajorLabels?(c>0&&(_==null&&(_=c),T=this._repaintMajorText(c,a.getLabelMajor(h),e,D)),y=this._repaintMajorLine(c,g,e,D)):m?y=this._repaintMinorLine(c,g,e,D):y&&(y.style.width=`${parseInt(y.style.width)+g}px`)}if(w===x&&!Sl&&(console.warn(`Something is wrong with the Timeline scale. Limited drawing of grid lines to ${x} lines.`),Sl=!0),this.options.showMajorLabels){const S=this.body.util.toTime(0),E=a.getLabelMajor(S),A=E.length*(this.props.majorCharWidth||10)+10;(_==null||A<_)&&this._repaintMajorText(0,E,e,D)}v.forEach(this.dom.redundant,S=>{for(;S.length;){const E=S.pop();E&&E.parentNode&&E.parentNode.removeChild(E)}})}_repaintMinorText(e,t,r,n){let o=this.dom.redundant.minorTexts.shift();if(!o){const l=document.createTextNode("");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=v.xss(t);let a=r=="top"?this.props.majorLabelHeight:0;return this._setXY(o,e,a),o.className=`vis-text vis-minor ${n}`,o}_repaintMajorText(e,t,r,n){let o=this.dom.redundant.majorTexts.shift();if(!o){const l=document.createElement("div");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=v.xss(t),o.className=`vis-text vis-major ${n}`;let a=r=="top"?0:this.props.minorLabelHeight;return this._setXY(o,e,a),this.dom.majorTexts.push(o),o}_setXY(e,t,r){const n=this.options.rtl?t*-1:t;e.style.transform=`translate(${n}px, ${r}px)`}_repaintMinorLine(e,t,r,n){let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width=`${t}px`,o.style.height=`${a.minorLineHeight}px`;let l=r=="top"?a.majorLabelHeight:this.body.domProps.top.height,h=e-a.minorLineWidth/2;return this._setXY(o,h,l),o.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-minor ${n}`,o}_repaintMajorLine(e,t,r,n){let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width=`${t}px`,o.style.height=`${a.majorLineHeight}px`;let l=r=="top"?0:this.body.domProps.top.height,h=e-a.majorLineWidth/2;return this._setXY(o,h,l),o.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-major ${n}`,o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var Sl=!1;function me(s){this.active=!1,this.dom={container:s},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=te(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];t.forEach(function(r){e.hammer.on(r,function(n){n.stopPropagation()})}),document&&document.body&&(this.onClick=function(r){wv(r.target,s)||e.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=dv(),this.escListener=this.deactivate.bind(this)}ga(me.prototype);me.current=null;me.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};me.prototype.activate=function(){me.current&&me.current.deactivate(),me.current=this,this.active=!0,this.dom.overlay.style.display="none",v.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)};me.prototype.deactivate=function(){me.current===this&&(me.current=null),this.active=!1,this.dom.overlay.style.display="",v.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};me.prototype._onTapOverlay=function(s){this.activate(),s.stopPropagation()};function wv(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}const Ia={current:"current",time:"time",deleteSelected:"Delete selected"},xv=Ia,Cv=Ia,Ra={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},Tv=Ra,Sv=Ra,Ma={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Dv=Ma,Ev=Ma,Xu={current:"Aktuelle",time:"Zeit",deleteSelected:"Lösche Auswahl"},kv=Xu,bs={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},Ov=bs,Nv=bs,Av=bs,Ku={current:"corriente",time:"hora",deleteSelected:"Eliminar selección"},Pv=Ku,Qu={current:"поточний",time:"час",deleteSelected:"Видалити обране"},Iv=Qu,Zu={current:"текущее",time:"время",deleteSelected:"Удалить выбранное"},Rv=Zu,Ju={current:"aktualny",time:"czas",deleteSelected:"Usuń wybrane"},Mv=Ju,ja={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},jv=ja,Fv=ja,ef={current:"現在",time:"時刻",deleteSelected:"選択されたものを削除"},Lv=ef,tf={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},qv=tf,ys={current:"nåværende",time:"tid",deleteSelected:"Slett valgte"},Gv=ys,Hv=ys,Bv=ys,sf={current:"einamas",time:"laikas",deleteSelected:"Pašalinti pasirinktą"},zv=sf,Lt={en:Ia,en_EN:xv,en_US:Cv,it:Ra,it_IT:Tv,it_CH:Sv,nl:Ma,nl_NL:Dv,nl_BE:Ev,de:Xu,de_DE:kv,fr:bs,fr_FR:Ov,fr_CA:Nv,fr_BE:Av,es:Ku,es_ES:Pv,uk:Qu,uk_UA:Iv,ru:Zu,ru_RU:Rv,pl:Ju,pl_PL:Mv,pt:ja,pt_BR:jv,pt_PT:Fv,ja:ef,ja_JP:Lv,lt:sf,lt_LT:zv,sv:tf,sv_SE:qv,nb:ys,nn:Hv,nb_NO:Gv,nn_NO:Bv};class _s extends Ie{constructor(e,t){super(),this.body=e,this.defaultOptions={moment:ne,locales:Lt,locale:"en",id:void 0,title:void 0},this.options=v.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=v.extend({},Lt,this.options.locales);const r=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(n=>{this.options.locales[n]=v.extend({},r,this.options.locales[n])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&v.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){const e=document.createElement("div");e["custom-time"]=this,e.className=`vis-custom-time ${this.options.id||""}`,e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;const t=document.createElement("div");t.style.position="relative",t.style.top="0px",this.options.rtl?t.style.right="-10px":t.style.left="-10px",t.style.height="100%",t.style.width="20px";function r(n){this.body.range._onMouseWheel(n)}t.addEventListener?(t.addEventListener("mousewheel",r.bind(this),!1),t.addEventListener("DOMMouseScroll",r.bind(this),!1)):t.attachEvent("onmousewheel",r.bind(this)),e.appendChild(t),this.hammer=new te(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:te.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),r=this.options.locales.en);let n=this.options.title;return n===void 0?(n=`${r.time}: ${this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")}`,n=n.charAt(0).toUpperCase()+n.substring(1)):typeof n=="function"&&(n=n.call(this,this.customTime)),this.options.rtl?this.bar.style.right=`${t}px`:this.bar.style.left=`${t}px`,this.bar.title=n,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=v.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=v.xss(e),this.marker.style.position="absolute",t&&(this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",function(){this.marker.focus()}),this.marker.addEventListener("input",this._onMarkerChange.bind(this)),this.marker.title=e,this.marker.addEventListener("blur",(function(r){this.title!=r.target.innerHTML&&(this._onMarkerChanged(r),this.title=r.target.innerHTML)}).bind(this))),this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const r=this.body.util.toScreen(this.eventParams.customTime)+t,n=this.body.util.toTime(r),o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.options.snap,h=l?l(n,o,a):n;this.setCustomTime(h),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null}}class ot{_create(e){this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));const t=this;this._origRedraw=this._redraw.bind(this),this._redraw=v.throttle(this._origRedraw),this.on("_change",u=>{t.itemSet&&t.itemSet.initialItemSetDrawn&&u&&u.queue==!0?t._redraw():t._origRedraw()}),this.hammer=new te(this.dom.root);const r=this.hammer.get("pinch").set({enable:!0});r&&_v(r),this.hammer.get("pan").set({threshold:5,direction:te.DIRECTION_ALL}),this.timelineListeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(u=>{const f=m=>{t.isActive()&&t.emit(u,m)};t.hammer.on(u,f),t.timelineListeners[u]=f}),Yu(this.hammer,u=>{t.emit("touch",u)}),yv(this.hammer,u=>{t.emit("release",u)});function o(u){this.isActive()&&this.emit("mousewheel",u);let g=0,b=0;if("detail"in u&&(b=u.detail*-1),"wheelDelta"in u&&(b=u.wheelDelta),"wheelDeltaY"in u&&(b=u.wheelDeltaY),"wheelDeltaX"in u&&(g=u.wheelDeltaX*-1),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(g=b*-1,b=0),"deltaY"in u&&(b=u.deltaY*-1),"deltaX"in u&&(g=u.deltaX),u.deltaMode&&(u.deltaMode===1?(g*=40,b*=40):(g*=40,b*=800)),this.options.preferZoom){if(!this.options.zoomKey||u[this.options.zoomKey])return}else if(this.options.zoomKey&&u[this.options.zoomKey])return;if(!(!this.options.verticalScroll&&!this.options.horizontalScroll)){if(this.options.verticalScroll&&Math.abs(b)>=Math.abs(g)){const y=this.props.scrollTop,_=y+b;this.isActive()&&this._setScrollTop(_)!==y&&(this._redraw(),this.emit("scroll",u),u.preventDefault())}else if(this.options.horizontalScroll){const _=(Math.abs(g)>=Math.abs(b)?g:b)/120*(this.range.end-this.range.start)/20,w=this.range.start+_,x=this.range.end+_,D={animation:!1,byUser:!0,event:u};this.range.setRange(w,x,D),u.preventDefault()}}}const a="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(a,o.bind(this),!1),this.dom.top.addEventListener(a,o.bind(this),!1),this.dom.bottom.addEventListener(a,o.bind(this),!1);function l(u){if(t.options.verticalScroll&&(u.preventDefault(),t.isActive())){const f=-u.target.scrollTop;t._setScrollTop(f),t._redraw(),t.emit("scrollSide",u)}}this.dom.left.parentNode.addEventListener("scroll",l.bind(this)),this.dom.right.parentNode.addEventListener("scroll",l.bind(this));let h=!1;function d(u){if(u.preventDefault&&(t.emit("dragover",t.getEventProperties(u)),u.preventDefault()),u.target.className.indexOf("timeline")>-1&&!h)return u.dataTransfer.dropEffect="move",h=!0,!1}function c(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation();try{var f=JSON.parse(u.dataTransfer.getData("text"));if(!f||!f.content)return}catch{return!1}return h=!1,u.center={x:u.clientX,y:u.clientY},f.target!=="item"?t.itemSet._onAddItem(u):t.itemSet._onDropObjectOnItem(u),t.emit("drop",t.getEventProperties(u)),!1}if(this.dom.center.addEventListener("dragover",d.bind(this),!1),this.dom.center.addEventListener("drop",c.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){if(e){const t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"];if(v.selectiveExtend(t,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const r=this.timeAxis2=new wi(this.body,this.options);r.setOptions=n=>{const o=n?v.extend({},n):{};o.orientation="top",wi.prototype.setOptions.call(r,o)},this.components.push(r)}}else if(this.timeAxis2){const r=this.components.indexOf(this.timeAxis2);r!==-1&&this.components.splice(r,1),this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&vs(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new me(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach(t=>t.setOptions(e)),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const t=v.deepExtend({},this.options);this.components.forEach(r=>{v.deepExtend(t,r.options)}),this.configurator.setModuleOptions({global:t})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const e in this.timelineListeners)this.timelineListeners.hasOwnProperty(e)&&delete this.timelineListeners[e];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,this.components.forEach(e=>e.destroy()),this.body=null}setCustomTime(e,t){const r=this.customTimes.filter(n=>t===n.options.id);if(r.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);r.length>0&&r[0].setCustomTime(e)}getCustomTime(e){const t=this.customTimes.filter(r=>r.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);return t[0].getCustomTime()}setCustomTimeMarker(e,t,r){const n=this.customTimes.filter(o=>o.options.id===t);if(n.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);n.length>0&&n[0].setCustomMarker(e,r)}setCustomTimeTitle(e,t){const r=this.customTimes.filter(n=>n.options.id===t);if(r.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);if(r.length>0)return r[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){const r=e!==void 0?v.convert(e,"Date"):new Date;if(this.customTimes.some(a=>a.options.id===t))throw new Error(`A custom time with id ${JSON.stringify(t)} already exists`);const o=new _s(this.body,v.extend({},this.options,{time:r,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),t}removeCustomTime(e){const t=this.customTimes.filter(r=>r.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);t.forEach(r=>{this.customTimes.splice(this.customTimes.indexOf(r),1),this.components.splice(this.components.indexOf(r),1),r.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const r=this.getDataRange();if(r.min===null&&r.max===null)return;const n=r.max-r.min,o=new Date(r.min.valueOf()-n*.01),a=new Date(r.max.valueOf()+n*.01),l=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(o,a,{animation:l},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,r,n){typeof arguments[2]=="function"&&(n=arguments[2],r={});let o,a;arguments.length==1?(a=arguments[0],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o})):arguments.length==2&&typeof arguments[1]=="function"?(a=arguments[0],n=arguments[1],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o},n)):(o=r&&r.animation!==void 0?r.animation:!0,this.range.setRange(e,t,{animation:o},n))}moveTo(e,t,r){typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.range.end-this.range.start,o=v.convert(e,"Date").valueOf(),a=o-n/2,l=o+n/2,h=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(a,l,{animation:h},r)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.getWindow(),o=n.start.valueOf(),a=n.end.valueOf(),l=a-o,h=l/(1+e),d=(l-h)/2,c=o+d,u=a-d;this.setWindow(c,u,t,r)}zoomOut(e,t,r){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(r=arguments[1],t={});const n=this.getWindow(),o=n.start.valueOf(),a=n.end.valueOf(),l=a-o,h=o-l*e/2,d=a+l*e/2;this.setWindow(h,d,t,r)}redraw(){this._redraw()}_redraw(){this.redrawCount++;const e=this.dom;if(!e||!e.container||e.root.offsetWidth==0)return;let t=!1;const r=this.options,n=this.props;bi(this.options.moment,this.body,this.options.hiddenDates),r.orientation=="top"?(v.addClassName(e.root,"vis-top"),v.removeClassName(e.root,"vis-bottom")):(v.removeClassName(e.root,"vis-top"),v.addClassName(e.root,"vis-bottom")),r.rtl?(v.addClassName(e.root,"vis-rtl"),v.removeClassName(e.root,"vis-ltr")):(v.addClassName(e.root,"vis-ltr"),v.removeClassName(e.root,"vis-rtl")),e.root.style.maxHeight=v.option.asSize(r.maxHeight,""),e.root.style.minHeight=v.option.asSize(r.minHeight,""),e.root.style.width=v.option.asSize(r.width,"");const o=e.root.offsetWidth;n.border.left=1,n.border.right=1,n.border.top=1,n.border.bottom=1,n.center.height=e.center.offsetHeight,n.left.height=e.left.offsetHeight,n.right.height=e.right.offsetHeight,n.top.height=e.top.clientHeight||-n.border.top,n.bottom.height=Math.round(e.bottom.getBoundingClientRect().height)||e.bottom.clientHeight||-n.border.bottom;const a=Math.max(n.left.height,n.center.height,n.right.height),l=n.top.height+a+n.bottom.height+n.border.top+n.border.bottom;e.root.style.height=v.option.asSize(r.height,`${l}px`),n.root.height=e.root.offsetHeight,n.background.height=n.root.height;const h=n.root.height-n.top.height-n.bottom.height;n.centerContainer.height=h,n.leftContainer.height=h,n.rightContainer.height=n.leftContainer.height,n.root.width=o,n.background.width=n.root.width,this.initialDrawDone||(n.scrollbarWidth=v.getScrollBarWidth());const d=e.leftContainer.clientWidth,c=e.rightContainer.clientWidth;r.verticalScroll?r.rtl?(n.left.width=d||-n.border.left,n.right.width=c+n.scrollbarWidth||-n.border.right):(n.left.width=d+n.scrollbarWidth||-n.border.left,n.right.width=c||-n.border.right):(n.left.width=d||-n.border.left,n.right.width=c||-n.border.right),this._setDOM();let u=this._updateScrollTop();r.orientation.item!="top"&&(u+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),e.center.style.transform=`translateY(${u}px)`;const f=n.scrollTop==0?"hidden":"",m=n.scrollTop==n.scrollTopMin?"hidden":"";e.shadowTop.style.visibility=f,e.shadowBottom.style.visibility=m,e.shadowTopLeft.style.visibility=f,e.shadowBottomLeft.style.visibility=m,e.shadowTopRight.style.visibility=f,e.shadowBottomRight.style.visibility=m,r.verticalScroll&&(e.rightContainer.className="vis-panel vis-right vis-vertical-scroll",e.leftContainer.className="vis-panel vis-left vis-vertical-scroll",e.shadowTopRight.style.visibility="hidden",e.shadowBottomRight.style.visibility="hidden",e.shadowTopLeft.style.visibility="hidden",e.shadowBottomLeft.style.visibility="hidden",e.left.style.top="0px",e.right.style.top="0px"),(!r.verticalScroll||n.center.height<n.centerContainer.height)&&(e.left.style.top=`${u}px`,e.right.style.top=`${u}px`,e.rightContainer.className=e.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),e.leftContainer.className=e.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=d||-n.border.left,n.right.width=c||-n.border.right,this._setDOM());const g=n.center.height>n.centerContainer.height;this.hammer.get("pan").set({direction:g?te.DIRECTION_ALL:te.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.components.forEach(y=>{t=y.redraw()||t});const b=5;if(t)if(this.redrawCount<b){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const r=e.root.width-e.left.width-e.right.width;e.center.width=r,e.centerContainer.width=r,e.top.width=r,e.bottom.width=r,t.background.style.height=`${e.background.height}px`,t.backgroundVertical.style.height=`${e.background.height}px`,t.backgroundHorizontal.style.height=`${e.centerContainer.height}px`,t.centerContainer.style.height=`${e.centerContainer.height}px`,t.leftContainer.style.height=`${e.leftContainer.height}px`,t.rightContainer.style.height=`${e.rightContainer.height}px`,t.background.style.width=`${e.background.width}px`,t.backgroundVertical.style.width=`${e.centerContainer.width}px`,t.backgroundHorizontal.style.width=`${e.background.width}px`,t.centerContainer.style.width=`${e.center.width}px`,t.top.style.width=`${e.top.width}px`,t.bottom.style.width=`${e.bottom.width}px`,t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=`${e.left.width+e.border.left}px`,t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=`${e.top.height}px`,t.centerContainer.style.left=`${e.left.width}px`,t.centerContainer.style.top=`${e.top.height}px`,t.leftContainer.style.left="0",t.leftContainer.style.top=`${e.top.height}px`,t.rightContainer.style.left=`${e.left.width+e.center.width}px`,t.rightContainer.style.top=`${e.top.height}px`,t.top.style.left=`${e.left.width}px`,t.top.style.top="0",t.bottom.style.left=`${e.left.width}px`,t.bottom.style.top=`${e.top.height+e.centerContainer.height}px`,t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return la(this,e,this.props.center.width)}_toGlobalTime(e){return la(this,e,this.props.root.width)}_toScreen(e){return aa(this,e,this.props.center.width)}_toGlobalScreen(e){return aa(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,r=e.dom.root.offsetWidth;(r!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=r,e.props.lastHeight=t,e.props.scrollbarWidth=v.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(e){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,r=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=r&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}ga(ot.prototype);class Fa extends Ie{constructor(e,t){super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:ne,locales:Lt,locale:"en"},this.options=v.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=v.extend({},Lt,this.options.locales);const r=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(n=>{this.options.locales[n]=v.extend({},r,this.options.locales[n])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&v.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());let t=this.options.moment(Date.now()+this.offset);this.options.alignCurrentTime&&(t=t.startOf(this.options.alignCurrentTime));const r=this.body.util.toScreen(t);let n=this.options.locales[this.options.locale];n||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),n=this.options.locales.en);let o=`${n.current} ${n.time}: ${t.format("dddd, MMMM Do YYYY, H:mm:ss")}`;o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.transform=`translateX(${r*-1}px)`:this.bar.style.transform=`translateX(${r}px)`,this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let n=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;n<30&&(n=30),n>1e3&&(n=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,n)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=v.convert(e,"Date").valueOf(),r=Date.now();this.offset=t-r,this.redraw()}getCurrentTime(){return new Date(Date.now()+this.offset)}}const he=.001;function rf(s){s.sort((e,t)=>e.data.start-t.data.start)}function nf(s){s.sort((e,t)=>{const r="end"in e.data?e.data.end:e.data.start,n="end"in t.data?t.data.end:t.data.start;return r-n})}function ca(s,e,t,r){return La(s,e.item,!1,o=>o.stack&&(t||o.top===null),o=>o.stack,o=>e.axis,r)===null}function of(s,e,t){const r=La(s,e.item,!1,n=>n.stack,n=>!0,n=>n.baseTop);t.height=r-t.top+.5*e.item.vertical}function af(s,e,t,r){for(let n=0;n<s.length;n++)if(s[n].data.subgroup==null)s[n].top=e.item.vertical;else if(s[n].data.subgroup!==void 0&&r){let o=0;for(const a in t)t.hasOwnProperty(a)&&t[a].visible==!0&&t[a].index<t[s[n].data.subgroup].index&&(o+=t[a].height,t[s[n].data.subgroup].top=o);s[n].top=o+.5*e.item.vertical}r||lf(s,e,t)}function lf(s,e,t){La(Object.values(t).sort((r,n)=>r.index>n.index?1:r.index<n.index?-1:0),{vertical:0},!0,r=>!0,r=>!0,r=>0);for(let r=0;r<s.length;r++)s[r].data.subgroup!==void 0&&(s[r].top=t[s[r].data.subgroup].top+.5*e.item.vertical)}function ua(s,e,t){let r=!1;const n=[];for(var o in t)t[o].hasOwnProperty("index")?n[t[o].index]=o:n.push(o);for(let a=0;a<n.length;a++)if(o=n[a],t.hasOwnProperty(o)){r=r||t[o].stack,t[o].top=0;for(const h in t)t[h].visible&&t[o].index>t[h].index&&(t[o].top+=t[h].height);const l=s[o];for(let h=0;h<l.length;h++)l[h].data.subgroup!==void 0&&(l[h].top=t[l[h].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(l[h].baseTop=l[h].top));r&&t[o].stack&&of(s[o],e,t[o])}}function La(s,e,t,r,n,o,a){let l=_=>_.start,h=_=>_.end;t||(!!(s[0]&&s[0].options.rtl)?l=w=>w.right:l=w=>w.left,h=w=>l(w)+w.width+e.horizontal);const d=[],c=[];let u=null,f=0;for(const _ of s)if(r(_))d.push(_);else if(n(_)){const w=l(_);u!==null&&w<u-he&&(f=0),u=w,f=Yi(c,x=>l(x)-he>w,f),c.splice(f,0,_),f++}u=null;let m=null;f=0;let g=0,b=0,y=0;for(;d.length>0;){const _=d.shift();_.top=o(_);const w=l(_),x=h(_);u!==null&&w<u-he&&(g=0,b=0,f=0,m=null),u=w,g=Yi(c,S=>w<h(S)-he,g),(m===null||m<x-he)&&(b=Yi(c,S=>x<l(S)-he,Math.max(g,b))),m!==null&&m-he>x&&(b=Uv(c,S=>x+he>=l(S),g,b)+1);const D=c.slice(g,b).filter(S=>w<h(S)-he&&x-he>l(S)).sort((S,E)=>S.top-E.top);for(let S=0;S<D.length;S++){const E=D[S];$v(_,E,e)&&(_.top=E.top+E.height+e.vertical)}n(_)&&(f=Yi(c,S=>l(S)-he>w,f),c.splice(f,0,_),f++);const T=_.top+_.height;if(T>y&&(y=T),a&&a())return null}return y}function $v(s,e,t){return s.top-t.vertical+he<e.top+e.height&&s.top+s.height+t.vertical-he>e.top}function Yi(s,e,t){t||(t=0);const r=s.slice(t).findIndex(e);return r===-1?s.length:r+t}function Uv(s,e,t,r){for(t||(t=0),r||(r=s.length),i=r-1;i>=t;i--)if(e(s[i]))return i;return t-1}var Vv=Object.freeze({__proto__:null,nostack:af,orderByEnd:nf,orderByStart:rf,stack:ca,stackSubgroups:lf,stackSubgroupsWithInnerStack:ua,substack:of});const Wv="__ungrouped__",Yv="__background__",Dl={UNGROUPED:Wv,BACKGROUND:Yv};class rs{constructor(e,t,r){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=r,this.isVisible=null,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const o in t.subgroupStack)this.subgroupStack[o]=t.subgroupStack[o],this.doInnerStack=this.doInnerStack||t.subgroupStack[o];t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=r.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const n=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",n),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",n)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const r=document.createElement("div");r.className="vis-group",r["vis-group"]=this,this.dom.foreground=r,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,r;if(e&&e.subgroupVisibility)for(const o in e.subgroupVisibility)this.subgroupVisibility[o]=e.subgroupVisibility[o];if(this.itemSet.options&&this.itemSet.options.groupTemplate?(r=this.itemSet.options.groupTemplate.bind(this),t=r(e,this.dom.inner)):t=e&&e.content,t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?r(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=v.xss(t):this.dom.inner.innerHTML=v.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?v.removeClassName(this.dom.inner,"vis-hidden"):v.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),v.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(v.removeClassName(this.dom.label,"collapsed"),v.addClassName(this.dom.label,"expanded")):(v.removeClassName(this.dom.label,"expanded"),v.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,v.removeClassName(this.dom.label,"collapsed"),v.removeClassName(this.dom.label,"expanded"),v.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(v.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?v.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):v.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):v.addClassName(this.dom.label,"vis-group-level-0");const n=e&&e.className||null;n!=this.className&&(this.className&&(v.removeClassName(this.dom.label,this.className),v.removeClassName(this.dom.foreground,this.className),v.removeClassName(this.dom.background,this.className),v.removeClassName(this.dom.axis,this.className)),v.addClassName(this.dom.label,n),v.addClassName(this.dom.foreground,n),v.addClassName(this.dom.background,n),v.addClassName(this.dom.axis,n),this.className=n),this.style&&(v.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(v.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let r=0;if(v.forEach(this.items,(o,a)=>{o.dirty=!0,o.displayed&&(t[a]=o.redraw(!0),r=t[a].length)}),r>0)for(let o=0;o<r;o++)v.forEach(t,a=>{a[o]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:r}=this.dom.foreground;this.top=e,this.right=t,this.width=r}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,r={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let n=null;if(!this.itemSet.initialDrawDone){if(r.shouldBailStackItems)return!0;Math.abs(Date.now()-new Date(r.relativeBailingTime))>r.bailTimeMs&&(r.userBailFunction&&this.itemSet.userContinueNotBail==null?r.userBailFunction(o=>{e.itemSet.userContinueNotBail=o,n=!o}):e.itemSet.userContinueNotBail==!1?n=!0:n=!1)}return n}_redrawItems(e,t,r,n){if(e||this.stackDirty||this.isVisible&&!t){const a={byEnd:this.orderedItems.byEnd.filter(c=>!c.isCluster),byStart:this.orderedItems.byStart.filter(c=>!c.isCluster)},l={byEnd:[...new Set(this.orderedItems.byEnd.map(c=>c.cluster).filter(c=>!!c))],byStart:[...new Set(this.orderedItems.byStart.map(c=>c.cluster).filter(c=>!!c))]},h=()=>{const c=this._updateItemsInRange(a,this.visibleItems.filter(f=>!f.isCluster),n),u=this._updateClustersInRange(l,this.visibleItems.filter(f=>f.isCluster),n);return[...c,...u]},d=c=>{let u={};for(const f in this.subgroups){const m=this.visibleItems.filter(g=>g.data.subgroup===f);u[f]=c?m.sort((g,b)=>c(g.data,b.data)):m}return u};if(typeof this.itemSet.options.order=="function"){const c=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const u=d(this.itemSet.options.order);ua(u,r,this.subgroups),this.visibleItems=h(),this._updateSubGroupHeights(r)}else{this.visibleItems=h(),this._updateSubGroupHeights(r);const u=this.visibleItems.slice().filter(f=>f.isCluster||!f.isCluster&&!f.cluster).sort((f,m)=>c.itemSet.options.order(f.data,m.data));this.shouldBailStackItems=ca(u,r,!0,this._shouldBailItemsRedraw.bind(this))}}else if(this.visibleItems=h(),this._updateSubGroupHeights(r),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const c=d();ua(c,r,this.subgroups)}else this.shouldBailStackItems=ca(this.visibleItems,r,!0,this._shouldBailItemsRedraw.bind(this));else af(this.visibleItems,r,this.subgroups,this.itemSet.options.stackSubgroups);for(let c=0;c<this.visibleItems.length;c++)this.visibleItems[c].repositionX(),this.subgroupVisibility[this.visibleItems[c].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[c].data.subgroup]||this.visibleItems[c].hide());this.itemSet.options.cluster&&v.forEach(this.items,c=>{c.cluster&&c.displayed&&c.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=v.updateProperty(this,"height",t)||e;const r=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return e=v.updateProperty(this.props.label,"width",r)||e,e=v.updateProperty(this.props.label,"height",n)||e,e}_applyGroupHeight(e){this.dom.background.style.height=`${e}px`,this.dom.foreground.style.height=`${e}px`,this.dom.label.style.height=`${e}px`}_updateItemsVerticalPosition(e){for(let t=0,r=this.visibleItems.length;t<r;t++){const n=this.visibleItems[t];n.repositionY(e),!this.isVisible&&this.groupId!=Dl.BACKGROUND&&n.displayed&&n.hide()}}redraw(e,t,r,n){let o=!1;const a=this.isVisible;let l;const h=[()=>{r=this._didMarkerHeightChange.call(this)||r},this._updateSubGroupHeights.bind(this,t),this._calculateGroupSizeAndPosition.bind(this),()=>{this.isVisible=this._isGroupVisible.bind(this)(e,t)},()=>{this._redrawItems.bind(this)(r,a,t,e)},this._updateSubgroupsSizes.bind(this),()=>{l=this._calculateHeight.bind(this)(t)},this._calculateGroupSizeAndPosition.bind(this),()=>{o=this._didResize.bind(this)(o,l)},()=>{this._applyGroupHeight.bind(this)(l)},()=>{this._updateItemsVerticalPosition.bind(this)(t)},(()=>(!this.isVisible&&this.height&&(o=!1),o)).bind(this)];if(n)return h;{let d;return h.forEach(c=>{d=c()}),d}}_updateSubGroupHeights(e){if(Object.keys(this.subgroups).length>0){const t=this;this._resetSubgroups(),v.forEach(this.visibleItems,r=>{r.data.subgroup!==void 0&&(t.subgroups[r.data.subgroup].height=Math.max(t.subgroups[r.data.subgroup].height,r.height+e.item.vertical),t.subgroups[r.data.subgroup].visible=typeof this.subgroupVisibility[r.data.subgroup]>"u"?!0:!!this.subgroupVisibility[r.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,r;if(this.heightMode==="fixed"?r=v.toArray(this.items):r=this.visibleItems,r.length>0){let n=r[0].top,o=r[0].top+r[0].height;if(v.forEach(r,a=>{n=Math.min(n,a.top),o=Math.max(o,a.top+a.height)}),n>e.axis){const a=n-e.axis;o-=a,v.forEach(r,l=>{l.top-=a})}t=Math.ceil(o+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const r=this.dom.background;r.parentNode&&r.parentNode.removeChild(r);const n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)}add(e){if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!this.visibleItems.includes(e)){const t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}}_addToSubgroup(e,t=e.data.subgroup){t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const r=e.data.end||e.data.start;new Date(r)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=r),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const t in e.subgroups){const r=e.subgroups[t].items[0].data.end||e.subgroups[t].items[0].data.start;let n=e.subgroups[t].items[0].data.start,o=r-1;e.subgroups[t].items.forEach(a=>{new Date(a.data.start)<new Date(n)&&(n=a.data.start);const l=a.data.end||a.data.start;new Date(l)>new Date(o)&&(o=l)}),e.subgroups[t].start=n,e.subgroups[t].end=new Date(o-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort((t,r)=>t.sortField-r.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)this.subgroups.hasOwnProperty(e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const t=this.visibleItems.indexOf(e);t!=-1&&this.visibleItems.splice(t,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e,t=e.data.subgroup){if(t!=null){const r=this.subgroups[t];if(r){const n=r.items.indexOf(e);n>=0&&(r.items.splice(n,1),r.items.length?this._updateSubgroupsSizes():delete this.subgroups[t])}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=v.toArray(this.items),t=[],r=[];for(let n=0;n<e.length;n++)e[n].data.end!==void 0&&r.push(e[n]),t.push(e[n]);this.orderedItems={byStart:t,byEnd:r},rf(this.orderedItems.byStart),nf(this.orderedItems.byEnd)}_updateItemsInRange(e,t,r){const n=[],o={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=Dl.BACKGROUND){for(let y=0;y<t.length;y++){var a=t[y];a.displayed&&a.hide()}return n}const l=(r.end-r.start)/4,h=r.start-l,d=r.end+l,c=y=>y<h?-1:y<=d?0:1,u=y=>{const{start:_,end:w}=y;return w<h?-1:_<=d?0:1};if(t.length>0)for(let y=0;y<t.length;y++)this._checkIfVisibleWithReference(t[y],n,o,r);const f=v.binarySearchCustom(e.byStart,c,"data","start");if(this._traceVisible(f,e.byStart,n,o,y=>y.data.start<h||y.data.start>d),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let y=0;y<e.byEnd.length;y++)this._checkIfVisibleWithReference(e.byEnd[y],n,o,r)}else{const y=v.binarySearchCustom(e.byEnd,u,"data");this._traceVisible(y,e.byEnd,n,o,_=>_.data.end<h||_.data.start>d)}const m={};let g=0;for(let y=0;y<n.length;y++){const _=n[y];_.displayed||(m[y]=_.redraw(!0),g=m[y].length)}if(g>0)for(let y=0;y<g;y++)v.forEach(m,_=>{_[y]()});for(let y=0;y<n.length;y++)n[y].repositionX();return n}_traceVisible(e,t,r,n,o){if(e!=-1){for(let a=e;a>=0;a--){let l=t[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&n[l.id]===void 0&&(n[l.id]=!0,r.push(l))}for(let a=e+1;a<t.length;a++){let l=t[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&n[l.id]===void 0&&(n[l.id]=!0,r.push(l))}}}_checkIfVisible(e,t,r){e.isVisible(r)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,r,n){e.isVisible(n)?r[e.id]===void 0&&(r[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,r){const n=[],o={};if(t.length>0)for(let c=0;c<t.length;c++)this._checkIfVisibleWithReference(t[c],n,o,r);for(let c=0;c<e.byStart.length;c++)this._checkIfVisibleWithReference(e.byStart[c],n,o,r);for(let c=0;c<e.byEnd.length;c++)this._checkIfVisibleWithReference(e.byEnd[c],n,o,r);const a={};let l=0;for(let c=0;c<n.length;c++){const u=n[c];u.displayed||(a[c]=u.redraw(!0),l=a[c].length)}if(l>0)for(var d=0;d<l;d++)v.forEach(a,function(c){c[d]()});for(let c=0;c<n.length;c++)n[c].repositionX();return n}changeSubgroup(e,t,r){this._removeFromSubgroup(e,t),this._addToSubgroup(e,r),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class qa extends rs{constructor(e,t,r){super(e,t,r),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t,r){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let o=0,a=this.visibleItems.length;o<a;o++)this.visibleItems[o].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class mt{constructor(e,t,r){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:Lt,locale:"en"},this.options=v.extend({},this.defaultOptions,r),this.options.locales=v.extend({},Lt,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(o=>{this.options.locales[o]=v.extend({},n,this.options.locales[o])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=r&&r.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(e){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){const e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this,this.hammerDragCenter=new te(t),this.hammerDragCenter.on("tap",r=>{e.parent.itemSet.body.emitter.emit("click",{event:r,item:e.id})}),this.hammerDragCenter.on("doubletap",r=>{r.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:r,item:e.id})}),this.hammerDragCenter.on("panstart",r=>{r.stopPropagation(),e.parent.itemSet._onDragStart(r)}),this.hammerDragCenter.on("panmove",e.parent.itemSet._onDrag.bind(e.parent.itemSet)),this.hammerDragCenter.on("panend",e.parent.itemSet._onDragEnd.bind(e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const r=this,n=document.createElement("div");this.options.rtl?n.className="vis-delete-rtl":n.className="vis-delete";let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),o=this.options.locales.en),n.title=o.deleteSelected,this.hammerDeleteButton=new te(n).on("tap",a=>{a.stopPropagation(),r.parent.removeFromDataSet(r)}),e.appendChild(n),this.dom.deleteButton=n}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const r=document.createElement("div");r.className="vis-onUpdateTime-tooltip",e.appendChild(r),this.dom.onItemUpdateTimeTooltip=r}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const r=50,n=this.parent.itemSet.body.domProps.scrollTop;let o;this.options.orientation.item=="top"?o=this.top:o=this.parent.height-this.top-this.height,o+this.parent.top-r<-n?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=`${this.height+2}px`):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=`${this.height+2}px`);let l,h;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(h=this.options.tooltipOnItemUpdateTime.template.bind(this),l=h(this.data)):(l=`start: ${ne(this.data.start).format("MM/DD/YYYY hh:mm")}`,this.data.end&&(l+=`<br> end: ${ne(this.data.end).format("MM/DD/YYYY hh:mm")}`)),this.dom.onItemUpdateTimeTooltip.innerHTML=v.xss(l)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,r,n,o,a;const l=this._getItemData(),d=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(a=this.options.visibleFrameTemplate.bind(this),o=v.xss(a(l,d))):o="",d){if(o instanceof Object&&!(o instanceof Element))a(l,d);else if(r=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),r){if(o instanceof Element)d.innerHTML="",d.appendChild(o);else if(o!=null)d.innerHTML=v.xss(o);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.itemVisibleFrameContent=o}}if(this.options.template?(n=this.options.template.bind(this),t=n(l,e,this.data)):t=this.data.content,t instanceof Object&&!(t instanceof Element))n(l,e);else if(r=this._contentToString(this.content)!==this._contentToString(t),r){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=v.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Object.keys(this.data);else return;for(const r of t){const n=this.data[r];n!=null?e.setAttribute(`data-${r}`,n):e.removeAttribute(`data-${r}`)}}}_updateStyle(e){this.style&&(v.removeCssText(e,this.style),this.style=null),this.data.style&&(v.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},v.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},v.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){return this.options.tooltip&&this.options.tooltip.template?this.options.tooltip.template.bind(this)(this._getItemData(),this.data):this.data.title}}mt.prototype.stack=!0;class hf extends mt{constructor(e,t,r){if(super(e,t,r),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;let t;const r=this.data.align||this.options.align,n=this.width*e.getMillisecondsPerPixel();return r=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-n<e.end:r=="left"?t=this.data.start.getTime()+n>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+n/2>e.start&&this.data.start.getTime()-n/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=`vis-item vis-box${t}`,this.dom.line.className=`vis-item vis-line${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(o=>{n=o()}),n}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=(r,n,o,a=!1)=>{if(n===void 0&&o===void 0)return;const l=a?n*-1:n;if(o===void 0){r.style.transform=`translateX(${l}px)`;return}if(n===void 0){r.style.transform=`translateY(${o}px)`;return}r.style.transform=`translate(${l}px, ${o}px)`};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,r=this.props.line.width,n=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-r,this.dotX=e-r/2-n/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+r/2-n/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-r:e-r/2,this.dotX=e-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const r=this.parent.top+this.top+1;this.boxY=this.top||0,t.height=`${r}px`,t.bottom="",t.top="0"}else{const n=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height=`${n}px`,t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class df extends mt{constructor(e,t,r){if(super(e,t,r),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className=`vis-item vis-point${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight=`${this.props.dot.width/2}px`:this.dom.content.style.marginLeft=`${this.props.dot.width/2}px`,this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top=`${(this.height-this.props.dot.height)/2}px`;const t=this.props.dot.width,r=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform=`translateX(${r}px`,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(o=>{n=o()}),n}}repositionXY(){const e=this.options.rtl;((r,n,o,a=!1)=>{if(n===void 0&&o===void 0)return;const l=a?n*-1:n;if(o===void 0){r.style.transform=`translateX(${l}px)`;return}if(n===void 0){r.style.transform=`translateY(${o}px)`;return}r.style.transform=`translate(${l}px, ${o}px)`})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class Ve extends mt{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(o=>{n=o()}),n}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let r=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end);const o=this.data.align===void 0?this.options.align:this.data.align;let a,l;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(r<-t&&(r=-t),n>2*t&&(n=2*t));const h=Math.max(Math.round((n-r)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=r:this.left=r,this.width=h+this.props.content.width,l=this.props.content.width):(this.options.rtl?this.right=r:this.left=r,this.width=h,l=Math.min(n-r,this.props.content.width)),this.options.rtl?this.dom.box.style.transform=`translateX(${this.right*-1}px)`:this.dom.box.style.transform=`translateX(${this.left}px)`,this.dom.box.style.width=`${h}px`,this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const d=Math.max(h-l,0)*-1;this.dom.content.style.transform=`translateX(${d}px)`}else this.dom.content.style.transform=`translateX(${Math.max(h-l,0)}px)`;break;case"center":if(this.options.rtl){const d=Math.max((h-l)/2,0)*-1;this.dom.content.style.transform=`translateX(${d}px)`}else this.dom.content.style.transform=`translateX(${Math.max((h-l)/2,0)}px)`;break;default:if(this.overflow?n>0?a=Math.max(-r,0):a=-l:r<0?a=-r:a=0,this.options.rtl){const d=a*-1;this.dom.content.style.transform=`translateX(${d}px)`}else this.dom.content.style.transform=`translateX(${a}px)`}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top=`${this.top}px`:t.style.top=`${this.parent.height-this.top-this.height}px`}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}Ve.prototype.baseClassName="vis-item vis-range";class Ye extends mt{constructor(e,t,r){if(super(e,t,r),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){let t;const r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return r;{let n;return r.forEach(o=>{n=o()}),n}}repositionY(e){let t;const r=this.options.orientation.item;if(this.data.subgroup!==void 0){const n=this.data.subgroup;this.dom.box.style.height=`${this.parent.subgroups[n].height}px`,r=="top"?this.dom.box.style.top=`${this.parent.top+this.parent.subgroups[n].top}px`:this.dom.box.style.top=`${this.parent.top+this.parent.height-this.parent.subgroups[n].top-this.parent.subgroups[n].height}px`,this.dom.box.style.bottom=""}else this.parent instanceof qa?(t=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=r=="bottom"?"0":"",this.dom.box.style.top=r=="top"?"0":""):(t=this.parent.height,this.dom.box.style.top=`${this.parent.top}px`,this.dom.box.style.bottom="");this.dom.box.style.height=`${t}px`}}Ye.prototype.baseClassName="vis-item vis-background";Ye.prototype.stack=!1;Ye.prototype.show=Ve.prototype.show;Ye.prototype.hide=Ve.prototype.hide;Ye.prototype.repositionX=Ve.prototype.repositionX;class Xv{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=v.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let h=!1,d=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(d=!1),this.x+r>o-this.padding&&(h=!0)),h?a=this.x-r:a=this.x,d?l=this.y-t:l=this.y}else l=this.y-t,l+t+this.padding>n&&(l=n-t-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+r+this.padding>o&&(a=o-r-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}class ki extends mt{constructor(e,t,r){const n=Object.assign({},{fitOnDoubleClick:!0},r,{editable:!1});if(super(e,t,n),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=nt(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,r=this.width*e.getMillisecondsPerPixel(),n=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+r);return this.data.start<e.end&&n>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,r=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(t=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}).bind(this),this._repaintDomAdditionals.bind(this)];if(e)return r;var n;return r.forEach(function(o){n=o()}),n}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let r=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,r)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const r=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;if(t){const o=r+e+(t-e)/2,a=o-n/2,l=this.options.rtl?o*-1:o,h=this.options.rtl?a*-1:a;this.dom.line.style.transform=`translateX(${l}px)`,this.dom.dot.style.transform=`translateX(${h}px)`}else{const o=this.options.rtl?e*-1:e,a=this.options.rtl?(e-n/2)*-1:e-n/2;this.dom.line.style.transform=`translateX(${o}px)`,this.dom.dot.style.transform=`translateX(${a}px)`}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let r=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(r,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var r=this.parent.itemSet.props.height,n=r-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=r-n+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){for(let e of this.data.uiItems)e.cluster=this;this.data.items=this.data.uiItems.map(e=>e.data),this.attached=!0,this.dirty=!0}detach(e=!1){if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){const e=this.data.uiItems.map(n=>({start:n.data.start.valueOf(),end:n.data.end?n.data.end.valueOf():n.data.start.valueOf()}));this.data.min=Math.min(...e.map(n=>Math.min(n.start,n.end||n.start))),this.data.max=Math.max(...e.map(n=>Math.max(n.start,n.end||n.start)));const r=this.data.uiItems.map(n=>n.center).reduce((n,o)=>n+o,0)/this.data.uiItems.length;this.data.uiItems.some(n=>n.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(r),this.data.end=null)}_getUiItems(){return this.data.uiItems&&this.data.uiItems.length?this.data.uiItems.filter(e=>e.cluster===this):[]}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=ki.prototype._onDoubleClick.bind(this)),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const r=this.parent.dom.foreground;if(!r)throw new Error("Cannot redraw item: parent has no foreground container element");r.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),r={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",r)}}_getItemData(){return this.data}}ki.prototype.baseClassName="vis-item vis-range vis-cluster";const Kv="__ungrouped__",Qv="__background__",Zv={UNGROUPED:Kv,BACKGROUND:Qv};class Jv{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,r){return new ki(e,t,r)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,r){let{maxItems:n,clusterCriteria:o}=typeof r=="boolean"?{}:r;o||(o=()=>!0),n=n||1;let a=-1,l=2,h=0;if(t>0){if(t>=1)return[];a=Math.abs(Math.round(Math.log(100/t)/Math.log(l))),h=Math.abs(Math.pow(l,a))}if(this.dataChanged){const c=a!=this.cacheLevel;(this.applyOnChangedLevel?c:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=a;let d=this.cache[a];if(!d){d=[];for(let c in this.groups)if(this.groups.hasOwnProperty(c)){const u=this.groups[c],f=u.length;let m=0;for(;m<f;){let g=u[m],b=1,y=m-1;for(;y>=0&&g.center-u[y].center<h/2;)!u[y].cluster&&o(g.data,u[y].data)&&b++,y--;let _=m+1;for(;_<u.length&&u[_].center-g.center<h/2;)o(g.data,u[_].data)&&b++,_++;let w=d.length-1;for(;w>=0&&g.center-d[w].center<h;)g.group==d[w].group&&o(g.data,d[w].data)&&b++,w--;if(b>n){const x=b-n+1,D=[];let T=m;for(;D.length<x&&T<u.length;)o(u[m].data,u[T].data)&&D.push(u[T]),T++;const S=this.itemSet.getGroupId(g.data),E=this.itemSet.groups[S]||this.itemSet.groups[Zv.UNGROUPED];let A=this._getClusterForItems(D,E,e,r);d.push(A),m+=x}else delete g.cluster,m+=1}}this.cache[a]=d}return d}_filterData(){const e={};this.groups=e;for(const t of Object.values(this.items)){const r=t.parent?t.parent.groupId:"";let n=e[r];n||(n=[],e[r]=n),n.push(t),t.data.start&&(t.data.end?t.center=(t.data.start.valueOf()+t.data.end.valueOf())/2:t.center=t.data.start.valueOf())}for(let t in e)e.hasOwnProperty(t)&&e[t].sort((r,n)=>r.center-n.center);this.dataChanged=!1}_getClusterForItems(e,t,r,n){const o=(r||[]).map(m=>({cluster:m,itemsIds:new Set(m.data.uiItems.map(g=>g.id))}));let a;if(o.length){for(let m of o)if(m.itemsIds.size===e.length&&e.every(g=>m.itemsIds.has(g.id))){a=m.cluster;break}}if(a)return a.setUiItems(e),a.group!==t&&(a.group&&a.group.remove(a),t&&(t.add(a),a.group=t)),a;let l=n.titleTemplate||"";const h={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},d=l.replace(/{count}/,e.length),c='<div title="'+d+'">'+e.length+"</div>",u=Object.assign({},n,this.itemSet.options),f={content:c,title:d,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return a=this.createClusterItem(f,h,u),t&&(t.add(a),a.group=t),a.attach(),a}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const Ct="__ungrouped__",qe="__background__";class We extends Ie{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(n,o,a){const l=o.order;o.order=n.order,n.order=l},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Ue.snap,onDropObjectOnItem(n,o,a){a(o)},onAdd(n,o){o(n)},onUpdate(n,o){o(n)},onMove(n,o){o(n)},onRemove(n,o){o(n)},onMoving(n,o){o(n)},onAddGroup(n,o){o(n)},onMoveGroup(n,o){o(n)},onRemoveGroup(n,o){o(n)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=v.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const r=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(n,o,a){r._onAdd(o.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},update(n,o,a){r._onUpdate(o.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()},remove(n,o,a){r._onRemove(o.items),r.options.cluster&&r.clusterGenerator.setItems(r.items,{applyOnChangedLevel:!1}),r.redraw()}},this.groupListeners={add(n,o,a){if(r._onAddGroups(o.items),r.groupsData&&r.groupsData.length>0){const l=r.groupsData.getDataSet();l.get().forEach(h=>{if(h.nestedGroups){h.showNested!=!1&&(h.showNested=!0);let d=[];h.nestedGroups.forEach(c=>{const u=l.get(c);u&&(u.nestedInGroup=h.id,h.showNested==!1&&(u.visible=!1),d=d.concat(u))}),l.update(d,a)}})}},update(n,o,a){r._onUpdateGroups(o.items)},remove(n,o,a){r._onRemoveGroups(o.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){const e=document.createElement("div");e.className="vis-itemset",e["vis-itemset"]=this,this.dom.frame=e;const t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;const r=document.createElement("div");r.className="vis-foreground",e.appendChild(r),this.dom.foreground=r;const n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;const o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();const a=new qa(qe,null,this);a.show(),this.groups[qe]=a,this.hammer=new te(this.body.dom.centerContainer),this.hammer.on("hammer.input",l=>{l.isFirst&&this._onTouch(l)}),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:te.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new te(this.body.dom.rightContainer):this.groupHammer=new te(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:te.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()}setOptions(e){if(e){const t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];v.selectiveExtend(t,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(v.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(v.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&v.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),["locale","locales"].forEach(n=>{n in e&&(this.options[n]=e[n])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&v.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&v.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const r=n=>{const o=e[n];if(o){if(typeof o!="function")throw new Error(`option ${n} must be a function ${n}(item, callback)`);this.options[n]=o}};["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(r),e.cluster?(Object.assign(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new Jv(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&v.forEach(this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&v.forEach(this.groups,(t,r)=>{r!==qe&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=setTimeout(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){e==null&&(e=[]),Array.isArray(e)||(e=[e]);const t=this.selection.filter(r=>e.indexOf(r)===-1);for(let r of t){const n=this.getItemById(r);n&&n.unselect()}this.selection=[...e];for(let r of e){const n=this.getItemById(r);n&&n.select()}}getSelection(){return this.selection.concat([])}getVisibleItems(){const e=this.body.range.getRange();let t,r;this.options.rtl?(t=this.body.util.toScreen(e.start),r=this.body.util.toScreen(e.end)):(r=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const n=[];for(const o in this.groups)if(this.groups.hasOwnProperty(o)){const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const h of l)this.options.rtl?h.right<r&&h.right+h.width>t&&n.push(h.id):h.left<t&&h.left+h.width>r&&n.push(h.id)}return n}getItemsAtCurrentTime(e){let t,r;this.options.rtl?(t=this.body.util.toScreen(e),r=this.body.util.toScreen(e)):(r=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const n=[];for(const o in this.groups)if(this.groups.hasOwnProperty(o)){const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const h of l)this.options.rtl?h.right<r&&h.right+h.width>t&&n.push(h.id):h.left<t&&h.left+h.width>r&&n.push(h.id)}return n}getVisibleGroups(){const e=[];for(const t in this.groups)this.groups.hasOwnProperty(t)&&this.groups[t].isVisible&&e.push(t);return e}getItemById(e){return this.items[e]||this.clusters.find(t=>t.id===e)}_deselect(e){const t=this.selection;for(let r=0,n=t.length;r<n;r++)if(t[r]==e){t.splice(r,1);break}}redraw(){const e=this.options.margin,t=this.body.range,r=v.option.asSize,n=this.options,o=n.orientation.item;let a=!1;const l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,l.className="vis-itemset",this.options.cluster&&this._clusterItems(),a=this._orderGroups()||a;const h=t.end-t.start,d=h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,c=t.start!=this.lastRangeStart,u=n.stack!=this.lastStack,f=n.stackSubgroups!=this.lastStackSubgroups,m=d||c||u||f;this.lastVisibleInterval=h,this.lastRangeStart=t.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;const g=this._firstGroup(),b={item:e.item,axis:e.axis},y={item:e.item,axis:e.item.vertical/2};let _=0;const w=e.axis+e.item.vertical;this.groups[qe].redraw(t,y,m);const x={};let D=0;if(v.forEach(this.groups,(S,E)=>{if(E===qe)return;const A=S==g?b:y,$=!0;x[E]=S.redraw(t,A,m,$),D=x[E].length}),D>0){const S={};for(let E=0;E<D;E++)v.forEach(x,(A,$)=>{S[$]=A[E]()});v.forEach(this.groups,(E,A)=>{if(A===qe)return;a=S[A]||a,_+=E.height}),_=Math.max(_,w)}return _=Math.max(_,w),l.style.height=r(_),this.props.width=l.offsetWidth,this.props.height=_,this.dom.axis.style.top=r(o=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,a=this._isResized()||a,a}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[Ct]||null}_updateUngrouped(){let e=this.groups[Ct],t,r;if(this.groupsData){if(e){e.dispose(),delete this.groups[Ct];for(r in this.items)if(this.items.hasOwnProperty(r)){t=this.items[r],t.parent&&t.parent.remove(t);const n=this.getGroupId(t.data),o=this.groups[n];o&&o.add(t)||t.hide()}}}else if(!e){e=new rs(null,null,this),this.groups[Ct]=e;for(r in this.items)this.items.hasOwnProperty(r)&&(t=this.items[r],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let r;const n=this.itemsData;if(!e)this.itemsData=null;else if(Pe(e))this.itemsData=Ft(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(n&&(v.forEach(this.itemListeners,(o,a)=>{n.off(a,o)}),n.dispose(),r=n.getIds(),this._onRemove(r)),this.itemsData){const o=this.id;v.forEach(this.itemListeners,(a,l)=>{t.itemsData.on(l,a,o)}),r=this.itemsData.getIds(),this._onAdd(r),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let r;if(this.groupsData&&(v.forEach(this.groupListeners,(n,o)=>{t.groupsData.off(o,n)}),r=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(r)),!e)this.groupsData=null;else if(Pe(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){const n=this.groupsData.getDataSet();n.get().forEach(a=>{a.nestedGroups&&a.nestedGroups.forEach(l=>{const h=n.get(l);h.nestedInGroup=a.id,a.showNested==!1&&(h.visible=!1),n.update(h)})});const o=this.id;v.forEach(this.groupListeners,(a,l)=>{t.groupsData.on(l,a,o)}),r=this.groupsData.getIds(),this._onAddGroups(r)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,r=>{r&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?qe:this.groupsData?e.group:Ct}_onUpdate(e){const t=this;e.forEach(r=>{const n=t.itemsData.get(r);let o=t.items[r];const a=n?t._getType(n):null,l=We.types[a];let h;if(o&&(!l||!(o instanceof l)?(h=o.selected,t._removeItem(o),o=null):t._updateItem(o,n)),!o&&n)if(l)o=new l(n,t.conversion,t.options),o.id=r,t._addItem(o),h&&(this.selection.push(r),o.select());else throw new TypeError(`Unknown item type "${a}"`)}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const r=this;e.forEach(n=>{const o=r.items[n];o&&(t++,r._removeItem(o))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){v.forEach(this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;e.forEach(r=>{const n=t.groupsData.get(r);let o=t.groups[r];if(o)o.setData(n);else{if(r==Ct||r==qe)throw new Error(`Illegal group id. ${r} is a reserved id.`);const a=Object.create(t.options);v.extend(a,{height:null}),o=new rs(r,n,t),t.groups[r]=o;for(const l in t.items)if(t.items.hasOwnProperty(l)){const h=t.items[l];h.data.group==r&&o.add(h)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){e.forEach(t=>{const r=this.groups[t];r&&(r.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!v.equalArray(e,this.groupIds);if(t){const r=this.groups;e.forEach(n=>{r[n].hide()}),e.forEach(n=>{r[n].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(n,o){let a=[];return o.forEach(l=>{if(a.push(l),n.groupsData.get(l).nestedGroups){const d=n.groupsData.get({filter(c){return c.nestedInGroup==l},order:n.options.groupOrder}).map(c=>c.id);a=a.concat(t(n,d))}}),a}const r=e.filter(n=>!this.groupsData.get(n).nestedInGroup);return t(this,r)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),r=this.groups[t];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,r&&r.add(e)}_updateItem(e,t){e.setData(t);const r=this.getGroupId(e.data),n=this.groups[r];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){e.hide(),delete this.items[e.id];const t=this.selection.indexOf(e.id);t!=-1&&this.selection.splice(t,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let r=0;r<e.length;r++)e[r]instanceof Ve&&t.push(e[r]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,r=this;let n;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,a=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,o)n={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[n];else if(a)n={item:a,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[n];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const l=this._getGroupIndex(t.data.group),h=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=h.map(d=>{const c=r.items[d],u=r._getGroupIndex(c.data.group);return{item:c,initialX:e.center.x,groupOffset:l-u,data:this._cloneItemData(c.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?r.right-e.center.x+10:e.center.x-r.left-10,o=this.body.util.toTime(n),a=this.body.util.getScale(),l=this.body.util.getStep(),h=t?t(o,a,l):o,c={type:"range",start:h,end:h,content:"new item"},u=nt();c[this.itemsData.idProp]=u;const f=this.groupFromTarget(e);f&&(c.group=f.groupId);const m=new Ve(c,this.conversion,this.options);m.id=u,m.data=this._cloneItemData(c),this._addItem(m),this.touchParams.selectedItem=m;const g={item:m,initialX:e.center.x,data:m.data};this.options.rtl?g.dragLeft=!0:g.dragRight=!0,this.touchParams.itemProps=[g],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const t=this.body.dom.centerContainer,r=t.getBoundingClientRect();this.popup.setPosition(e.center.x-r.left+t.offsetLeft,e.center.y-r.top+t.offsetTop),this.popup.show()}if(this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.options.snap||null,n=this.body.dom.root.offsetLeft,o=this.options.rtl?n+this.body.domProps.right.width:n+this.body.domProps.left.width,a=this.body.util.getScale(),l=this.body.util.getStep(),h=this.touchParams.selectedItem,d=(this.options.editable.overrideItems||h.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&h.editable!=null&&h.editable.updateGroup;let c=null;if(d&&h&&h.data.group!=null){const u=t.groupFromTarget(e);u&&(c=this._getGroupIndex(u.groupId))}this.touchParams.itemProps.forEach(u=>{const f=t.body.util.toTime(e.center.x-o),m=t.body.util.toTime(u.initialX-o);let g,b,y,_,w;this.options.rtl?g=-(f-m):g=f-m;let x=this._cloneItemData(u.item.data);if(u.item.editable!=null&&!u.item.editable.updateTime&&!u.item.editable.updateGroup&&!t.options.editable.overrideItems)return;if((this.options.editable.overrideItems||h.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&h.editable!=null&&h.editable.updateTime){if(u.dragLeft)this.options.rtl?x.end!=null&&(y=v.convert(u.data.end,"Date"),w=new Date(y.valueOf()+g),x.end=r?r(w,a,l):w):x.start!=null&&(b=v.convert(u.data.start,"Date"),_=new Date(b.valueOf()+g),x.start=r?r(_,a,l):_);else if(u.dragRight)this.options.rtl?x.start!=null&&(b=v.convert(u.data.start,"Date"),_=new Date(b.valueOf()+g),x.start=r?r(_,a,l):_):x.end!=null&&(y=v.convert(u.data.end,"Date"),w=new Date(y.valueOf()+g),x.end=r?r(w,a,l):w);else if(x.start!=null)if(b=v.convert(u.data.start,"Date").valueOf(),_=new Date(b+g),x.end!=null){y=v.convert(u.data.end,"Date");const T=y.valueOf()-b.valueOf();x.start=r?r(_,a,l):_,x.end=new Date(x.start.valueOf()+T)}else x.start=r?r(_,a,l):_}if(d&&!u.dragLeft&&!u.dragRight&&c!=null&&x.group!=null){let T=c-u.groupOffset;T=Math.max(0,T),T=Math.min(t.groupIds.length-1,T),x.group=t.groupIds[T]}x=this._cloneItemData(x),t.options.onMoving(x,T=>{T&&u.item.setData(this._cloneItemData(T,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const r=this.groups[t];if(r&&r.groupId!=e.data.group){const n=e.parent;n.remove(e),n.order(),e.data.group=r.groupId,r.add(e),r.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,r=this.touchParams.itemProps;this.touchParams.itemProps=null,r.forEach(n=>{const o=n.item.id;if(!(t.itemsData.get(o)!=null))t.options.onAdd(n.item.data,l=>{t._removeItem(n.item),l&&t.itemsData.add(l),t.body.emitter.emit("_change")});else{const l=this._cloneItemData(n.item.data);t.options.onMove(l,h=>{h?(h[this.itemsData.idProp]=o,this.itemsData.update(h)):(n.item.setData(n.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);setTimeout(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e,t=void 0){if(!e||!e.nestedGroups)return;const r=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let n=r.get(e.groupId);n.showNested=e.showNested;let o=e.nestedGroups,a=o;for(;a.length>0;){let d=a;a=[];for(let c=0;c<d.length;c++){let u=r.get(d[c]);u.nestedGroups&&(a=a.concat(u.nestedGroups))}a.length>0&&(o=o.concat(a))}var l;if(n.showNested){var h=r.get(n.nestedGroups);for(let d=0;d<h.length;d++){let c=h[d];c.nestedGroups&&c.nestedGroups.length>0&&(c.showNested==null||c.showNested==!0)&&h.push(...r.get(c.nestedGroups))}l=h.map(function(d){return d.visible==null&&(d.visible=!0),d.visible=!!n.showNested,d})}else l=r.get(o).map(function(d){return d.visible==null&&(d.visible=!0),d.visible=!!n.showNested,d});r.update(l.concat(n)),n.showNested?(v.removeClassName(e.dom.label,"collapsed"),v.addClassName(e.dom.label,"expanded")):(v.removeClassName(e.dom.label,"expanded"),v.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),r=this.groupFromTarget(e);if(r&&r.height!=this.groupTouchParams.group.height){const n=r.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,a=r.dom.foreground.getBoundingClientRect(),l=this.groupTouchParams.group.height;if(n){if(a.top+l<o)return}else{const h=r.height;if(a.top+h-l>o)return}}if(r&&r!=this.groupTouchParams.group){const n=t.get(r.groupId),o=t.get(this.groupTouchParams.group.groupId);o&&n&&(this.options.groupOrderSwap(o,n,t),t.update(o),t.update(n));const a=t.getIds({order:this.options.groupOrder});if(!v.equalArray(a,this.groupTouchParams.originalOrder)){const l=this.groupTouchParams.originalOrder,h=this.groupTouchParams.group.groupId,d=Math.min(l.length,a.length);let c=0,u=0,f=0;for(;c<d;){for(;c+u<d&&c+f<d&&a[c+u]==l[c+f];)c++;if(c+u>=d)break;if(a[c+u]==h)u=1;else if(l[c+f]==h)f=1;else{const m=a.indexOf(l[c+f]),g=t.get(a[c+u]),b=t.get(l[c+f]);this.options.groupOrderSwap(g,b,t),t.update(g),t.update(b);const y=a[c+u];a[c+u]=l[c+f],a[m]=y,c++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,r=t.groupTouchParams.group.groupId,n=t.groupsData.getDataSet(),o=v.extend({},n.get(r));t.options.onMoveGroup(o,a=>{if(a)a[n._idProp]=r,n.update(a);else{const l=n.getIds({order:t.options.groupOrder});if(!v.equalArray(l,t.groupTouchParams.originalOrder)){const h=t.groupTouchParams.originalOrder,d=Math.min(h.length,l.length);let c=0;for(;c<d;){for(;c<d&&l[c]==h[c];)c++;if(c>=d)break;const u=l.indexOf(h[c]),f=n.get(l[c]),m=n.get(h[c]);t.options.groupOrderSwap(f,m,n),n.update(f),n.update(m);const g=l[c];l[c]=h[c],l[u]=g,c++}}}}),t.body.emitter.emit("groupDragged",{groupId:r}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),r=e.srcEvent&&e.srcEvent.shiftKey;if(t||r){this._onMultiSelectItem(e);return}const n=this.getSelection(),o=this.itemFromTarget(e),a=o&&o.selectable?[o.id]:[];this.setSelection(a);const l=this.getSelection();(l.length>0||n.length>0)&&this.body.emitter.emit("select",{items:l,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);if(t===r)return;const n=t.getTitle();if(this.options.showTooltips&&n){this.popup==null&&(this.popup=new Xv(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(n);const o=this.body.dom.centerContainer,a=o.getBoundingClientRect();this.popup.setPosition(e.clientX-a.left+o.offsetLeft,e.clientY-a.top+o.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const r=this.itemFromRelatedTarget(e);t!==r&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const r=this.body.dom.centerContainer,n=r.getBoundingClientRect();this.popup.setPosition(e.clientX-n.left+r.offsetLeft,e.clientY-n.top+r.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const r=t.itemsData.get(e.id);this.options.onUpdate(r,n=>{n&&t.itemsData.update(n)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),r=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(r,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,r=this.options.snap||null,n=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?n.right-e.center.x:e.center.x-n.left,a=this.body.util.toTime(o),l=this.body.util.getScale(),h=this.body.util.getStep();let d,c;e.type=="drop"?(c=JSON.parse(e.dataTransfer.getData("text")),c.content=c.content?c.content:"new item",c.start=c.start?c.start:r?r(a,l,h):a,c.type=c.type||"box",c[this.itemsData.idProp]=c.id||nt(),c.type=="range"&&!c.end&&(d=this.body.util.toTime(o+this.props.width/5),c.end=r?r(d,l,h):d)):(c={start:r?r(a,l,h):a,content:"new item"},c[this.itemsData.idProp]=nt(),this.options.type==="range"&&(d=this.body.util.toTime(o+this.props.width/5),c.end=r?r(d,l,h):d));const u=this.groupFromTarget(e);u&&(c.group=u.groupId),c=this._cloneItemData(c),this.options.onAdd(c,f=>{f&&(t.itemsData.add(f),e.type=="drop"&&t.setSelection([f.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let r=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const a=this.itemsData.get(t.id).group;let l;this.options.multiselectPerGroup&&r.length>0&&(l=this.itemsData.get(r[0]).group),(!this.options.multiselectPerGroup||l==null||l==a)&&r.push(t.id);const h=We._getItemRange(this.itemsData.get(r));if(!this.options.multiselectPerGroup||l==a){r=[];for(const d in this.items)if(this.items.hasOwnProperty(d)){const c=this.items[d],u=c.data.start,f=c.data.end!==void 0?c.data.end:u;u>=h.min&&f<=h.max&&(!this.options.multiselectPerGroup||l==this.itemsData.get(c.id).group)&&!(c instanceof Ye)&&r.push(c.id)}}}else{const a=r.indexOf(t.id);a==-1?r.push(t.id):r.splice(a,1)}const o=r.filter(a=>this.getItemById(a).selectable);this.setSelection(o),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,r=null;return e.forEach(n=>{(r==null||n.start<r)&&(r=n.start),n.end!=null?(t==null||n.end>t)&&(t=n.end):(t==null||n.start>t)&&(t=n.start)}),{min:r,max:t}}itemFromElement(e){let t=e;for(;t;){if(t.hasOwnProperty("vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let r=this.groupIds;r.length<=0&&this.groupsData&&(r=this.groupsData.getIds({order:this.options.groupOrder}));for(let n=0;n<r.length;n++){const o=r[n],a=this.groups[o],l=a.dom.foreground,h=l.getBoundingClientRect();if(t>=h.top&&t<h.top+l.offsetHeight)return a;if(this.options.orientation.item==="top"){if(n===this.groupIds.length-1&&t>h.top)return a}else if(n===0&&t<h.top+l.offset)return a}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(t.hasOwnProperty("vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const r=v.extend({},e);return t||(t=this.itemsData.type),r.start!=null&&(r.start=v.convert(r.start,t&&t.start||"Date")),r.end!=null&&(r.end=v.convert(r.end,t&&t.end||"Date")),r}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let r of t)r.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){const t=new Set(e.map(o=>o.id)),r=this.clusters.filter(o=>!t.has(o.id));let n=!1;for(let o of r){const a=this.selection.indexOf(o.id);a!==-1&&(o.unselect(),this.selection.splice(a,1),n=!0)}if(n){const o=this.getSelection();this.body.emitter.emit("select",{items:o,event})}}this.clusters=e||[]}}We.types={background:Ye,box:hf,range:Ve,point:df};We.prototype._onAdd=We.prototype._onUpdate;let ei=!1,El,ns="background: #FFeeee; color: #dd0000";class W{constructor(){}static validate(e,t,r){ei=!1,El=t;let n=t;return r!==void 0&&(n=t[r]),W.parse(e,n,[]),ei}static parse(e,t,r){for(let n in e)e.hasOwnProperty(n)&&W.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){W.getSuggestion(e,r,n);return}let o=e,a=!0;r[e]===void 0&&r.__any__!==void 0&&(o="__any__",a=W.getType(t[e])==="object");let l=r[o];a&&l.__type__!==void 0&&(l=l.__type__),W.checkFields(e,t,r,o,l,n)}static checkFields(e,t,r,n,o,a){let l=function(c){console.log("%c"+c+W.printLocation(a,e),ns)},h=W.getType(t[e]),d=o[h];d!==void 0?W.getType(d)==="array"&&d.indexOf(t[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+W.print(d)+' not "'+t[e]+'". '),ei=!0):h==="object"&&n!=="__any__"&&(a=v.copyAndExtendArray(a,e),W.parse(t[e],r[n],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+W.print(Object.keys(o))+". Received ["+h+'] "'+t[e]+'"'),ei=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){let n=W.findInOptions(e,t,r,!1),o=W.findInOptions(e,El,[],!0),a=8,l=4,h;n.indexMatch!==void 0?h=" in "+W.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:o.distance<=l&&n.distance>o.distance?h=" in "+W.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+W.printLocation(o.path,o.closestMatch,""):n.distance<=a?h='. Did you mean "'+n.closestMatch+'"?'+W.printLocation(n.path,e):h=". Did you mean one of these: "+W.print(Object.keys(t))+W.printLocation(r,e),console.log('%cUnknown option detected: "'+e+'"'+h,ns),ei=!0}static findInOptions(e,t,r,n=!1){let o=1e9,a="",l=[],h=e.toLowerCase(),d;for(let c in t){let u;if(t[c].__type__!==void 0&&n===!0){let f=W.findInOptions(e,t[c],v.copyAndExtendArray(r,c));o>f.distance&&(a=f.closestMatch,l=f.path,o=f.distance,d=f.indexMatch)}else c.toLowerCase().indexOf(h)!==-1&&(d=c),u=W.levenshteinDistance(e,c),o>u&&(a=c,l=v.copyArray(r),o=u)}return{closestMatch:a,path:l,distance:o,indexMatch:d}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)n+="  ";n+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)n+="  ";n+=t+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var r=[],n;for(n=0;n<=t.length;n++)r[n]=[n];var o;for(o=0;o<=e.length;o++)r[0][o]=o;for(n=1;n<=t.length;n++)for(o=1;o<=e.length;o++)t.charAt(n-1)==e.charAt(o-1)?r[n][o]=r[n-1][o-1]:r[n][o]=Math.min(r[n-1][o-1]+1,Math.min(r[n][o-1]+1,r[n-1][o]+1));return r[t.length][e.length]}}let O="string",k="boolean",H="number",kl="array",Tt="date",K="object",eb="dom",St="moment",Ol="any",tb={configure:{enabled:{boolean:k},filter:{boolean:k,function:"function"},container:{dom:eb},__type__:{object:K,boolean:k,function:"function"}},align:{string:O},alignCurrentTime:{string:O,undefined:"undefined"},rtl:{boolean:k,undefined:"undefined"},rollingMode:{follow:{boolean:k},offset:{number:H,undefined:"undefined"},__type__:{object:K}},onTimeout:{timeoutMs:{number:H},callback:{function:"function"},__type__:{object:K}},verticalScroll:{boolean:k,undefined:"undefined"},horizontalScroll:{boolean:k,undefined:"undefined"},autoResize:{boolean:k},throttleRedraw:{number:H},clickToUse:{boolean:k},dataAttributes:{string:O,array:kl},editable:{add:{boolean:k,undefined:"undefined"},remove:{boolean:k,undefined:"undefined"},updateGroup:{boolean:k,undefined:"undefined"},updateTime:{boolean:k,undefined:"undefined"},overrideItems:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:K}},end:{number:H,date:Tt,string:O,moment:St},format:{minorLabels:{millisecond:{string:O,undefined:"undefined"},second:{string:O,undefined:"undefined"},minute:{string:O,undefined:"undefined"},hour:{string:O,undefined:"undefined"},weekday:{string:O,undefined:"undefined"},day:{string:O,undefined:"undefined"},week:{string:O,undefined:"undefined"},month:{string:O,undefined:"undefined"},year:{string:O,undefined:"undefined"},__type__:{object:K,function:"function"}},majorLabels:{millisecond:{string:O,undefined:"undefined"},second:{string:O,undefined:"undefined"},minute:{string:O,undefined:"undefined"},hour:{string:O,undefined:"undefined"},weekday:{string:O,undefined:"undefined"},day:{string:O,undefined:"undefined"},week:{string:O,undefined:"undefined"},month:{string:O,undefined:"undefined"},year:{string:O,undefined:"undefined"},__type__:{object:K,function:"function"}},__type__:{object:K}},moment:{function:"function"},groupHeightMode:{string:O},groupOrder:{string:O,function:"function"},groupEditable:{add:{boolean:k,undefined:"undefined"},remove:{boolean:k,undefined:"undefined"},order:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:K}},groupOrderSwap:{function:"function"},height:{string:O,number:H},hiddenDates:{start:{date:Tt,number:H,string:O,moment:St},end:{date:Tt,number:H,string:O,moment:St},repeat:{string:O},__type__:{object:K,array:kl}},itemsAlwaysDraggable:{item:{boolean:k,undefined:"undefined"},range:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:K}},limitSize:{boolean:k},locale:{string:O},locales:{__any__:{any:Ol},__type__:{object:K}},longSelectPressTime:{number:H},margin:{axis:{number:H},item:{horizontal:{number:H,undefined:"undefined"},vertical:{number:H,undefined:"undefined"},__type__:{object:K,number:H}},__type__:{object:K,number:H}},max:{date:Tt,number:H,string:O,moment:St},maxHeight:{number:H,string:O},maxMinorChars:{number:H},min:{date:Tt,number:H,string:O,moment:St},minHeight:{number:H,string:O},moveable:{boolean:k},multiselect:{boolean:k},multiselectPerGroup:{boolean:k},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:O,undefined:"undefined"},item:{string:O,undefined:"undefined"},__type__:{string:O,object:K}},selectable:{boolean:k},sequentialSelection:{boolean:k},showCurrentTime:{boolean:k},showMajorLabels:{boolean:k},showMinorLabels:{boolean:k},showWeekScale:{boolean:k},stack:{boolean:k},stackSubgroups:{boolean:k},cluster:{maxItems:{number:H,undefined:"undefined"},titleTemplate:{string:O,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:k,undefined:"undefined"},fitOnDoubleClick:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:K}},snap:{function:"function",null:"null"},start:{date:Tt,number:H,string:O,moment:St},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:O,function:"function"},showTooltips:{boolean:k},tooltip:{followMouse:{boolean:k},overflowMethod:{string:["cap","flip","none"]},delay:{number:H},template:{function:"function"},__type__:{object:K}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:k,object:K}},timeAxis:{scale:{string:O,undefined:"undefined"},step:{number:H,undefined:"undefined"},__type__:{object:K}},type:{string:O},width:{string:O,number:H},preferZoom:{boolean:k},zoomable:{boolean:k},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:H},zoomMax:{number:H},zoomMin:{number:H},xss:{disabled:{boolean:k},filterOptions:{__any__:{any:Ol},__type__:{object:K}},__type__:{object:K}},__type__:{object:K}},ib={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var sb={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class rb{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return sb[e]}setColor(e,t=!0){if(e==="none")return;let r;var n=this._isColorString(e);if(n!==void 0&&(e=n),v.isString(e)===!0){if(v.isValidRGB(e)===!0){let o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(v.isValidRGBA(e)===!0){let o=e.substr(5).substr(0,e.length-6).split(",");r={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(v.isValidHex(e)===!0){let o=v.hexToRGB(e);r={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let o=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:o}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=v.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=v.extend({},e)),this.color=e;let r=v.RGBToHSV(e.r,e.g,e.b),n=2*Math.PI,o=this.r*r.s,a=this.centerCoordinates.x+o*Math.sin(n*r.h),l=this.centerCoordinates.y+o*Math.cos(n*r.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=v.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let r=v.HSVToRGB(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){let t=v.RGBToHSV(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new te(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),Yu(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,o,a,l;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;let h=2*Math.PI/360,d=1/360,c=1/this.r,u;for(a=0;a<360;a++)for(l=0;l<this.r;l++)n=this.centerCoordinates.x+l*Math.sin(h*a),o=this.centerCoordinates.y+l*Math.cos(h*a),u=v.HSVToRGB(a*d,l*c,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=r-a,h=n-o,d=Math.atan2(l,h),c=.98*Math.min(Math.sqrt(l*l+h*h),a),u=Math.cos(d)*c+o,f=Math.sin(d)*c+a;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let m=d/(2*Math.PI);m=m<0?m+1:m;let g=c/this.r,b=v.RGBToHSV(this.color.r,this.color.g,this.color.b);b.h=m,b.s=g;let y=v.HSVToRGB(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class cf{constructor(e,t,r,n=1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},v.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new rb(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=this.options.filter,t=0,r=!1;for(let n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){let r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=v.xss(e),this._makeItem([],t)}_makeLabel(e,t,r=!1){let n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0?n.innerHTML=v.xss("<i><b>"+e+":</b></i>"):n.innerHTML=v.xss(e+":"),n}_makeDropdown(e,t,r){let n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;t!==void 0&&e.indexOf(t)!==-1&&(o=e.indexOf(t));for(let h=0;h<e.length;h++){let d=document.createElement("option");d.value=e[h],h===o&&(d.selected="selected"),d.innerHTML=e[h],n.appendChild(d)}let a=this;n.onchange=function(){a._update(this.value,r)};let l=this._makeLabel(r[r.length-1],r);this._makeItem(r,l,n)}_makeRange(e,t,r){let n=e[0],o=e[1],a=e[2],l=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=o,h.max=a}catch{}h.step=l;let d="",c=0;if(t!==void 0){let b=1.2;t<0&&t*b<o?(h.min=Math.ceil(t*b),c=h.min,d="range increased"):t/b<o&&(h.min=Math.ceil(t/b),c=h.min,d="range increased"),t*b>a&&a!==1&&(h.max=Math.ceil(t*b),c=h.max,d="range increased"),h.value=t}else h.value=n;let u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=Number(h.value);var f=this;h.onchange=function(){u.value=this.value,f._update(Number(this.value),r)},h.oninput=function(){u.value=this.value};let m=this._makeLabel(r[r.length-1],r),g=this._makeItem(r,m,h,u);d!==""&&this.popupHistory[g]!==c&&(this.popupHistory[g]=c,this._setupPopup(d,g))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=v.xss(e),r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));let o=this;n.onchange=function(){o._update(this.checked,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeTextInput(e,t,r){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});let o=this;n.onchange=function(){o._update(this.value,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeColorField(e,t,r){let n=e[1],o=document.createElement("div");t=t===void 0?n:t,t!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,o.onclick=()=>{this._showColorPicker(t,o,r)};let a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,o)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{let o="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=o,this._update(o,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1,o=this.options.filter,a=!1;for(let l in e)if(e.hasOwnProperty(l)){n=!0;let h=e[l],d=v.copyAndExtendArray(t,l);if(typeof o=="function"&&(n=o(l,t),n===!1&&!Array.isArray(h)&&typeof h!="string"&&typeof h!="boolean"&&h instanceof Object&&(this.allowCreation=!1,n=this._handleObject(h,d,!0),this.allowCreation=r===!1)),n!==!1){a=!0;let c=this._getValue(d);if(Array.isArray(h))this._handleArray(h,c,d);else if(typeof h=="string")this._makeTextInput(h,c,d);else if(typeof h=="boolean")this._makeCheckbox(h,c,d);else if(h instanceof Object){let u=!0;if(t.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==l&&(u=!1),u===!0)if(h.enabled!==void 0){let f=v.copyAndExtendArray(d,"enabled"),m=this._getValue(f);if(m===!0){let g=this._makeLabel(l,d,!0);this._makeItem(d,g),a=this._handleObject(h,d)||a}else this._makeCheckbox(h,m,d)}else{let f=this._makeLabel(l,d,!0);this._makeItem(d,f),a=this._handleObject(h,d)||a}}else console.error("dont know how to handle",h,l,d)}}return a}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){let r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<t.length;o++)t[o]!=="global"&&(n[t[o]]===void 0&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return r}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}let nb=class uf extends ot{constructor(e,t,r,n){if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof uf))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(r)||Pe(r))&&r instanceof Object){const h=n;n=r,r=h}n&&n.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const o=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:ne},this.options=v.deepExtend({},this.defaultOptions),n&&v.setupXSSProtection(n.xss),this._create(e),!n||n&&typeof n.rtl>"u"){this.dom.root.style.visibility="hidden";let h,d=this.dom.root;for(;!h&&d;)h=window.getComputedStyle(d,null).direction,d=d.parentElement;this.options.rtl=h&&h.toLowerCase()=="rtl"}else this.options.rtl=n.rtl;n&&(n.rollingMode&&(this.options.rollingMode=n.rollingMode),n.onInitialDrawComplete&&(this.options.onInitialDrawComplete=n.onInitialDrawComplete),n.onTimeout&&(this.options.onTimeout=n.onTimeout),n.loadingScreenTemplate&&(this.options.loadingScreenTemplate=n.loadingScreenTemplate));const a=document.createElement("div");if(this.options.loadingScreenTemplate){const h=this.options.loadingScreenTemplate.bind(this),d=h(this.dom.loadingScreen);d instanceof Object&&!(d instanceof Element)?h(a):d instanceof Element?(a.innerHTML="",a.appendChild(d)):d!=null&&(a.innerHTML=v.xss(d))}this.dom.loadingScreen.appendChild(a),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return o.timeAxis.step.scale},getStep(){return o.timeAxis.step.step},toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new Ei(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new wi(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new Fa(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new We(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function l(h,d){o.hasListeners(h)&&o.emit(h,o.getEventProperties(d))}this.dom.root.onclick=h=>{l("click",h)},this.dom.root.ondblclick=h=>{l("doubleClick",h)},this.dom.root.oncontextmenu=h=>{l("contextmenu",h)},this.dom.root.onmouseover=h=>{l("mouseOver",h)},window.PointerEvent?(this.dom.root.onpointerdown=h=>{l("mouseDown",h)},this.dom.root.onpointermove=h=>{l("mouseMove",h)},this.dom.root.onpointerup=h=>{l("mouseUp",h)}):(this.dom.root.onmousemove=h=>{l("mouseMove",h)},this.dom.root.onmousedown=h=>{l("mouseDown",h)},this.dom.root.onmouseup=h=>{l("mouseUp",h)}),this.initialFitDone=!1,this.on("changed",()=>{if(o.itemsData!=null){if(!o.initialFitDone&&!o.options.rollingMode)if(o.initialFitDone=!0,o.options.start!=null||o.options.end!=null){if(o.options.start==null||o.options.end==null)var h=o.getItemRange();const d=o.options.start!=null?o.options.start:h.min,c=o.options.end!=null?o.options.end:h.max;o.setWindow(d,c,{animation:!1})}else o.fit({animation:!1});!o.initialDrawDone&&(o.initialRangeChangeDone||!o.options.start&&!o.options.end||o.options.rollingMode)&&(o.initialDrawDone=!0,o.itemSet.initialDrawDone=!0,o.dom.root.style.visibility="visible",o.dom.loadingScreen.parentNode.removeChild(o.dom.loadingScreen),o.options.onInitialDrawComplete&&setTimeout(()=>o.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{o.destroy()}),n&&this.setOptions(n),this.body.emitter.on("fit",h=>{this._onFit(h),this.redraw()}),r&&this.setGroups(r),t&&this.setItems(t),this._redraw()}_createConfigurator(){return new cf(this,this.dom.container,ib)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(W.validate(e,tb)===!0&&console.log("%cErrors have been found in the supplied options object.",ns),ot.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const r=this.itemsData;if(r){const n=this.getSelection();this.setItems(null),this.setItems(r.rawDS),this.setSelection(n)}}}setItems(e){this.itemsDone=!1;let t;e?Pe(e)?t=Ft(e):t=Ft(new ct(e)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.itemSet&&this.itemSet.setItems(t!=null?t.rawDS:null)}setGroups(e){let t;const r=n=>n.visible!==!1;e?(Array.isArray(e)&&(e=new ct(e)),t=new ms(e,{filter:r})):t=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=t,this.itemSet.setGroups(t)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,t){if(!this.itemsData||e==null)return;const r=Array.isArray(e)?e:[e],n=this.itemsData.get(r);let o=null,a=null;if(n.forEach(l=>{const h=l.start.valueOf(),d="end"in l?l.end.valueOf():l.start.valueOf();(o===null||h<o)&&(o=h),(a===null||d>a)&&(a=d)}),o!==null&&a!==null){const l=this,h=this.itemSet.items[r[0]];let d=this._getScrollTop()*-1,c=null;const u=(w,x,D)=>{const T=Nl(l,h);if(T===!1||(c||(c=T),c.itemTop==T.itemTop&&!c.shouldScroll))return;c.itemTop!=T.itemTop&&T.shouldScroll&&(c=T,d=l._getScrollTop()*-1);const S=d,E=c.scrollOffset,A=D?E:S+(E-S)*w;l._setScrollTop(-A),x||l._redraw()},f=()=>{const w=Nl(l,h);w.shouldScroll&&w.itemTop!=c.itemTop&&(l._setScrollTop(-w.scrollOffset),l._redraw())},m=()=>{f(),setTimeout(f,100)},g=t&&t.zoom!==void 0?t.zoom:!0,b=(o+a)/2,y=g?(a-o)*1.1:Math.max(this.range.end-this.range.start,(a-o)*1.1),_=t&&t.animation!==void 0?t.animation:!0;_||(c={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(b-y/2,b+y/2,{animation:_},m,u)}}fit(e,t){const r=e&&e.animation!==void 0?e.animation:!0;let n;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:r},t)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:r},t))}getItemRange(){const e=this.getDataRange();let t=e.min!==null?e.min.valueOf():null,r=e.max!==null?e.max.valueOf():null,n=null,o=null;if(t!=null&&r!=null){let a=r-t;a<=0&&(a=10);const l=a/this.props.center.width,h={};let d=0;if(v.forEach(this.itemSet.items,(u,f)=>{u.groupShowing&&(h[f]=u.redraw(!0),d=h[f].length)}),d>0)for(let u=0;u<d;u++)v.forEach(h,f=>{f[u]()});if(v.forEach(this.itemSet.items,u=>{const f=zs(u),m=$s(u);let g,b;this.options.rtl?(g=f-(u.getWidthRight()+10)*l,b=m+(u.getWidthLeft()+10)*l):(g=f-(u.getWidthLeft()+10)*l,b=m+(u.getWidthRight()+10)*l),g<t&&(t=g,n=u),b>r&&(r=b,o=u)}),n&&o){const u=n.getWidthLeft()+10,f=o.getWidthRight()+10,m=this.props.center.width-u-f;m>0&&(this.options.rtl?(t=zs(n)-f*a/m,r=$s(o)+u*a/m):(t=zs(n)-u*a/m,r=$s(o)+f*a/m))}}return{min:t!=null?new Date(t):null,max:r!=null?new Date(r):null}}getDataRange(){let e=null,t=null;return this.itemsData&&this.itemsData.forEach(r=>{const n=v.convert(r.start,"Date").valueOf(),o=v.convert(r.end!=null?r.end:r.start,"Date").valueOf();(e===null||n<e)&&(e=n),(t===null||o>t)&&(t=o)}),{min:e!=null?new Date(e):null,max:t!=null?new Date(t):null}}getEventProperties(e){const t=e.center?e.center.x:e.clientX,r=e.center?e.center.y:e.clientY,n=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?n.right-t:t-n.left,a=r-n.top,l=this.itemSet.itemFromTarget(e),h=this.itemSet.groupFromTarget(e),d=_s.customTimeFromTarget(e),c=this.itemSet.options.snap||null,u=this.body.util.getScale(),f=this.body.util.getStep(),m=this._toTime(o),g=c?c(m,u,f):m,b=v.getTarget(e);let y=null;return l!=null?y="item":d!=null?y="custom-time":v.hasParent(b,this.timeAxis.dom.foreground)||this.timeAxis2&&v.hasParent(b,this.timeAxis2.dom.foreground)?y="axis":v.hasParent(b,this.itemSet.dom.labelSet)?y="group-label":v.hasParent(b,this.currentTime.bar)?y="current-time":v.hasParent(b,this.dom.center)&&(y="background"),{event:e,item:l?l.id:null,isCluster:l?!!l.isCluster:!1,items:l?l.items||[]:null,group:h?h.groupId:null,customTime:d?d.options.id:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:o,y:a,time:m,snappedTime:g}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){ot.prototype._redraw.call(this)}_onFit(e){const{start:t,end:r,animation:n}=e;r?this.range.setRange(t,r,{animation:n}):this.moveTo(t.valueOf(),{animation:n})}};function zs(s){return v.convert(s.data.start,"Date").valueOf()}function $s(s){const e=s.data.end!=null?s.data.end:s.data.start;return v.convert(e,"Date").valueOf()}function Nl(s,e){if(!e.parent)return!1;const t=s.options.rtl?s.props.rightContainer.height:s.props.leftContainer.height,r=s.props.center.height,n=e.parent;let o=n.top,a=!0;const l=s.timeAxis.options.orientation.axis,h=()=>l=="bottom"?n.height-e.top-e.height:e.top,d=s._getScrollTop()*-1,c=o+h(),u=e.height;return c<d?o+t<=o+h()+u&&(o+=h()-s.itemSet.options.margin.item.vertical):c+u>d+t?o+=h()+u-t+s.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,r-t),{shouldScroll:a,scrollOffset:o,itemTop:c}}function Be(s){for(var e in s)s.hasOwnProperty(e)&&(s[e].redundant=s[e].used,s[e].used=[])}function pe(s){for(var e in s)if(s.hasOwnProperty(e)&&s[e].redundant){for(var t=0;t<s[e].redundant.length;t++)s[e].redundant[t].parentNode.removeChild(s[e].redundant[t]);s[e].redundant=[]}}function ob(s){Be(s),pe(s),Be(s)}function ye(s,e,t){var r;return e.hasOwnProperty(s)?e[s].redundant.length>0?(r=e[s].redundant[0],e[s].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",s),t.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",s),e[s]={used:[],redundant:[]},t.appendChild(r)),e[s].used.push(r),r}function Us(s,e,t,r){var n;return e.hasOwnProperty(s)?e[s].redundant.length>0?(n=e[s].redundant[0],e[s].redundant.shift()):(n=document.createElement(s),r!==void 0?t.insertBefore(n,r):t.appendChild(n)):(n=document.createElement(s),e[s]={used:[],redundant:[]},r!==void 0?t.insertBefore(n,r):t.appendChild(n)),e[s].used.push(n),n}function qt(s,e,t,r,n,o){var a;if(t.style=="circle"?(a=ye("circle",r,n),a.setAttributeNS(null,"cx",s),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*t.size)):(a=ye("rect",r,n),a.setAttributeNS(null,"x",s-.5*t.size),a.setAttributeNS(null,"y",e-.5*t.size),a.setAttributeNS(null,"width",t.size),a.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&a.setAttributeNS(null,"style",t.styles),a.setAttributeNS(null,"class",t.className+" vis-point"),o){var l=ye("text",r,n);o.xOffset&&(s=s+o.xOffset),o.yOffset&&(e=e+o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",s),l.setAttributeNS(null,"y",e)}return a}function fa(s,e,t,r,n,o,a,l){if(r!=0){r<0&&(r*=-1,e-=r);var h=ye("rect",o,a);h.setAttributeNS(null,"x",s-.5*t),h.setAttributeNS(null,"y",e),h.setAttributeNS(null,"width",t),h.setAttributeNS(null,"height",r),h.setAttributeNS(null,"class",n),l&&h.setAttributeNS(null,"style",l)}}function ab(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}class ff{constructor(e,t,r,n,o,a,l=!1,h=!1){if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=a,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=l,this.autoScaleStart=r,this.autoScaleEnd=n,this.formattingFunction=h,r||n){const d=this,c=u=>{const f=u-u%(d.magnitudefactor*d.minorSteps[d.minorStepIdx]);return u%(d.magnitudefactor*d.minorSteps[d.minorStepIdx])>.5*(d.magnitudefactor*d.minorSteps[d.minorStepIdx])?f+d.magnitudefactor*d.minorSteps[d.minorStepIdx]:f};r&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=c(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=c(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,r=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,r);let n=0;r<0&&(n=r);let o=!1;for(let a=n;Math.abs(a)<=Math.abs(r);a++){this.magnitudefactor=Math.pow(10,a);for(let l=0;l<this.minorSteps.length;l++)if(this.magnitudefactor*this.minorSteps[l]>=t){o=!0,this.minorStepIdx=l;break}if(o===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?`${t}`:typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),r=(t-this._start%t)%t;for(let n=this._start+r;this._end-n>1e-5;n+=t)n!=this._start&&e.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return e}followScale(e){const t=this.minorStepIdx,r=this._start,n=this._end,o=this,a=()=>{o.magnitudefactor*=2},l=()=>{o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||a(),a()):(this.minorStepIdx=2,t==1||l(),l()));const h=e.convertValue(0),d=e.getStep()*e.scale;let c=!1,u=0;for(;!c&&u++<5;){this.scale=d/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const f=this.containerHeight/this.scale;this._start=r,this._end=this._start+f;const m=this._end*this.scale,g=this.magnitudefactor*this.majorSteps[this.minorStepIdx],b=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const y=h-m;this._end+=y/this.scale,this._start=this._end-f}else this.autoScaleStart?(this._start-=b/this.scale,this._end=this._start+f):(this._start+=g-b/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>n+1e-5){l(),c=!1;continue}if(!this.autoScaleStart&&this._start<r-1e-5)if(this.zeroAlign&&r>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{l(),c=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&f<n-r){a(),c=!1;continue}c=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class pa extends Ie{constructor(e,t,r,n){super(),this.id=nt(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(a){return`${parseFloat(a.toPrecision(3))}`},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(a){return`${parseFloat(a.toPrecision(3))}`},title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=r,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=v.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number(`${this.options.width}`.replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",()=>{o.dom.lineContainer.style.top=`${o.body.domProps.scrollTop}px`})}addGroup(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){this.groups.hasOwnProperty(e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const r=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];v.selectiveDeepExtend(r,this.options,e),this.minWidth=Number(`${this.options.width}`.replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){Be(this.svgElements);let e;const t=this.options.iconWidth,r=15,n=4;let o=n+.5*r;this.options.orientation==="left"?e=n:e=this.width-t-n;const a=Object.keys(this.groups);a.sort((l,h)=>l<h?-1:1);for(const l of a)this.groups[l].visible===!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]===!0)&&(this.groups[l].getLegend(t,r,this.framework,e,o),o+=r+n);pe(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(Be(this.svgElements),pe(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top=`${this.body.domProps.scrollTop}px`;for(const r in this.groups)this.groups.hasOwnProperty(r)&&this.groups[r].visible===!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=`${this.height}px`,this.width=this.options.visible===!0?Number(`${this.options.width}`.replace("px","")):0;const r=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();const o=this.options.orientation,a=this.options.showMinorLabels,l=this.options.showMajorLabels,h=this.body.dom.backgroundHorizontal.offsetWidth;r.minorLabelHeight=a?r.minorCharHeight:0,r.majorLabelHeight=l?r.majorCharHeight:0,r.minorLineWidth=h-this.lineOffset-this.width+2*this.options.minorLinesOffset,r.minorLineHeight=1,r.majorLineWidth=h-this.lineOffset-this.width+2*this.options.majorLinesOffset,r.majorLineHeight=1,o==="left"?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=`${this.width}px`,n.style.height=`${this.height}px`,this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=`${this.width}px`,n.style.height=`${this.height}px`,this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e}_redrawLabels(){let e=!1;Be(this.DOMelements.lines),Be(this.DOMelements.labels);const t=this.options.orientation,r=this.options[t].range!=null?this.options[t].range:{};let n=!0;r.max!=null&&(this.range.end=r.max,n=!1);let o=!0;r.min!=null&&(this.range.start=r.min,o=!1),this.scale=new ff(this.range.start,this.range.end,o,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0,this.scale.getLines().forEach(d=>{const c=d.y,u=d.major;this.options.showMinorLabels&&u===!1&&this._redrawLabel(c-2,d.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),u&&c>=0&&this._redrawLabel(c-2,d.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(u?this._redrawLine(c,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(c,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let l=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(l=this.props.titleCharHeight);const h=this.options.icons===!0?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&this.options.visible===!0?(this.width=this.maxLabelSize+h,this.options.width=`${this.width}px`,pe(this.DOMelements.lines),pe(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=`${this.width}px`,pe(this.DOMelements.lines),pe(this.DOMelements.labels),this.redraw(),e=!0):(pe(this.DOMelements.lines),pe(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,r,n,o){const a=Us("div",this.DOMelements.labels,this.dom.frame);a.className=n,a.innerHTML=v.xss(t),r==="left"?(a.style.left=`-${this.options.labelOffsetX}px`,a.style.textAlign="right"):(a.style.right=`-${this.options.labelOffsetX}px`,a.style.textAlign="left"),a.style.top=`${e-.5*o+this.options.labelOffsetY}px`,t+="";const l=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*l&&(this.maxLabelSize=t.length*l)}_redrawLine(e,t,r,n,o){if(this.master===!0){const a=Us("div",this.DOMelements.lines,this.dom.lineContainer);a.className=r,a.innerHTML="",t==="left"?a.style.left=`${this.width-n}px`:a.style.right=`${this.width-n}px`,a.style.width=`${o}px`,a.style.top=`${e}px`}}_redrawTitle(e){if(Be(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=Us("div",this.DOMelements.title,this.dom.frame);t.className=`vis-y-axis vis-title vis-${e}`,t.innerHTML=v.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&v.addCssText(t,this.options[e].title.style),e==="left"?t.style.left=`${this.props.titleCharHeight}px`:t.style.right=`${this.props.titleCharHeight}px`,t.style.width=`${this.height}px`}pe(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function Oi(s,e){}Oi.draw=function(s,e,t,r){r=r||0;for(var n=lb(t,e),o=0;o<s.length;o++)if(!n)qt(s[o].screen_x+r,s[o].screen_y,ma(e),t.svgElements,t.svg,s[o].label);else{var a=n(s[o],e);(a===!0||typeof a=="object")&&qt(s[o].screen_x+r,s[o].screen_y,ma(e,a),t.svgElements,t.svg,s[o].label)}};Oi.drawIcon=function(s,e,t,r,n,o){var a=n*.5,l=ye("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",t-a),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),qt(e+.5*r,t,ma(s),o.svgElements,o.svg)};function ma(s,e){return e=typeof e>"u"?{}:e,{style:e.style||s.options.drawPoints.style,styles:e.styles||s.options.drawPoints.styles,size:e.size||s.options.drawPoints.size,className:e.className||s.className}}function lb(s,e){var t=void 0;return s.options&&s.options.drawPoints&&s.options.drawPoints.onRender&&typeof s.options.drawPoints.onRender=="function"&&(t=s.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function se(s,e){}se.drawIcon=function(s,e,t,r,n,o){var a=n*.5,l=ye("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",t-a),l.setAttributeNS(null,"width",r),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*r),d=s.options.barChart.width,c=d/h,u=Math.round(.4*n),f=Math.round(.75*n),m=Math.round((r-2*h)/3);if(fa(e+.5*h+m,t+a-u-1,h,u,s.className+" vis-bar",o.svgElements,o.svg,s.style),fa(e+1.5*h+m+2,t+a-f-1,h,f,s.className+" vis-bar",o.svgElements,o.svg,s.style),s.options.drawPoints.enabled==!0){var g={style:s.options.drawPoints.style,styles:s.options.drawPoints.styles,size:s.options.drawPoints.size/c,className:s.className};qt(e+.5*h+m,t+a-u-1,g,o.svgElements,o.svg),qt(e+1.5*h+m+2,t+a-f-1,g,o.svgElements,o.svg)}};se.draw=function(s,e,t){var r=[],n={},o,a,l,h,d,c,u=0;for(d=0;d<s.length;d++)if(h=t.groups[s[d]],h.options.style==="bar"&&h.visible===!0&&(t.options.groups.visibility[s[d]]===void 0||t.options.groups.visibility[s[d]]===!0))for(c=0;c<e[s[d]].length;c++)r.push({screen_x:e[s[d]][c].screen_x,screen_end:e[s[d]][c].screen_end,screen_y:e[s[d]][c].screen_y,x:e[s[d]][c].x,end:e[s[d]][c].end,y:e[s[d]][c].y,groupId:s[d],label:e[s[d]][c].label}),u+=1;if(u!==0)for(r.sort(function(b,y){return b.screen_x===y.screen_x?b.groupId<y.groupId?-1:1:b.screen_x-y.screen_x}),se._getDataIntersections(n,r),d=0;d<r.length;d++){h=t.groups[r[d].groupId];var f=h.options.barChart.minWidth!=null?h.options.barChart.minWidth:.1*h.options.barChart.width;a=r[d].screen_x;var m=0;if(n[a]===void 0)d+1<r.length&&(o=Math.abs(r[d+1].screen_x-a)),l=se._getSafeDrawData(o,h,f);else{var g=d+(n[a].amount-n[a].resolved);g<r.length&&(o=Math.abs(r[g].screen_x-a)),l=se._getSafeDrawData(o,h,f),n[a].resolved+=1,h.options.stack===!0&&h.options.excludeFromStacking!==!0?r[d].screen_y<h.zeroPosition?(m=n[a].accumulatedNegative,n[a].accumulatedNegative+=h.zeroPosition-r[d].screen_y):(m=n[a].accumulatedPositive,n[a].accumulatedPositive+=h.zeroPosition-r[d].screen_y):h.options.barChart.sideBySide===!0&&(l.width=l.width/n[a].amount,l.offset+=n[a].resolved*l.width-.5*l.width*(n[a].amount+1))}let b=l.width,y=r[d].screen_x;if(r[d].screen_end!=null?(b=r[d].screen_end-r[d].screen_x,y+=b*.5):y+=l.offset,fa(y,r[d].screen_y-m,b,h.zeroPosition-r[d].screen_y,h.className+" vis-bar",t.svgElements,t.svg,h.style),h.options.drawPoints.enabled===!0){let _={screen_x:r[d].screen_x,screen_y:r[d].screen_y-m,x:r[d].x,y:r[d].y,groupId:r[d].groupId,label:r[d].label};Oi.draw([_],h,t,l.offset)}}};se._getDataIntersections=function(s,e){for(var t,r=0;r<e.length;r++)r+1<e.length&&(t=Math.abs(e[r+1].screen_x-e[r].screen_x)),r>0&&(t=Math.min(t,Math.abs(e[r-1].screen_x-e[r].screen_x))),t===0&&(s[e[r].screen_x]===void 0&&(s[e[r].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),s[e[r].screen_x].amount+=1)};se._getSafeDrawData=function(s,e,t){var r,n;return s<e.options.barChart.width&&s>0?(r=s<t?t:s,n=0,e.options.barChart.align==="left"?n-=.5*s:e.options.barChart.align==="right"&&(n+=.5*s)):(r=e.options.barChart.width,n=0,e.options.barChart.align==="left"?n-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(n+=.5*e.options.barChart.width)),{width:r,offset:n}};se.getStackedYRange=function(s,e,t,r,n){if(s.length>0){s.sort(function(a,l){return a.screen_x===l.screen_x?a.groupId<l.groupId?-1:1:a.screen_x-l.screen_x});var o={};se._getDataIntersections(o,s),e[r]=se._getStackedYRange(o,s),e[r].yAxisOrientation=n,t.push(r)}};se._getStackedYRange=function(s,e){for(var t,r=e[0].screen_y,n=e[0].screen_y,o=0;o<e.length;o++)t=e[o].screen_x,s[t]===void 0?(r=r>e[o].screen_y?e[o].screen_y:r,n=n<e[o].screen_y?e[o].screen_y:n):e[o].screen_y<0?s[t].accumulatedNegative+=e[o].screen_y:s[t].accumulatedPositive+=e[o].screen_y;for(var a in s)s.hasOwnProperty(a)&&(r=r>s[a].accumulatedNegative?s[a].accumulatedNegative:r,r=r>s[a].accumulatedPositive?s[a].accumulatedPositive:r,n=n<s[a].accumulatedNegative?s[a].accumulatedNegative:n,n=n<s[a].accumulatedPositive?s[a].accumulatedPositive:n);return{min:r,max:n}};function J(s,e){}J.calcPath=function(s,e){if(s!=null&&s.length>0){var t=[];return e.options.interpolation.enabled==!0?t=J._catmullRom(s,e):t=J._linear(s),t}};J.drawIcon=function(s,e,t,r,n,o){var a=n*.5,l,h,d=ye("rect",o.svgElements,o.svg);if(d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",t-a),d.setAttributeNS(null,"width",r),d.setAttributeNS(null,"height",2*a),d.setAttributeNS(null,"class","vis-outline"),l=ye("path",o.svgElements,o.svg),l.setAttributeNS(null,"class",s.className),s.style!==void 0&&l.setAttributeNS(null,"style",s.style),l.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+r)+","+t),s.options.shaded.enabled==!0&&(h=ye("path",o.svgElements,o.svg),s.options.shaded.orientation=="top"?h.setAttributeNS(null,"d","M"+e+", "+(t-a)+"L"+e+","+t+" L"+(e+r)+","+t+" L"+(e+r)+","+(t-a)):h.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+a)+" L"+(e+r)+","+(t+a)+"L"+(e+r)+","+t),h.setAttributeNS(null,"class",s.className+" vis-icon-fill"),s.options.shaded.style!==void 0&&s.options.shaded.style!==""&&h.setAttributeNS(null,"style",s.options.shaded.style)),s.options.drawPoints.enabled==!0){var c={style:s.options.drawPoints.style,styles:s.options.drawPoints.styles,size:s.options.drawPoints.size,className:s.className};qt(e+.5*r,t,c,o.svgElements,o.svg)}};J.drawShading=function(s,e,t,r){if(e.options.shaded.enabled==!0){var n=Number(r.svg.style.height.replace("px","")),o=ye("path",r.svgElements,r.svg),a="L";e.options.interpolation.enabled==!0&&(a="C");var l,h=0;e.options.shaded.orientation=="top"?h=0:e.options.shaded.orientation=="bottom"?h=n:h=Math.min(Math.max(0,e.zeroPosition),n),e.options.shaded.orientation=="group"&&t!=null&&t!=null?l="M"+s[0][0]+","+s[0][1]+" "+this.serializePath(s,a,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,a,!0)+t[0][0]+","+t[0][1]+" Z":l="M"+s[0][0]+","+s[0][1]+" "+this.serializePath(s,a,!1)+" V"+h+" H"+s[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",l)}};J.draw=function(s,e,t){if(s!=null&&s!=null){var r=ye("path",t.svgElements,t.svg);r.setAttributeNS(null,"class",e.className),e.style!==void 0&&r.setAttributeNS(null,"style",e.style);var n="L";e.options.interpolation.enabled==!0&&(n="C"),r.setAttributeNS(null,"d","M"+s[0][0]+","+s[0][1]+" "+this.serializePath(s,n,!1))}};J.serializePath=function(s,e,t){if(s.length<2)return"";var r=e,n;if(t)for(n=s.length-2;n>0;n--)r+=s[n][0]+","+s[n][1]+" ";else for(n=1;n<s.length;n++)r+=s[n][0]+","+s[n][1]+" ";return r};J._catmullRomUniform=function(s){var e,t,r,n,o,a,l=[];l.push([Math.round(s[0].screen_x),Math.round(s[0].screen_y)]);for(var h=1/6,d=s.length,c=0;c<d-1;c++)e=c==0?s[0]:s[c-1],t=s[c],r=s[c+1],n=c+2<d?s[c+2]:r,o={screen_x:(-e.screen_x+6*t.screen_x+r.screen_x)*h,screen_y:(-e.screen_y+6*t.screen_y+r.screen_y)*h},a={screen_x:(t.screen_x+6*r.screen_x-n.screen_x)*h,screen_y:(t.screen_y+6*r.screen_y-n.screen_y)*h},l.push([o.screen_x,o.screen_y]),l.push([a.screen_x,a.screen_y]),l.push([r.screen_x,r.screen_y]);return l};J._catmullRom=function(s,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(s);var r,n,o,a,l,h,d,c,u,f,m,g,b,y,_,w,x,D,T,S=[];S.push([Math.round(s[0].screen_x),Math.round(s[0].screen_y)]);for(var E=s.length,A=0;A<E-1;A++)r=A==0?s[0]:s[A-1],n=s[A],o=s[A+1],a=A+2<E?s[A+2]:o,d=Math.sqrt(Math.pow(r.screen_x-n.screen_x,2)+Math.pow(r.screen_y-n.screen_y,2)),c=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),u=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),y=Math.pow(u,t),w=Math.pow(u,2*t),_=Math.pow(c,t),x=Math.pow(c,2*t),T=Math.pow(d,t),D=Math.pow(d,2*t),f=2*D+3*T*_+x,m=2*w+3*y*_+x,g=3*T*(T+_),g>0&&(g=1/g),b=3*y*(y+_),b>0&&(b=1/b),l={screen_x:(-x*r.screen_x+f*n.screen_x+D*o.screen_x)*g,screen_y:(-x*r.screen_y+f*n.screen_y+D*o.screen_y)*g},h={screen_x:(w*n.screen_x+m*o.screen_x-x*a.screen_x)*b,screen_y:(w*n.screen_y+m*o.screen_y-x*a.screen_y)*b},l.screen_x==0&&l.screen_y==0&&(l=n),h.screen_x==0&&h.screen_y==0&&(h=o),S.push([l.screen_x,l.screen_y]),S.push([h.screen_x,h.screen_y]),S.push([o.screen_x,o.screen_y]);return S};J._linear=function(s){for(var e=[],t=0;t<s.length;t++)e.push([s[t].screen_x,s[t].screen_y]);return e};function Re(s,e,t,r){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=v.selectiveBridgeObject(n,t),this.usingDefaultStyle=s.className===void 0,this.groupsUsingDefaultStyles=r,this.zeroPosition=0,this.update(s),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=s.visible===void 0?!0:s.visible}Re.prototype.setItems=function(s){s!=null?(this.itemsData=s,this.options.sort==!0&&v.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};Re.prototype.getItems=function(){return this.itemsData};Re.prototype.setZeroPosition=function(s){this.zeroPosition=s};Re.prototype.setOptions=function(s){if(s!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];v.selectiveDeepExtend(e,this.options,s),typeof s.drawPoints=="function"&&(s.drawPoints={onRender:s.drawPoints}),v.mergeOptions(this.options,s,"interpolation"),v.mergeOptions(this.options,s,"drawPoints"),v.mergeOptions(this.options,s,"shaded"),s.interpolation&&typeof s.interpolation=="object"&&s.interpolation.parametrization&&(s.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:s.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};Re.prototype.update=function(s){this.group=s,this.content=s.content||"graph",this.className=s.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=s.visible===void 0?!0:s.visible,this.style=s.style,this.setOptions(s.options)};Re.prototype.getLegend=function(s,e,t,r,n){if(t==null||t==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:o,svgElements:{},options:this.options,groups:[this]}}switch((r==null||r==null)&&(r=0),(n==null||n==null)&&(n=.5*e),this.options.style){case"line":J.drawIcon(this,r,n,s,e,t);break;case"points":case"point":Oi.drawIcon(this,r,n,s,e,t);break;case"bar":se.drawIcon(this,r,n,s,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};Re.prototype.getYRange=function(s){for(var e=s[0].y,t=s[0].y,r=0;r<s.length;r++)e=e>s[r].y?s[r].y:e,t=t<s[r].y?s[r].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function ae(s,e,t,r){this.body=s,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=v.extend({},this.defaultOptions),this.linegraphOptions=r,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}ae.prototype=new Ie;ae.prototype.clear=function(){this.groups={},this.amountOfGroups=0};ae.prototype.addGroup=function(s,e){e.options.excludeFromLegend!=!0&&(this.groups.hasOwnProperty(s)||(this.groups[s]=e),this.amountOfGroups+=1)};ae.prototype.updateGroup=function(s,e){this.groups[s]=e};ae.prototype.removeGroup=function(s){this.groups.hasOwnProperty(s)&&(delete this.groups[s],this.amountOfGroups-=1)};ae.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};ae.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};ae.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};ae.prototype.setOptions=function(s){var e=["enabled","orientation","icons","left","right"];v.selectiveDeepExtend(e,this.options,s)};ae.prototype.redraw=function(){var s=0,e=Object.keys(this.groups);e.sort(function(a,l){return a<l?-1:1});for(var t=0;t<e.length;t++){var r=e[t];this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&s++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||s==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(t=0;t<e.length;t++)r=e[t],this.groups[r].visible==!0&&(this.linegraphOptions.visibility[r]===void 0||this.linegraphOptions.visibility[r]==!0)&&(o+=this.groups[r].content+"<br />");this.dom.textArea.innerHTML=v.xss(o),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};ae.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var s=Object.keys(this.groups);s.sort(function(d,c){return d<c?-1:1}),ob(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),r=t,n=this.options.iconSize,o=.75*this.options.iconSize,a=t+.5*o+3;this.svg.style.width=n+5+t+"px";for(var l=0;l<s.length;l++){var h=s[l];this.groups[h].visible==!0&&(this.linegraphOptions.visibility[h]===void 0||this.linegraphOptions.visibility[h]==!0)&&(this.groups[h].getLegend(n,o,this.framework,r,a),a+=o+this.options.iconSpacing)}}};var os="__ungrouped__";function j(s,e){this.id=nt(),this.body=s,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=v.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(r,n,o){t._onAdd(n.items)},update:function(r,n,o){t._onUpdate(n.items)},remove:function(r,n,o){t._onRemove(n.items)}},this.groupListeners={add:function(r,n,o){t._onAddGroups(n.items)},update:function(r,n,o){t._onUpdateGroups(n.items)},remove:function(r,n,o){t._onRemoveGroups(n.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=v.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}j.prototype=new Ie;j.prototype._create=function(){var s=document.createElement("div");s.className="vis-line-graph",this.dom.frame=s,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",s.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new pa(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new pa(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new ae(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new ae(this.body,this.options.legend,"right",this.options.groups),this.show()};j.prototype.setOptions=function(s){if(s){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];s.graphHeight===void 0&&s.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&s.graphHeight!==void 0&&parseInt((s.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),v.selectiveDeepExtend(e,this.options,s),v.mergeOptions(this.options,s,"interpolation"),v.mergeOptions(this.options,s,"drawPoints"),v.mergeOptions(this.options,s,"shaded"),v.mergeOptions(this.options,s,"legend"),s.interpolation&&typeof s.interpolation=="object"&&s.interpolation.parametrization&&(s.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:s.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&s.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&s.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(os)&&this.groups[os].setOptions(s)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};j.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};j.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};j.prototype.setItems=function(s){var e=this,t,r=this.itemsData;if(!s)this.itemsData=null;else if(Pe(s))this.itemsData=Ft(s);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(v.forEach(this.itemListeners,function(o,a){r.off(a,o)}),r.dispose(),t=r.getIds(),this._onRemove(t)),this.itemsData){var n=this.id;v.forEach(this.itemListeners,function(o,a){e.itemsData.on(a,o,n)}),t=this.itemsData.getIds(),this._onAdd(t)}};j.prototype.setGroups=function(s){var e=this,t;if(this.groupsData){v.forEach(this.groupListeners,function(o,a){e.groupsData.off(a,o)}),t=this.groupsData.getIds(),this.groupsData=null;for(var r=0;r<t.length;r++)this._removeGroup(t[r])}if(!s)this.groupsData=null;else if(Pe(s))this.groupsData=s;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var n=this.id;v.forEach(this.groupListeners,function(o,a){e.groupsData.on(a,o,n)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};j.prototype._onUpdate=function(s){this._updateAllGroupData(s)};j.prototype._onAdd=function(s){this._onUpdate(s)};j.prototype._onRemove=function(s){this._onUpdate(s)};j.prototype._onUpdateGroups=function(s){this._updateAllGroupData(null,s)};j.prototype._onAddGroups=function(s){this._onUpdateGroups(s)};j.prototype._onRemoveGroups=function(s){for(var e=0;e<s.length;e++)this._removeGroup(s[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};j.prototype._removeGroup=function(s){this.groups.hasOwnProperty(s)&&(this.groups[s].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(s),this.legendRight.removeGroup(s),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(s),this.legendLeft.removeGroup(s),this.legendLeft.redraw()),delete this.groups[s])};j.prototype._updateGroup=function(s,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(s),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new Re(s,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};j.prototype._updateAllGroupData=function(s,e){if(this.itemsData!=null){var t={},r=this.itemsData.get(),n=this.itemsData.idProp,o={};s&&s.map(function(y){o[y]=y});for(var a={},l=0;l<r.length;l++){var h=r[l],d=h.group;d==null&&(d=os),a.hasOwnProperty(d)?a[d]++:a[d]=1}var c={};if(!e&&s){for(d in this.groups)if(this.groups.hasOwnProperty(d)){b=this.groups[d];var u=b.getItems();t[d]=u.filter(function(y){return c[y[n]]=y[n],y[n]!==o[y[n]]});var f=a[d];a[d]-=t[d].length,t[d].length<f&&(t[d][f-1]={})}}for(l=0;l<r.length;l++)if(h=r[l],d=h.group,d==null&&(d=os),!(!e&&s&&h[n]!==o[h[n]]&&c.hasOwnProperty(h[n]))){t.hasOwnProperty(d)||(t[d]=new Array(a[d]));var m=v.bridgeObject(h);m.x=v.convert(h.x,"Date"),m.end=v.convert(h.end,"Date"),m.orginalY=h.y,m.y=Number(h.y),m[n]=h[n];var g=t[d].length-a[d]--;t[d][g]=m}for(d in this.groups)this.groups.hasOwnProperty(d)&&(t.hasOwnProperty(d)||(t[d]=new Array(0)));for(d in t)if(t.hasOwnProperty(d))if(t[d].length==0)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var b=void 0;this.groupsData!=null&&(b=this.groupsData.get(d)),b==null&&(b={id:d,content:this.options.defaultGroup+d}),this._updateGroup(b,d),this.groups[d].setItems(t[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};j.prototype.redraw=function(){var s=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,s=this._isResized()||s;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,s==!0&&(this.svg.style.width=v.option.asSize(3*this.props.width),this.svg.style.left=v.option.asSize(-this.props.width),((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)),this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",s==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)s=this._updateGraph()||s,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var r=this.body.range.start-this.lastStart,n=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/n,a=r*o;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),s};j.prototype._getSortedGroupIds=function(){var s=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&s.push({id:e,zIndex:t.options.zIndex})}v.insertSort(s,function(o,a){var l=o.zIndex,h=a.zIndex;return l===void 0&&(l=0),h===void 0&&(h=0),l==h?0:l<h?-1:1});for(var r=new Array(s.length),n=0;n<s.length;n++)r[n]=s[n].id;return r};j.prototype._updateGraph=function(){if(Be(this.svgElements),this.props.width!=0&&this.itemsData!=null){var s,e,t={},r=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,n,o),this._applySampling(a,l),e=0;e<a.length;e++)this._convertXcoordinates(l[a[e]]);if(this._getYRanges(a,l,t),r=this._updateYAxis(a,t),r==!0)return pe(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<a.length;e++)s=this.groups[a[e]],this.options.stack===!0&&this.options.style==="line"&&(s.options.excludeFromStacking==null||!s.options.excludeFromStacking)&&(h!=null&&(this._stack(l[s.id],l[h.id]),s.options.shaded.enabled==!0&&s.options.shaded.orientation!=="group"&&(s.options.shaded.orientation=="top"&&h.options.shaded.orientation!=="group"?(h.options.shaded.orientation="group",h.options.shaded.groupId=s.id):(s.options.shaded.orientation="group",s.options.shaded.groupId=h.id))),h=s),this._convertYcoordinates(l[a[e]],s);var d={};for(e=0;e<a.length;e++)if(s=this.groups[a[e]],s.options.style==="line"&&s.options.shaded.enabled==!0){var c=l[a[e]];if(c==null||c.length==0)continue;if(d.hasOwnProperty(a[e])||(d[a[e]]=J.calcPath(c,s)),s.options.shaded.orientation==="group"){var u=s.options.shaded.groupId;if(a.indexOf(u)===-1){console.log(s.id+": Unknown shading group target given:"+u);continue}d.hasOwnProperty(u)||(d[u]=J.calcPath(l[u],this.groups[u])),J.drawShading(d[a[e]],s,d[u],this.framework)}else J.drawShading(d[a[e]],s,void 0,this.framework)}for(se.draw(a,l,this.framework),e=0;e<a.length;e++)if(s=this.groups[a[e]],l[a[e]].length>0)switch(s.options.style){case"line":d.hasOwnProperty(a[e])||(d[a[e]]=J.calcPath(l[a[e]],s)),J.draw(d[a[e]],s,this.framework);case"point":case"points":(s.options.style=="point"||s.options.style=="points"||s.options.drawPoints.enabled==!0)&&Oi.draw(l[a[e]],s,this.framework);break}}}return pe(this.svgElements),!1};j.prototype._stack=function(s,e){var t,r,n,o,a;t=0;for(var l=0;l<s.length;l++){o=void 0,a=void 0;for(var h=t;h<e.length;h++)if(e[h].x===s[l].x){o=e[h],a=e[h],t=h;break}else if(e[h].x>s[l].x){a=e[h],h==0?o=a:o=e[h-1],t=h;break}a===void 0&&(o=e[e.length-1],a=e[e.length-1]),r=a.x-o.x,n=a.y-o.y,r==0?s[l].y=s[l].orginalY+a.y:s[l].y=s[l].orginalY+n/r*(s[l].x-o.x)+o.y}};j.prototype._getRelevantData=function(s,e,t,r){var n,o,a,l;if(s.length>0)for(o=0;o<s.length;o++){n=this.groups[s[o]];var h=n.getItems();if(n.options.sort==!0){var d=function(m,g){return m.getTime()==g.getTime()?0:m<g?-1:1},c=Math.max(0,v.binarySearchValue(h,t,"x","before",d)),u=Math.min(h.length,v.binarySearchValue(h,r,"x","after",d)+1);u<=0&&(u=h.length);var f=new Array(u-c);for(a=c;a<u;a++)l=n.itemsData[a],f[a-c]=l;e[s[o]]=f}else e[s[o]]=n.itemsData}};j.prototype._applySampling=function(s,e){var t;if(s.length>0){for(var r=0;r<s.length;r++)if(t=this.groups[s[r]],t.options.sampling==!0){var n=e[s[r]];if(n.length>0){var o=1,a=n.length,l=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),h=a/l;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(h)));for(var d=new Array(a),c=0;c<a;c+=o){var u=Math.round(c/o);d[u]=n[c]}e[s[r]]=d.splice(0,Math.round(a/o))}}}};j.prototype._getYRanges=function(s,e,t){var r,n,o,a=[],l=[],h;if(s.length>0){for(o=0;o<s.length;o++)r=e[s[o]],h=this.groups[s[o]].options,r.length>0&&(n=this.groups[s[o]],h.stack===!0&&h.style==="bar"?h.yAxisOrientation==="left"?a=a.concat(r):l=l.concat(r):t[s[o]]=n.getYRange(r,s[o]));se.getStackedYRange(a,t,s,"__barStackLeft","left"),se.getStackedYRange(l,t,s,"__barStackRight","right")}};j.prototype._updateYAxis=function(s,e){var t=!1,r=!1,n=!1,o=1e9,a=1e9,l=-1e9,h=-1e9,d,c;if(s.length>0){for(var u=0;u<s.length;u++){var f=this.groups[s[u]];f&&f.options.yAxisOrientation!="right"?(r=!0,o=1e9,l=-1e9):f&&f.options.yAxisOrientation&&(n=!0,a=1e9,h=-1e9)}for(u=0;u<s.length;u++)e.hasOwnProperty(s[u])&&e[s[u]].ignore!==!0&&(d=e[s[u]].min,c=e[s[u]].max,e[s[u]].yAxisOrientation!="right"?(r=!0,o=o>d?d:o,l=l<c?c:l):(n=!0,a=a>d?d:a,h=h<c?c:h));r==!0&&this.yAxisLeft.setRange(o,l),n==!0&&this.yAxisRight.setRange(a,h)}t=this._toggleAxisVisiblity(r,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(n,this.yAxisRight)||t,n==!0&&r==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(n==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var m=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<m.length;u++)s.indexOf(m[u])!=-1&&s.splice(s.indexOf(m[u]),1);return t};j.prototype._toggleAxisVisiblity=function(s,e){var t=!1;return s==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};j.prototype._convertXcoordinates=function(s){for(var e=this.body.util.toScreen,t=0;t<s.length;t++)s[t].screen_x=e(s[t].x)+this.props.width,s[t].screen_y=s[t].y,s[t].end!=null?s[t].screen_end=e(s[t].end)+this.props.width:s[t].screen_end=void 0};j.prototype._convertYcoordinates=function(s,e){var t=this.yAxisLeft,r=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var n=0;n<s.length;n++)s[n].screen_y=Math.round(t.convertValue(s[n].y));e.setZeroPosition(Math.min(r,t.convertValue(0)))};let N="string",R="boolean",L="number",hb="array",Dt="date",V="object",db="dom",Et="moment",Al="any",cb={configure:{enabled:{boolean:R},filter:{boolean:R,function:"function"},container:{dom:db},__type__:{object:V,boolean:R,function:"function"}},alignCurrentTime:{string:N,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:N},sort:{boolean:R},sampling:{boolean:R},stack:{boolean:R},graphHeight:{string:N,number:L},shaded:{enabled:{boolean:R},orientation:{string:["bottom","top","zero","group"]},groupId:{object:V},__type__:{boolean:R,object:V}},style:{string:["line","bar","points"]},barChart:{width:{number:L},minWidth:{number:L},sideBySide:{boolean:R},align:{string:["left","center","right"]},__type__:{object:V}},interpolation:{enabled:{boolean:R},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:L},__type__:{object:V,boolean:R}},drawPoints:{enabled:{boolean:R},onRender:{function:"function"},size:{number:L},style:{string:["square","circle"]},__type__:{object:V,boolean:R,function:"function"}},dataAxis:{showMinorLabels:{boolean:R},showMajorLabels:{boolean:R},showWeekScale:{boolean:R},icons:{boolean:R},width:{string:N,number:L},visible:{boolean:R},alignZeros:{boolean:R},left:{range:{min:{number:L,undefined:"undefined"},max:{number:L,undefined:"undefined"},__type__:{object:V}},format:{function:"function"},title:{text:{string:N,number:L,undefined:"undefined"},style:{string:N,undefined:"undefined"},__type__:{object:V}},__type__:{object:V}},right:{range:{min:{number:L,undefined:"undefined"},max:{number:L,undefined:"undefined"},__type__:{object:V}},format:{function:"function"},title:{text:{string:N,number:L,undefined:"undefined"},style:{string:N,undefined:"undefined"},__type__:{object:V}},__type__:{object:V}},__type__:{object:V}},legend:{enabled:{boolean:R},icons:{boolean:R},left:{visible:{boolean:R},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:V}},right:{visible:{boolean:R},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:V}},__type__:{object:V,boolean:R}},groups:{visibility:{any:Al},__type__:{object:V}},autoResize:{boolean:R},throttleRedraw:{number:L},clickToUse:{boolean:R},end:{number:L,date:Dt,string:N,moment:Et},format:{minorLabels:{millisecond:{string:N,undefined:"undefined"},second:{string:N,undefined:"undefined"},minute:{string:N,undefined:"undefined"},hour:{string:N,undefined:"undefined"},weekday:{string:N,undefined:"undefined"},day:{string:N,undefined:"undefined"},week:{string:N,undefined:"undefined"},month:{string:N,undefined:"undefined"},quarter:{string:N,undefined:"undefined"},year:{string:N,undefined:"undefined"},__type__:{object:V}},majorLabels:{millisecond:{string:N,undefined:"undefined"},second:{string:N,undefined:"undefined"},minute:{string:N,undefined:"undefined"},hour:{string:N,undefined:"undefined"},weekday:{string:N,undefined:"undefined"},day:{string:N,undefined:"undefined"},week:{string:N,undefined:"undefined"},month:{string:N,undefined:"undefined"},quarter:{string:N,undefined:"undefined"},year:{string:N,undefined:"undefined"},__type__:{object:V}},__type__:{object:V}},moment:{function:"function"},height:{string:N,number:L},hiddenDates:{start:{date:Dt,number:L,string:N,moment:Et},end:{date:Dt,number:L,string:N,moment:Et},repeat:{string:N},__type__:{object:V,array:hb}},locale:{string:N},locales:{__any__:{any:Al},__type__:{object:V}},max:{date:Dt,number:L,string:N,moment:Et},maxHeight:{number:L,string:N},maxMinorChars:{number:L},min:{date:Dt,number:L,string:N,moment:Et},minHeight:{number:L,string:N},moveable:{boolean:R},multiselect:{boolean:R},orientation:{string:N},showCurrentTime:{boolean:R},showMajorLabels:{boolean:R},showMinorLabels:{boolean:R},showWeekScale:{boolean:R},snap:{function:"function",null:"null"},start:{date:Dt,number:L,string:N,moment:Et},timeAxis:{scale:{string:N,undefined:"undefined"},step:{number:L,undefined:"undefined"},__type__:{object:V}},width:{string:N,number:L},zoomable:{boolean:R},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:L},zoomMin:{number:L},zIndex:{number:L},__type__:{object:V}},ub={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Se(s,e,t,r){if(!(Array.isArray(t)||Pe(t))&&t instanceof Object){var n=r;r=t,t=n}r&&r.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var o=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:ne,width:null,height:null,maxHeight:null,minHeight:null},this.options=v.deepExtend({},this.defaultOptions),this._create(s),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return o.timeAxis.step.scale},getStep(){return o.timeAxis.step.step},toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new Ei(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new wi(this.body),this.components.push(this.timeAxis),this.currentTime=new Fa(this.body),this.components.push(this.currentTime),this.linegraph=new j(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(a){o.emit("click",o.getEventProperties(a))}),this.on("doubletap",function(a){o.emit("doubleClick",o.getEventProperties(a))}),this.dom.root.oncontextmenu=function(a){o.emit("contextmenu",o.getEventProperties(a))},this.initialFitDone=!1,this.on("changed",function(){if(o.itemsData!=null){if(!o.initialFitDone&&!o.options.rollingMode)if(o.initialFitDone=!0,o.options.start!=null||o.options.end!=null){if(o.options.start==null||o.options.end==null)var a=o.getItemRange();var l=o.options.start!=null?o.options.start:a.min,h=o.options.end!=null?o.options.end:a.max;o.setWindow(l,h,{animation:!1})}else o.fit({animation:!1});!o.initialDrawDone&&(o.initialRangeChangeDone||!o.options.start&&!o.options.end||o.options.rollingMode)&&(o.initialDrawDone=!0,o.dom.root.style.visibility="visible",o.dom.loadingScreen.parentNode.removeChild(o.dom.loadingScreen),o.options.onInitialDrawComplete&&setTimeout(()=>o.options.onInitialDrawComplete(),0))}}),r&&this.setOptions(r),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}Se.prototype=new ot;Se.prototype.setOptions=function(s){W.validate(s,cb)===!0&&console.log("%cErrors have been found in the supplied options object.",ns),ot.prototype.setOptions.call(this,s)};Se.prototype.setItems=function(s){var e=this.itemsData==null,t;if(s?Pe(s)?t=Ft(s):t=Ft(new ct(s)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var r=this.options.start!=null?this.options.start:null,n=this.options.end!=null?this.options.end:null;this.setWindow(r,n,{animation:!1})}else this.fit({animation:!1})};Se.prototype.setGroups=function(s){var e;s?Pe(s)?e=s:e=new ct(s):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Se.prototype.getLegend=function(s,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[s]!==void 0?this.linegraph.groups[s].getLegend(e,t):"cannot find group:'"+s+"'"};Se.prototype.isGroupVisible=function(s){return this.linegraph.groups[s]!==void 0?this.linegraph.groups[s].visible&&(this.linegraph.options.groups.visibility[s]===void 0||this.linegraph.options.groups.visibility[s]==!0):!1};Se.prototype.getDataRange=function(){var s=null,e=null;for(var t in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(t)&&this.linegraph.groups[t].visible==!0)for(var r=0;r<this.linegraph.groups[t].itemsData.length;r++){var n=this.linegraph.groups[t].itemsData[r],o=v.convert(n.x,"Date").valueOf();s=s==null||s>o?o:s,e=e==null||e<o?o:e}return{min:s!=null?new Date(s):null,max:e!=null?new Date(e):null}};Se.prototype.getEventProperties=function(s){var e=s.center?s.center.x:s.clientX,t=s.center?s.center.y:s.clientY,r=e-v.getAbsoluteLeft(this.dom.centerContainer),n=t-v.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(r),a=_s.customTimeFromTarget(s),l=v.getTarget(s),h=null;v.hasParent(l,this.timeAxis.dom.foreground)||this.timeAxis2&&v.hasParent(l,this.timeAxis2.dom.foreground)?h="axis":v.hasParent(l,this.linegraph.yAxisLeft.dom.frame)||v.hasParent(l,this.linegraph.yAxisRight.dom.frame)?h="data-axis":v.hasParent(l,this.linegraph.legendLeft.dom.frame)||v.hasParent(l,this.linegraph.legendRight.dom.frame)?h="legend":a!=null?h="custom-time":v.hasParent(l,this.currentTime.bar)?h="current-time":v.hasParent(l,this.dom.center)&&(h="background");var d=[],c=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return!c.hidden&&this.itemsData.length>0&&d.push(c.screenToValue(n)),!u.hidden&&this.itemsData.length>0&&d.push(u.screenToValue(n)),{event:s,customTime:a?a.options.id:null,what:h,pageX:s.srcEvent?s.srcEvent.pageX:s.pageX,pageY:s.srcEvent?s.srcEvent.pageY:s.pageY,x:r,y:n,time:o,value:d}};Se.prototype._createConfigurator=function(){return new cf(this,this.dom.container,ub)};const fb=ab();B.locale(fb);const pb={Core:ot,DateUtil:vv,Range:Ei,stack:Vv,TimeStep:Ue,components:{items:{Item:mt,BackgroundItem:Ye,BoxItem:hf,ClusterItem:ki,PointItem:df,RangeItem:Ve},BackgroundGroup:qa,Component:Ie,CurrentTime:Fa,CustomTime:_s,DataAxis:pa,DataScale:ff,GraphGroup:Re,Group:rs,ItemSet:We,Legend:ae,LineGraph:j,TimeAxis:wi}},mb=Object.freeze(Object.defineProperty({__proto__:null,Graph2d:Se,Timeline:nb,timeline:pb},Symbol.toStringTag,{value:"Module"})),gb=ut(mb);var Vs,Pl;function pf(){if(Pl)return Vs;Pl=1;var s=typeof ie=="object"&&ie&&ie.Object===Object&&ie;return Vs=s,Vs}var Ws,Il;function De(){if(Il)return Ws;Il=1;var s=pf(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=s||e||Function("return this")();return Ws=t,Ws}var Ys,Rl;function Ni(){if(Rl)return Ys;Rl=1;var s=De(),e=s.Symbol;return Ys=e,Ys}var Xs,Ml;function vb(){if(Ml)return Xs;Ml=1;var s=Ni(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,n=s?s.toStringTag:void 0;function o(a){var l=t.call(a,n),h=a[n];try{a[n]=void 0;var d=!0}catch{}var c=r.call(a);return d&&(l?a[n]=h:delete a[n]),c}return Xs=o,Xs}var Ks,jl;function bb(){if(jl)return Ks;jl=1;var s=Object.prototype,e=s.toString;function t(r){return e.call(r)}return Ks=t,Ks}var Qs,Fl;function Bt(){if(Fl)return Qs;Fl=1;var s=Ni(),e=vb(),t=bb(),r="[object Null]",n="[object Undefined]",o=s?s.toStringTag:void 0;function a(l){return l==null?l===void 0?n:r:o&&o in Object(l)?e(l):t(l)}return Qs=a,Qs}var Zs,Ll;function zt(){if(Ll)return Zs;Ll=1;function s(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Zs=s,Zs}var Js,ql;function mf(){if(ql)return Js;ql=1;var s=Bt(),e=zt(),t="[object AsyncFunction]",r="[object Function]",n="[object GeneratorFunction]",o="[object Proxy]";function a(l){if(!e(l))return!1;var h=s(l);return h==r||h==n||h==t||h==o}return Js=a,Js}var er,Gl;function yb(){if(Gl)return er;Gl=1;var s=De(),e=s["__core-js_shared__"];return er=e,er}var tr,Hl;function _b(){if(Hl)return tr;Hl=1;var s=yb(),e=function(){var r=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function t(r){return!!e&&e in r}return tr=t,tr}var ir,Bl;function gf(){if(Bl)return ir;Bl=1;var s=Function.prototype,e=s.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return ir=t,ir}var sr,zl;function wb(){if(zl)return sr;zl=1;var s=mf(),e=_b(),t=zt(),r=gf(),n=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,h=a.toString,d=l.hasOwnProperty,c=RegExp("^"+h.call(d).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(f){if(!t(f)||e(f))return!1;var m=s(f)?c:o;return m.test(r(f))}return sr=u,sr}var rr,$l;function xb(){if($l)return rr;$l=1;function s(e,t){return e==null?void 0:e[t]}return rr=s,rr}var nr,Ul;function gt(){if(Ul)return nr;Ul=1;var s=wb(),e=xb();function t(r,n){var o=e(r,n);return s(o)?o:void 0}return nr=t,nr}var or,Vl;function ws(){if(Vl)return or;Vl=1;var s=gt(),e=s(Object,"create");return or=e,or}var ar,Wl;function Cb(){if(Wl)return ar;Wl=1;var s=ws();function e(){this.__data__=s?s(null):{},this.size=0}return ar=e,ar}var lr,Yl;function Tb(){if(Yl)return lr;Yl=1;function s(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return lr=s,lr}var hr,Xl;function Sb(){if(Xl)return hr;Xl=1;var s=ws(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function n(o){var a=this.__data__;if(s){var l=a[o];return l===e?void 0:l}return r.call(a,o)?a[o]:void 0}return hr=n,hr}var dr,Kl;function Db(){if(Kl)return dr;Kl=1;var s=ws(),e=Object.prototype,t=e.hasOwnProperty;function r(n){var o=this.__data__;return s?o[n]!==void 0:t.call(o,n)}return dr=r,dr}var cr,Ql;function Eb(){if(Ql)return cr;Ql=1;var s=ws(),e="__lodash_hash_undefined__";function t(r,n){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=s&&n===void 0?e:n,this}return cr=t,cr}var ur,Zl;function kb(){if(Zl)return ur;Zl=1;var s=Cb(),e=Tb(),t=Sb(),r=Db(),n=Eb();function o(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var d=a[l];this.set(d[0],d[1])}}return o.prototype.clear=s,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=n,ur=o,ur}var fr,Jl;function Ob(){if(Jl)return fr;Jl=1;function s(){this.__data__=[],this.size=0}return fr=s,fr}var pr,eh;function Ga(){if(eh)return pr;eh=1;function s(e,t){return e===t||e!==e&&t!==t}return pr=s,pr}var mr,th;function xs(){if(th)return mr;th=1;var s=Ga();function e(t,r){for(var n=t.length;n--;)if(s(t[n][0],r))return n;return-1}return mr=e,mr}var gr,ih;function Nb(){if(ih)return gr;ih=1;var s=xs(),e=Array.prototype,t=e.splice;function r(n){var o=this.__data__,a=s(o,n);if(a<0)return!1;var l=o.length-1;return a==l?o.pop():t.call(o,a,1),--this.size,!0}return gr=r,gr}var vr,sh;function Ab(){if(sh)return vr;sh=1;var s=xs();function e(t){var r=this.__data__,n=s(r,t);return n<0?void 0:r[n][1]}return vr=e,vr}var br,rh;function Pb(){if(rh)return br;rh=1;var s=xs();function e(t){return s(this.__data__,t)>-1}return br=e,br}var yr,nh;function Ib(){if(nh)return yr;nh=1;var s=xs();function e(t,r){var n=this.__data__,o=s(n,t);return o<0?(++this.size,n.push([t,r])):n[o][1]=r,this}return yr=e,yr}var _r,oh;function Cs(){if(oh)return _r;oh=1;var s=Ob(),e=Nb(),t=Ab(),r=Pb(),n=Ib();function o(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var d=a[l];this.set(d[0],d[1])}}return o.prototype.clear=s,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=n,_r=o,_r}var wr,ah;function Ha(){if(ah)return wr;ah=1;var s=gt(),e=De(),t=s(e,"Map");return wr=t,wr}var xr,lh;function Rb(){if(lh)return xr;lh=1;var s=kb(),e=Cs(),t=Ha();function r(){this.size=0,this.__data__={hash:new s,map:new(t||e),string:new s}}return xr=r,xr}var Cr,hh;function Mb(){if(hh)return Cr;hh=1;function s(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Cr=s,Cr}var Tr,dh;function Ts(){if(dh)return Tr;dh=1;var s=Mb();function e(t,r){var n=t.__data__;return s(r)?n[typeof r=="string"?"string":"hash"]:n.map}return Tr=e,Tr}var Sr,ch;function jb(){if(ch)return Sr;ch=1;var s=Ts();function e(t){var r=s(this,t).delete(t);return this.size-=r?1:0,r}return Sr=e,Sr}var Dr,uh;function Fb(){if(uh)return Dr;uh=1;var s=Ts();function e(t){return s(this,t).get(t)}return Dr=e,Dr}var Er,fh;function Lb(){if(fh)return Er;fh=1;var s=Ts();function e(t){return s(this,t).has(t)}return Er=e,Er}var kr,ph;function qb(){if(ph)return kr;ph=1;var s=Ts();function e(t,r){var n=s(this,t),o=n.size;return n.set(t,r),this.size+=n.size==o?0:1,this}return kr=e,kr}var Or,mh;function Ba(){if(mh)return Or;mh=1;var s=Rb(),e=jb(),t=Fb(),r=Lb(),n=qb();function o(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var d=a[l];this.set(d[0],d[1])}}return o.prototype.clear=s,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=r,o.prototype.set=n,Or=o,Or}var Nr,gh;function Gb(){if(gh)return Nr;gh=1;var s="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,s),this}return Nr=e,Nr}var Ar,vh;function Hb(){if(vh)return Ar;vh=1;function s(e){return this.__data__.has(e)}return Ar=s,Ar}var Pr,bh;function vf(){if(bh)return Pr;bh=1;var s=Ba(),e=Gb(),t=Hb();function r(n){var o=-1,a=n==null?0:n.length;for(this.__data__=new s;++o<a;)this.add(n[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Pr=r,Pr}var Ir,yh;function Bb(){if(yh)return Ir;yh=1;function s(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1}return Ir=s,Ir}var Rr,_h;function zb(){if(_h)return Rr;_h=1;function s(e){return e!==e}return Rr=s,Rr}var Mr,wh;function $b(){if(wh)return Mr;wh=1;function s(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}return Mr=s,Mr}var jr,xh;function Ub(){if(xh)return jr;xh=1;var s=Bb(),e=zb(),t=$b();function r(n,o,a){return o===o?t(n,o,a):s(n,e,a)}return jr=r,jr}var Fr,Ch;function bf(){if(Ch)return Fr;Ch=1;var s=Ub();function e(t,r){var n=t==null?0:t.length;return!!n&&s(t,r,0)>-1}return Fr=e,Fr}var Lr,Th;function yf(){if(Th)return Lr;Th=1;function s(e,t,r){for(var n=-1,o=e==null?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}return Lr=s,Lr}var qr,Sh;function Ai(){if(Sh)return qr;Sh=1;function s(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}return qr=s,qr}var Gr,Dh;function Pi(){if(Dh)return Gr;Dh=1;function s(e){return function(t){return e(t)}}return Gr=s,Gr}var Hr,Eh;function _f(){if(Eh)return Hr;Eh=1;function s(e,t){return e.has(t)}return Hr=s,Hr}var Br,kh;function Vb(){if(kh)return Br;kh=1;var s=vf(),e=bf(),t=yf(),r=Ai(),n=Pi(),o=_f(),a=200;function l(h,d,c,u){var f=-1,m=e,g=!0,b=h.length,y=[],_=d.length;if(!b)return y;c&&(d=r(d,n(c))),u?(m=t,g=!1):d.length>=a&&(m=o,g=!1,d=new s(d));e:for(;++f<b;){var w=h[f],x=c==null?w:c(w);if(w=u||w!==0?w:0,g&&x===x){for(var D=_;D--;)if(d[D]===x)continue e;y.push(w)}else m(d,x,u)||y.push(w)}return y}return Br=l,Br}var zr,Oh;function za(){if(Oh)return zr;Oh=1;function s(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}return zr=s,zr}var $r,Nh;function Xe(){if(Nh)return $r;Nh=1;function s(e){return e!=null&&typeof e=="object"}return $r=s,$r}var Ur,Ah;function Wb(){if(Ah)return Ur;Ah=1;var s=Bt(),e=Xe(),t="[object Arguments]";function r(n){return e(n)&&s(n)==t}return Ur=r,Ur}var Vr,Ph;function wf(){if(Ph)return Vr;Ph=1;var s=Wb(),e=Xe(),t=Object.prototype,r=t.hasOwnProperty,n=t.propertyIsEnumerable,o=s(function(){return arguments}())?s:function(a){return e(a)&&r.call(a,"callee")&&!n.call(a,"callee")};return Vr=o,Vr}var Wr,Ih;function Ke(){if(Ih)return Wr;Ih=1;var s=Array.isArray;return Wr=s,Wr}var Yr,Rh;function Yb(){if(Rh)return Yr;Rh=1;var s=Ni(),e=wf(),t=Ke(),r=s?s.isConcatSpreadable:void 0;function n(o){return t(o)||e(o)||!!(r&&o&&o[r])}return Yr=n,Yr}var Xr,Mh;function xf(){if(Mh)return Xr;Mh=1;var s=za(),e=Yb();function t(r,n,o,a,l){var h=-1,d=r.length;for(o||(o=e),l||(l=[]);++h<d;){var c=r[h];n>0&&o(c)?n>1?t(c,n-1,o,a,l):s(l,c):a||(l[l.length]=c)}return l}return Xr=t,Xr}var Kr,jh;function $a(){if(jh)return Kr;jh=1;function s(e){return e}return Kr=s,Kr}var Qr,Fh;function Xb(){if(Fh)return Qr;Fh=1;function s(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}return Qr=s,Qr}var Zr,Lh;function Cf(){if(Lh)return Zr;Lh=1;var s=Xb(),e=Math.max;function t(r,n,o){return n=e(n===void 0?r.length-1:n,0),function(){for(var a=arguments,l=-1,h=e(a.length-n,0),d=Array(h);++l<h;)d[l]=a[n+l];l=-1;for(var c=Array(n+1);++l<n;)c[l]=a[l];return c[n]=o(d),s(r,this,c)}}return Zr=t,Zr}var Jr,qh;function Kb(){if(qh)return Jr;qh=1;function s(e){return function(){return e}}return Jr=s,Jr}var en,Gh;function Tf(){if(Gh)return en;Gh=1;var s=gt(),e=function(){try{var t=s(Object,"defineProperty");return t({},"",{}),t}catch{}}();return en=e,en}var tn,Hh;function Qb(){if(Hh)return tn;Hh=1;var s=Kb(),e=Tf(),t=$a(),r=e?function(n,o){return e(n,"toString",{configurable:!0,enumerable:!1,value:s(o),writable:!0})}:t;return tn=r,tn}var sn,Bh;function Zb(){if(Bh)return sn;Bh=1;var s=800,e=16,t=Date.now;function r(n){var o=0,a=0;return function(){var l=t(),h=e-(l-a);if(a=l,h>0){if(++o>=s)return arguments[0]}else o=0;return n.apply(void 0,arguments)}}return sn=r,sn}var rn,zh;function Sf(){if(zh)return rn;zh=1;var s=Qb(),e=Zb(),t=e(s);return rn=t,rn}var nn,$h;function Ua(){if($h)return nn;$h=1;var s=$a(),e=Cf(),t=Sf();function r(n,o){return t(e(n,o,s),n+"")}return nn=r,nn}var on,Uh;function Df(){if(Uh)return on;Uh=1;var s=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=s}return on=e,on}var an,Vh;function $t(){if(Vh)return an;Vh=1;var s=mf(),e=Df();function t(r){return r!=null&&e(r.length)&&!s(r)}return an=t,an}var ln,Wh;function Ef(){if(Wh)return ln;Wh=1;var s=$t(),e=Xe();function t(r){return e(r)&&s(r)}return ln=t,ln}var hn,Yh;function Jb(){if(Yh)return hn;Yh=1;var s=Vb(),e=xf(),t=Ua(),r=Ef(),n=t(function(o,a){return r(o)?s(o,e(a,1,r,!0)):[]});return hn=n,hn}var dn,Xh;function ey(){if(Xh)return dn;Xh=1;var s=vf(),e=bf(),t=yf(),r=Ai(),n=Pi(),o=_f(),a=Math.min;function l(h,d,c){for(var u=c?t:e,f=h[0].length,m=h.length,g=m,b=Array(m),y=1/0,_=[];g--;){var w=h[g];g&&d&&(w=r(w,n(d))),y=a(w.length,y),b[g]=!c&&(d||f>=120&&w.length>=120)?new s(g&&w):void 0}w=h[0];var x=-1,D=b[0];e:for(;++x<f&&_.length<y;){var T=w[x],S=d?d(T):T;if(T=c||T!==0?T:0,!(D?o(D,S):u(_,S,c))){for(g=m;--g;){var E=b[g];if(!(E?o(E,S):u(h[g],S,c)))continue e}D&&D.push(S),_.push(T)}}return _}return dn=l,dn}var cn,Kh;function ty(){if(Kh)return cn;Kh=1;var s=Ef();function e(t){return s(t)?t:[]}return cn=e,cn}var un,Qh;function iy(){if(Qh)return un;Qh=1;var s=Ai(),e=ey(),t=Ua(),r=ty(),n=t(function(o){var a=s(o,r);return a.length&&a[0]===o[0]?e(a):[]});return un=n,un}var fn,Zh;function kf(){if(Zh)return fn;Zh=1;function s(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}return fn=s,fn}var pn,Jh;function sy(){if(Jh)return pn;Jh=1;function s(e){return function(t,r,n){for(var o=-1,a=Object(t),l=n(t),h=l.length;h--;){var d=l[e?h:++o];if(r(a[d],d,a)===!1)break}return t}}return pn=s,pn}var mn,ed;function ry(){if(ed)return mn;ed=1;var s=sy(),e=s();return mn=e,mn}var gn,td;function ny(){if(td)return gn;td=1;function s(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}return gn=s,gn}var ii={exports:{}},vn,id;function oy(){if(id)return vn;id=1;function s(){return!1}return vn=s,vn}ii.exports;var sd;function Of(){return sd||(sd=1,function(s,e){var t=De(),r=oy(),n=e&&!e.nodeType&&e,o=n&&!0&&s&&!s.nodeType&&s,a=o&&o.exports===n,l=a?t.Buffer:void 0,h=l?l.isBuffer:void 0,d=h||r;s.exports=d}(ii,ii.exports)),ii.exports}var bn,rd;function Nf(){if(rd)return bn;rd=1;var s=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,n){var o=typeof r;return n=n??s,!!n&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<n}return bn=t,bn}var yn,nd;function ay(){if(nd)return yn;nd=1;var s=Bt(),e=Df(),t=Xe(),r="[object Arguments]",n="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",h="[object Function]",d="[object Map]",c="[object Number]",u="[object Object]",f="[object RegExp]",m="[object Set]",g="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",D="[object Int8Array]",T="[object Int16Array]",S="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",$="[object Uint16Array]",le="[object Uint32Array]",P={};P[w]=P[x]=P[D]=P[T]=P[S]=P[E]=P[A]=P[$]=P[le]=!0,P[r]=P[n]=P[y]=P[o]=P[_]=P[a]=P[l]=P[h]=P[d]=P[c]=P[u]=P[f]=P[m]=P[g]=P[b]=!1;function ue(Qe){return t(Qe)&&e(Qe.length)&&!!P[s(Qe)]}return yn=ue,yn}var si={exports:{}};si.exports;var od;function Va(){return od||(od=1,function(s,e){var t=pf(),r=e&&!e.nodeType&&e,n=r&&!0&&s&&!s.nodeType&&s,o=n&&n.exports===r,a=o&&t.process,l=function(){try{var h=n&&n.require&&n.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();s.exports=l}(si,si.exports)),si.exports}var _n,ad;function ly(){if(ad)return _n;ad=1;var s=ay(),e=Pi(),t=Va(),r=t&&t.isTypedArray,n=r?e(r):s;return _n=n,_n}var wn,ld;function Af(){if(ld)return wn;ld=1;var s=ny(),e=wf(),t=Ke(),r=Of(),n=Nf(),o=ly(),a=Object.prototype,l=a.hasOwnProperty;function h(d,c){var u=t(d),f=!u&&e(d),m=!u&&!f&&r(d),g=!u&&!f&&!m&&o(d),b=u||f||m||g,y=b?s(d.length,String):[],_=y.length;for(var w in d)(c||l.call(d,w))&&!(b&&(w=="length"||m&&(w=="offset"||w=="parent")||g&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||n(w,_)))&&y.push(w);return y}return wn=h,wn}var xn,hd;function Ss(){if(hd)return xn;hd=1;var s=Object.prototype;function e(t){var r=t&&t.constructor,n=typeof r=="function"&&r.prototype||s;return t===n}return xn=e,xn}var Cn,dd;function Pf(){if(dd)return Cn;dd=1;function s(e,t){return function(r){return e(t(r))}}return Cn=s,Cn}var Tn,cd;function hy(){if(cd)return Tn;cd=1;var s=Pf(),e=s(Object.keys,Object);return Tn=e,Tn}var Sn,ud;function dy(){if(ud)return Sn;ud=1;var s=Ss(),e=hy(),t=Object.prototype,r=t.hasOwnProperty;function n(o){if(!s(o))return e(o);var a=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&a.push(l);return a}return Sn=n,Sn}var Dn,fd;function Ut(){if(fd)return Dn;fd=1;var s=Af(),e=dy(),t=$t();function r(n){return t(n)?s(n):e(n)}return Dn=r,Dn}var En,pd;function cy(){if(pd)return En;pd=1;var s=ry(),e=Ut();function t(r,n){return r&&s(r,n,e)}return En=t,En}var kn,md;function uy(){if(md)return kn;md=1;var s=$t();function e(t,r){return function(n,o){if(n==null)return n;if(!s(n))return t(n,o);for(var a=n.length,l=r?a:-1,h=Object(n);(r?l--:++l<a)&&o(h[l],l,h)!==!1;);return n}}return kn=e,kn}var On,gd;function fy(){if(gd)return On;gd=1;var s=cy(),e=uy(),t=e(s);return On=t,On}var Nn,vd;function py(){if(vd)return Nn;vd=1;var s=$a();function e(t){return typeof t=="function"?t:s}return Nn=e,Nn}var An,bd;function my(){if(bd)return An;bd=1;var s=kf(),e=fy(),t=py(),r=Ke();function n(o,a){var l=r(o)?s:e;return l(o,t(a))}return An=n,An}var Pn,yd;function gy(){return yd||(yd=1,Pn=my()),Pn}var In,_d;function If(){if(_d)return In;_d=1;var s=Tf();function e(t,r,n){r=="__proto__"&&s?s(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n}return In=e,In}var Rn,wd;function Wa(){if(wd)return Rn;wd=1;var s=If(),e=Ga(),t=Object.prototype,r=t.hasOwnProperty;function n(o,a,l){var h=o[a];(!(r.call(o,a)&&e(h,l))||l===void 0&&!(a in o))&&s(o,a,l)}return Rn=n,Rn}var Mn,xd;function Vt(){if(xd)return Mn;xd=1;var s=Wa(),e=If();function t(r,n,o,a){var l=!o;o||(o={});for(var h=-1,d=n.length;++h<d;){var c=n[h],u=a?a(o[c],r[c],c,o,r):void 0;u===void 0&&(u=r[c]),l?e(o,c,u):s(o,c,u)}return o}return Mn=t,Mn}var jn,Cd;function vy(){if(Cd)return jn;Cd=1;var s=Ga(),e=$t(),t=Nf(),r=zt();function n(o,a,l){if(!r(l))return!1;var h=typeof a;return(h=="number"?e(l)&&t(a,l.length):h=="string"&&a in l)?s(l[a],o):!1}return jn=n,jn}var Fn,Td;function by(){if(Td)return Fn;Td=1;var s=Ua(),e=vy();function t(r){return s(function(n,o){var a=-1,l=o.length,h=l>1?o[l-1]:void 0,d=l>2?o[2]:void 0;for(h=r.length>3&&typeof h=="function"?(l--,h):void 0,d&&e(o[0],o[1],d)&&(h=l<3?void 0:h,l=1),n=Object(n);++a<l;){var c=o[a];c&&r(n,c,a,h)}return n})}return Fn=t,Fn}var Ln,Sd;function yy(){if(Sd)return Ln;Sd=1;var s=Wa(),e=Vt(),t=by(),r=$t(),n=Ss(),o=Ut(),a=Object.prototype,l=a.hasOwnProperty,h=t(function(d,c){if(n(c)||r(c)){e(c,o(c),d);return}for(var u in c)l.call(c,u)&&s(d,u,c[u])});return Ln=h,Ln}var qn,Dd;function _y(){if(Dd)return qn;Dd=1;var s=Cs();function e(){this.__data__=new s,this.size=0}return qn=e,qn}var Gn,Ed;function wy(){if(Ed)return Gn;Ed=1;function s(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return Gn=s,Gn}var Hn,kd;function xy(){if(kd)return Hn;kd=1;function s(e){return this.__data__.get(e)}return Hn=s,Hn}var Bn,Od;function Cy(){if(Od)return Bn;Od=1;function s(e){return this.__data__.has(e)}return Bn=s,Bn}var zn,Nd;function Ty(){if(Nd)return zn;Nd=1;var s=Cs(),e=Ha(),t=Ba(),r=200;function n(o,a){var l=this.__data__;if(l instanceof s){var h=l.__data__;if(!e||h.length<r-1)return h.push([o,a]),this.size=++l.size,this;l=this.__data__=new t(h)}return l.set(o,a),this.size=l.size,this}return zn=n,zn}var $n,Ad;function Sy(){if(Ad)return $n;Ad=1;var s=Cs(),e=_y(),t=wy(),r=xy(),n=Cy(),o=Ty();function a(l){var h=this.__data__=new s(l);this.size=h.size}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=o,$n=a,$n}var Un,Pd;function Dy(){if(Pd)return Un;Pd=1;var s=Vt(),e=Ut();function t(r,n){return r&&s(n,e(n),r)}return Un=t,Un}var Vn,Id;function Ey(){if(Id)return Vn;Id=1;function s(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}return Vn=s,Vn}var Wn,Rd;function ky(){if(Rd)return Wn;Rd=1;var s=zt(),e=Ss(),t=Ey(),r=Object.prototype,n=r.hasOwnProperty;function o(a){if(!s(a))return t(a);var l=e(a),h=[];for(var d in a)d=="constructor"&&(l||!n.call(a,d))||h.push(d);return h}return Wn=o,Wn}var Yn,Md;function Ya(){if(Md)return Yn;Md=1;var s=Af(),e=ky(),t=$t();function r(n){return t(n)?s(n,!0):e(n)}return Yn=r,Yn}var Xn,jd;function Oy(){if(jd)return Xn;jd=1;var s=Vt(),e=Ya();function t(r,n){return r&&s(n,e(n),r)}return Xn=t,Xn}var ri={exports:{}};ri.exports;var Fd;function Ny(){return Fd||(Fd=1,function(s,e){var t=De(),r=e&&!e.nodeType&&e,n=r&&!0&&s&&!s.nodeType&&s,o=n&&n.exports===r,a=o?t.Buffer:void 0,l=a?a.allocUnsafe:void 0;function h(d,c){if(c)return d.slice();var u=d.length,f=l?l(u):new d.constructor(u);return d.copy(f),f}s.exports=h}(ri,ri.exports)),ri.exports}var Kn,Ld;function Ay(){if(Ld)return Kn;Ld=1;function s(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}return Kn=s,Kn}var Qn,qd;function Py(){if(qd)return Qn;qd=1;function s(e,t){for(var r=-1,n=e==null?0:e.length,o=0,a=[];++r<n;){var l=e[r];t(l,r,e)&&(a[o++]=l)}return a}return Qn=s,Qn}var Zn,Gd;function Rf(){if(Gd)return Zn;Gd=1;function s(){return[]}return Zn=s,Zn}var Jn,Hd;function Xa(){if(Hd)return Jn;Hd=1;var s=Py(),e=Rf(),t=Object.prototype,r=t.propertyIsEnumerable,n=Object.getOwnPropertySymbols,o=n?function(a){return a==null?[]:(a=Object(a),s(n(a),function(l){return r.call(a,l)}))}:e;return Jn=o,Jn}var eo,Bd;function Iy(){if(Bd)return eo;Bd=1;var s=Vt(),e=Xa();function t(r,n){return s(r,e(r),n)}return eo=t,eo}var to,zd;function Ka(){if(zd)return to;zd=1;var s=Pf(),e=s(Object.getPrototypeOf,Object);return to=e,to}var io,$d;function Mf(){if($d)return io;$d=1;var s=za(),e=Ka(),t=Xa(),r=Rf(),n=Object.getOwnPropertySymbols,o=n?function(a){for(var l=[];a;)s(l,t(a)),a=e(a);return l}:r;return io=o,io}var so,Ud;function Ry(){if(Ud)return so;Ud=1;var s=Vt(),e=Mf();function t(r,n){return s(r,e(r),n)}return so=t,so}var ro,Vd;function jf(){if(Vd)return ro;Vd=1;var s=za(),e=Ke();function t(r,n,o){var a=n(r);return e(r)?a:s(a,o(r))}return ro=t,ro}var no,Wd;function My(){if(Wd)return no;Wd=1;var s=jf(),e=Xa(),t=Ut();function r(n){return s(n,t,e)}return no=r,no}var oo,Yd;function Ff(){if(Yd)return oo;Yd=1;var s=jf(),e=Mf(),t=Ya();function r(n){return s(n,t,e)}return oo=r,oo}var ao,Xd;function jy(){if(Xd)return ao;Xd=1;var s=gt(),e=De(),t=s(e,"DataView");return ao=t,ao}var lo,Kd;function Fy(){if(Kd)return lo;Kd=1;var s=gt(),e=De(),t=s(e,"Promise");return lo=t,lo}var ho,Qd;function Ly(){if(Qd)return ho;Qd=1;var s=gt(),e=De(),t=s(e,"Set");return ho=t,ho}var co,Zd;function qy(){if(Zd)return co;Zd=1;var s=gt(),e=De(),t=s(e,"WeakMap");return co=t,co}var uo,Jd;function Qa(){if(Jd)return uo;Jd=1;var s=jy(),e=Ha(),t=Fy(),r=Ly(),n=qy(),o=Bt(),a=gf(),l="[object Map]",h="[object Object]",d="[object Promise]",c="[object Set]",u="[object WeakMap]",f="[object DataView]",m=a(s),g=a(e),b=a(t),y=a(r),_=a(n),w=o;return(s&&w(new s(new ArrayBuffer(1)))!=f||e&&w(new e)!=l||t&&w(t.resolve())!=d||r&&w(new r)!=c||n&&w(new n)!=u)&&(w=function(x){var D=o(x),T=D==h?x.constructor:void 0,S=T?a(T):"";if(S)switch(S){case m:return f;case g:return l;case b:return d;case y:return c;case _:return u}return D}),uo=w,uo}var fo,ec;function Gy(){if(ec)return fo;ec=1;var s=Object.prototype,e=s.hasOwnProperty;function t(r){var n=r.length,o=new r.constructor(n);return n&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return fo=t,fo}var po,tc;function Hy(){if(tc)return po;tc=1;var s=De(),e=s.Uint8Array;return po=e,po}var mo,ic;function Za(){if(ic)return mo;ic=1;var s=Hy();function e(t){var r=new t.constructor(t.byteLength);return new s(r).set(new s(t)),r}return mo=e,mo}var go,sc;function By(){if(sc)return go;sc=1;var s=Za();function e(t,r){var n=r?s(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}return go=e,go}var vo,rc;function zy(){if(rc)return vo;rc=1;var s=/\w*$/;function e(t){var r=new t.constructor(t.source,s.exec(t));return r.lastIndex=t.lastIndex,r}return vo=e,vo}var bo,nc;function $y(){if(nc)return bo;nc=1;var s=Ni(),e=s?s.prototype:void 0,t=e?e.valueOf:void 0;function r(n){return t?Object(t.call(n)):{}}return bo=r,bo}var yo,oc;function Uy(){if(oc)return yo;oc=1;var s=Za();function e(t,r){var n=r?s(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}return yo=e,yo}var _o,ac;function Vy(){if(ac)return _o;ac=1;var s=Za(),e=By(),t=zy(),r=$y(),n=Uy(),o="[object Boolean]",a="[object Date]",l="[object Map]",h="[object Number]",d="[object RegExp]",c="[object Set]",u="[object String]",f="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",D="[object Uint8Array]",T="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]";function A($,le,P){var ue=$.constructor;switch(le){case m:return s($);case o:case a:return new ue(+$);case g:return e($,P);case b:case y:case _:case w:case x:case D:case T:case S:case E:return n($,P);case l:return new ue;case h:case u:return new ue($);case d:return t($);case c:return new ue;case f:return r($)}}return _o=A,_o}var wo,lc;function Wy(){if(lc)return wo;lc=1;var s=zt(),e=Object.create,t=function(){function r(){}return function(n){if(!s(n))return{};if(e)return e(n);r.prototype=n;var o=new r;return r.prototype=void 0,o}}();return wo=t,wo}var xo,hc;function Yy(){if(hc)return xo;hc=1;var s=Wy(),e=Ka(),t=Ss();function r(n){return typeof n.constructor=="function"&&!t(n)?s(e(n)):{}}return xo=r,xo}var Co,dc;function Xy(){if(dc)return Co;dc=1;var s=Qa(),e=Xe(),t="[object Map]";function r(n){return e(n)&&s(n)==t}return Co=r,Co}var To,cc;function Ky(){if(cc)return To;cc=1;var s=Xy(),e=Pi(),t=Va(),r=t&&t.isMap,n=r?e(r):s;return To=n,To}var So,uc;function Qy(){if(uc)return So;uc=1;var s=Qa(),e=Xe(),t="[object Set]";function r(n){return e(n)&&s(n)==t}return So=r,So}var Do,fc;function Zy(){if(fc)return Do;fc=1;var s=Qy(),e=Pi(),t=Va(),r=t&&t.isSet,n=r?e(r):s;return Do=n,Do}var Eo,pc;function Jy(){if(pc)return Eo;pc=1;var s=Sy(),e=kf(),t=Wa(),r=Dy(),n=Oy(),o=Ny(),a=Ay(),l=Iy(),h=Ry(),d=My(),c=Ff(),u=Qa(),f=Gy(),m=Vy(),g=Yy(),b=Ke(),y=Of(),_=Ky(),w=zt(),x=Zy(),D=Ut(),T=Ya(),S=1,E=2,A=4,$="[object Arguments]",le="[object Array]",P="[object Boolean]",ue="[object Date]",Qe="[object Error]",Ii="[object Function]",Ee="[object GeneratorFunction]",Es="[object Map]",vt="[object Number]",Ri="[object Object]",Mi="[object RegExp]",ks="[object Set]",ji="[object String]",Os="[object Symbol]",Fi="[object WeakMap]",Me="[object ArrayBuffer]",Li="[object DataView]",Ns="[object Float32Array]",Ze="[object Float64Array]",As="[object Int8Array]",qi="[object Int16Array]",bt="[object Int32Array]",Wt="[object Uint8Array]",Yt="[object Uint8ClampedArray]",Ps="[object Uint16Array]",Is="[object Uint32Array]",F={};F[$]=F[le]=F[Me]=F[Li]=F[P]=F[ue]=F[Ns]=F[Ze]=F[As]=F[qi]=F[bt]=F[Es]=F[vt]=F[Ri]=F[Mi]=F[ks]=F[ji]=F[Os]=F[Wt]=F[Yt]=F[Ps]=F[Is]=!0,F[Qe]=F[Ii]=F[Fi]=!1;function yt(M,je,Fe,Rs,_t,we){var C,I=je&S,U=je&E,ke=je&A;if(Fe&&(C=_t?Fe(M,Rs,_t,we):Fe(M)),C!==void 0)return C;if(!w(M))return M;var Je=b(M);if(Je){if(C=f(M),!I)return a(M,C)}else{var fe=u(M),wt=fe==Ii||fe==Ee;if(y(M))return o(M,I);if(fe==Ri||fe==$||wt&&!_t){if(C=U||wt?{}:g(M),!I)return U?h(M,n(C,M)):l(M,r(C,M))}else{if(!F[fe])return _t?M:{};C=m(M,fe,I)}}we||(we=new s);var Xt=we.get(M);if(Xt)return Xt;we.set(M,C),x(M)?M.forEach(function(Le){C.add(yt(Le,je,Fe,Le,M,we))}):_(M)&&M.forEach(function(Le,et){C.set(et,yt(Le,je,Fe,et,M,we))});var Kt=ke?U?c:d:U?T:D,tl=Je?void 0:Kt(M);return e(tl||M,function(Le,et){tl&&(et=Le,Le=M[et]),t(C,et,yt(Le,je,Fe,et,M,we))}),C}return Eo=yt,Eo}var ko,mc;function Ja(){if(mc)return ko;mc=1;var s=Bt(),e=Xe(),t="[object Symbol]";function r(n){return typeof n=="symbol"||e(n)&&s(n)==t}return ko=r,ko}var Oo,gc;function e_(){if(gc)return Oo;gc=1;var s=Ke(),e=Ja(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function n(o,a){if(s(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!t.test(o)||a!=null&&o in Object(a)}return Oo=n,Oo}var No,vc;function t_(){if(vc)return No;vc=1;var s=Ba(),e="Expected a function";function t(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(e);var o=function(){var a=arguments,l=n?n.apply(this,a):a[0],h=o.cache;if(h.has(l))return h.get(l);var d=r.apply(this,a);return o.cache=h.set(l,d)||h,d};return o.cache=new(t.Cache||s),o}return t.Cache=s,No=t,No}var Ao,bc;function i_(){if(bc)return Ao;bc=1;var s=t_(),e=500;function t(r){var n=s(r,function(a){return o.size===e&&o.clear(),a}),o=n.cache;return n}return Ao=t,Ao}var Po,yc;function s_(){if(yc)return Po;yc=1;var s=i_(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,r=s(function(n){var o=[];return n.charCodeAt(0)===46&&o.push(""),n.replace(e,function(a,l,h,d){o.push(h?d.replace(t,"$1"):l||a)}),o});return Po=r,Po}var Io,_c;function r_(){if(_c)return Io;_c=1;var s=Ni(),e=Ai(),t=Ke(),r=Ja(),n=1/0,o=s?s.prototype:void 0,a=o?o.toString:void 0;function l(h){if(typeof h=="string")return h;if(t(h))return e(h,l)+"";if(r(h))return a?a.call(h):"";var d=h+"";return d=="0"&&1/h==-n?"-0":d}return Io=l,Io}var Ro,wc;function n_(){if(wc)return Ro;wc=1;var s=r_();function e(t){return t==null?"":s(t)}return Ro=e,Ro}var Mo,xc;function el(){if(xc)return Mo;xc=1;var s=Ke(),e=e_(),t=s_(),r=n_();function n(o,a){return s(o)?o:e(o,a)?[o]:t(r(o))}return Mo=n,Mo}var jo,Cc;function o_(){if(Cc)return jo;Cc=1;function s(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return jo=s,jo}var Fo,Tc;function Lf(){if(Tc)return Fo;Tc=1;var s=Ja(),e=1/0;function t(r){if(typeof r=="string"||s(r))return r;var n=r+"";return n=="0"&&1/r==-e?"-0":n}return Fo=t,Fo}var Lo,Sc;function a_(){if(Sc)return Lo;Sc=1;var s=el(),e=Lf();function t(r,n){n=s(n,r);for(var o=0,a=n.length;r!=null&&o<a;)r=r[e(n[o++])];return o&&o==a?r:void 0}return Lo=t,Lo}var qo,Dc;function l_(){if(Dc)return qo;Dc=1;function s(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),r=r>o?o:r,r<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}return qo=s,qo}var Go,Ec;function h_(){if(Ec)return Go;Ec=1;var s=a_(),e=l_();function t(r,n){return n.length<2?r:s(r,e(n,0,-1))}return Go=t,Go}var Ho,kc;function d_(){if(kc)return Ho;kc=1;var s=el(),e=o_(),t=h_(),r=Lf();function n(o,a){return a=s(a,o),o=t(o,a),o==null||delete o[r(e(a))]}return Ho=n,Ho}var Bo,Oc;function c_(){if(Oc)return Bo;Oc=1;var s=Bt(),e=Ka(),t=Xe(),r="[object Object]",n=Function.prototype,o=Object.prototype,a=n.toString,l=o.hasOwnProperty,h=a.call(Object);function d(c){if(!t(c)||s(c)!=r)return!1;var u=e(c);if(u===null)return!0;var f=l.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==h}return Bo=d,Bo}var zo,Nc;function u_(){if(Nc)return zo;Nc=1;var s=c_();function e(t){return s(t)?void 0:t}return zo=e,zo}var $o,Ac;function f_(){if(Ac)return $o;Ac=1;var s=xf();function e(t){var r=t==null?0:t.length;return r?s(t,1):[]}return $o=e,$o}var Uo,Pc;function p_(){if(Pc)return Uo;Pc=1;var s=f_(),e=Cf(),t=Sf();function r(n){return t(e(n,void 0,s),n+"")}return Uo=r,Uo}var Vo,Ic;function m_(){if(Ic)return Vo;Ic=1;var s=Ai(),e=Jy(),t=d_(),r=el(),n=Vt(),o=u_(),a=p_(),l=Ff(),h=1,d=2,c=4,u=a(function(f,m){var g={};if(f==null)return g;var b=!1;m=s(m,function(_){return _=r(_,f),b||(b=_.length>1),_}),n(f,l(f),g),b&&(g=e(g,h|d|c,o));for(var y=m.length;y--;)t(g,m[y]);return g});return Vo=u,Vo}var ce=up,g_=fp;Object.defineProperty(hs,"__esModule",{value:!0});hs.Timeline=void 0;var v_=ce(pp),b_=ce(mp),kt=ce(Bc()),y_=ce(gp),__=ce(bp()),Rc=ce(yp()),ni=ce(_p),Wo=S_(z),Mc=gg,w_=gb,jc=ce(Jb()),x_=ce(iy()),Zi=ce(gy()),C_=ce(yy()),T_=ce(m_()),Fc=ce(Ut());function qf(s){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(qf=function(n){return n?t:e})(s)}function S_(s,e){if(!e&&s&&s.__esModule)return s;if(s===null||g_(s)!=="object"&&typeof s!="function")return{default:s};var t=qf(e);if(t&&t.has(s))return t.get(s);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in s)if(o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)){var a=n?Object.getOwnPropertyDescriptor(s,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=s[o]}return r.default=s,t&&t.set(s,r),r}function D_(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=E_(s))||e&&s&&typeof s.length=="number"){t&&(s=t);var r=0,n=function(){};return{s:n,n:function(){return r>=s.length?{done:!0}:{done:!1,value:s[r++]}},e:function(d){throw d},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,l;return{s:function(){t=t.call(s)},n:function(){var d=t.next();return o=d.done,d},e:function(d){a=!0,l=d},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function E_(s,e){if(s){if(typeof s=="string")return Lc(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lc(s,e)}}function Lc(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=s[t];return r}function k_(s){var e=O_();return function(){var r=(0,Rc.default)(s),n;if(e){var o=(0,Rc.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,__.default)(this,n)}}function O_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Gf=function(){},Hf=["currentTimeTick","click","contextmenu","doubleClick","dragover","drop","mouseOver","mouseDown","mouseUp","mouseMove","groupDragged","changed","rangechange","rangechanged","select","itemover","itemout","timechange","timechanged","markerchange","markerchanged"],Bf={};(0,Zi.default)(Hf,function(s){Bf["".concat(s,"Handler")]=Gf});var zf=function(s){(0,y_.default)(t,s);var e=k_(t);function t(r){var n;return(0,v_.default)(this,t),n=e.call(this,r),(0,ni.default)((0,kt.default)(n),"timeline",void 0),(0,ni.default)((0,kt.default)(n),"items",void 0),(0,ni.default)((0,kt.default)(n),"groups",void 0),(0,ni.default)((0,kt.default)(n),"ref",Wo.default.createRef()),Object.defineProperty((0,kt.default)(n),"items",{value:new Mc.DataSet,writable:!1}),Object.defineProperty((0,kt.default)(n),"groups",{value:new Mc.DataSet,writable:!1}),n}return(0,b_.default)(t,[{key:"componentWillUnmount",value:function(){this.timeline.destroy()}},{key:"componentDidMount",value:function(){Object.defineProperty(this,"timeline",{value:new w_.Timeline(this.ref.current,this.items,this.groups,this.props.options),writable:!1});var n=D_(Hf),o;try{for(n.s();!(o=n.n()).done;){var a=o.value,l=this.props["".concat(a,"Handler")];l!==Gf&&this.timeline.on(a,l)}}catch(h){n.e(h)}finally{n.f()}this.init()}},{key:"shouldComponentUpdate",value:function(n){var o=this.props,a=o.initialItems,l=o.initialGroups,h=o.options,d=o.selection,c=o.customTimes,u=o.currentTime,f=a!==n.initialItems,m=l!==n.initialGroups,g=h!==n.options,b=c!==n.customTimes,y=d!==n.selection,_=u!==n.currentTime;return m&&console.warn("react-vis-timeline: you are trying to change 'initialGroups' prop. Please use the public api exposed with in ref"),f&&console.warn("react-vis-timeline: you are trying to change 'initialItems' prop. Please use the public api exposed with in ref"),g&&this.timeline.setOptions(n.options),b&&this.updateCustomTimes(c,n.customTimes),y&&this.updateSelection(n.selection,n.selectionOptions),_&&this.timeline.setCurrentTime(n.currentTime),!1}},{key:"updateCustomTimes",value:function(n,o){var a=this,l=(0,Fc.default)(n),h=(0,Fc.default)(o),d=(0,jc.default)(h,l),c=(0,jc.default)(l,h),u=(0,x_.default)(l,h);(0,Zi.default)(c,function(f){return a.timeline.removeCustomTime(f)}),(0,Zi.default)(d,function(f){var m=o[f].datetime;a.timeline.addCustomTime(m,f)}),(0,Zi.default)(u,function(f){var m=o[f].datetime;a.timeline.setCustomTime(m,f)})}},{key:"updateSelection",value:function(n,o){this.timeline.setSelection(n,o)}},{key:"init",value:function(){var n=this.props,o=n.initialItems,a=n.initialGroups,l=n.options,h=n.selection,d=n.selectionOptions,c=d===void 0?{}:d,u=n.customTimes,f=n.animate,m=f===void 0?!0:f,g=n.currentTime,b=l;m&&(b=(0,T_.default)(l,"start","end"),this.timeline.setWindow(l.start,l.end,{animation:m})),this.timeline.setOptions(b),(a==null?void 0:a.length)>0&&this.groups.add(a),(o==null?void 0:o.length)>0&&this.items.add(o),this.updateSelection(h,c),g&&this.timeline.setCurrentTime(g),this.updateCustomTimes([],u)}},{key:"render",value:function(){return Wo.default.createElement("div",{ref:this.ref})}}]),t}(Wo.Component);hs.Timeline=zf;(0,ni.default)(zf,"defaultProps",(0,C_.default)({initialItems:[],groups:[],options:{},selection:[],customTimes:[]},Bf));(function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return e.Timeline}});var e=hs})(Gc);const N_=ls(Gc);var $f={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.cssValue=Gt.parseLengthAndUnit=void 0;var A_={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Uf(s){if(typeof s=="number")return{value:s,unit:"px"};var e,t=(s.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(s.match(/[^0-9]*$/)||"").toString();return A_[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}Gt.parseLengthAndUnit=Uf;function P_(s){var e=Uf(s);return"".concat(e.value).concat(e.unit)}Gt.cssValue=P_;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.createAnimation=void 0;var I_=function(s,e,t){var r="react-spinners-".concat(s,"-").concat(t);if(typeof window>"u"||!window.document)return r;var n=document.createElement("style");document.head.appendChild(n);var o=n.sheet,a=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(a,0),r};Ds.createAnimation=I_;var as=ie&&ie.__assign||function(){return as=Object.assign||function(s){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},as.apply(this,arguments)},R_=ie&&ie.__createBinding||(Object.create?function(s,e,t,r){r===void 0&&(r=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(s,r,n)}:function(s,e,t,r){r===void 0&&(r=t),s[r]=e[t]}),M_=ie&&ie.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),j_=ie&&ie.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var t in s)t!=="default"&&Object.prototype.hasOwnProperty.call(s,t)&&R_(e,s,t);return M_(e,s),e},F_=ie&&ie.__rest||function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t};Object.defineProperty($f,"__esModule",{value:!0});var tt=j_(z),L_=Gt,Ot=Ds,ee=[1,3,5],q_=[(0,Ot.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(ee[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-0"),(0,Ot.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(ee[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-1"),(0,Ot.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(ee[0],`rem) scale(0.75)}
    75% {transform: translateX(-`).concat(ee[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-2"),(0,Ot.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(ee[0],`rem) scale(0.75)}
    75% {transform: translateX(`).concat(ee[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-3"),(0,Ot.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(ee[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-4"),(0,Ot.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(ee[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-5")];function G_(s){var e=s.loading,t=e===void 0?!0:e,r=s.color,n=r===void 0?"#000000":r,o=s.speedMultiplier,a=o===void 0?1:o,l=s.cssOverride,h=l===void 0?{}:l,d=s.size,c=d===void 0?15:d,u=F_(s,["loading","color","speedMultiplier","cssOverride","size"]),f=(0,L_.parseLengthAndUnit)(c),m=f.value,g=f.unit,b=as({display:"inherit",position:"relative"},h),y=function(_){return{position:"absolute",fontSize:"".concat(m/3).concat(g),width:"".concat(m).concat(g),height:"".concat(m).concat(g),background:n,borderRadius:"50%",animation:"".concat(q_[_]," ").concat(1.5/a,"s infinite"),animationFillMode:"forwards"}};return t?tt.createElement("span",as({style:b},u),tt.createElement("span",{style:y(0)}),tt.createElement("span",{style:y(1)}),tt.createElement("span",{style:y(2)}),tt.createElement("span",{style:y(3)}),tt.createElement("span",{style:y(4)}),tt.createElement("span",{style:y(5)})):null}var H_=$f.default=G_;Xi.registerLocale(cp);Yf.register(Xf,Kf,Qf);const B_=dp(hp),qc={chart:{fontFamily:"inherit"},cutoutPercentage:75,responsive:!0,maintainAspectRatio:!1,cutout:"75%",title:{display:!1},animation:{animateScale:!0,animateRotate:!0},tooltips:{enabled:!0,intersect:!1,mode:"nearest",bodySpacing:5,yPadding:10,xPadding:10,caretPadding:0,displayColors:!1,backgroundColor:"#20D489",titleFontColor:"#ffffff",cornerRadius:4,footerSpacing:0,titleSpacing:0},plugins:{legend:{display:!1}}},z_={chart:{id:"basic-bar",fontFamily:"inherit",type:"bar",toolbar:{show:!1}},xaxis:{categories:["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"}},crosshairs:{fill:{gradient:{opacityFrom:0,opacityTo:0}}}},yaxis:{labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"},formatter:function(s){return parseInt(s)}}},fill:{opacity:1},tooltip:{style:{fontSize:"12px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"22%",borderRadius:5,dataLabels:{position:"top"}}},legend:{show:!1},dataLabels:{enabled:!0,offsetY:-30,style:{fontSize:"13px",colors:[q("--bs-gray-900")]},formatter:function(s){return s==0?"":s}},stroke:{show:!0,width:2,colors:["transparent"]},colors:[q("--bs-success"),q("--bs-success-light")],grid:{borderColor:q("--bs-border-dashed-color"),strokeDashArray:4,yaxis:{lines:{show:!0}}}},$_={chart:{id:"basic-bar",fontFamily:"inherit",type:"bar",toolbar:{show:!1}},xaxis:{categories:["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"}},crosshairs:{fill:{gradient:{opacityFrom:0,opacityTo:0}}}},yaxis:{labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"},formatter:function(s){return parseInt(s)}}},fill:{opacity:1},tooltip:{style:{fontSize:"12px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"22%",borderRadius:5,dataLabels:{position:"top"}}},legend:{show:!1},dataLabels:{enabled:!0,offsetY:-30,style:{fontSize:"13px",colors:[q("--bs-gray-900")]},formatter:function(s){return s==0?"":s}},stroke:{show:!0,width:2,colors:["transparent"]},colors:[q("--bs-primary"),q("--bs-primary-light")],grid:{borderColor:q("--bs-border-dashed-color"),strokeDashArray:4,yaxis:{lines:{show:!0}}}},U_={series:[20,100,15,25],chart:{fontFamily:"inherit",type:"donut",width:250},plotOptions:{pie:{donut:{size:"50%",labels:{value:{fontSize:"10px"}}}}},colors:[q("--bs-info"),q("--bs-success"),q("--bs-primary"),q("--bs-danger")],stroke:{width:0},labels:["Approved","Change","Correction"],legend:{show:!1},fill:{type:"false"}},V_={chart:{type:"area",height:350,toolbar:{show:!1}},legend:{show:!1},dataLabels:{enabled:!1},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",show:!0,width:3,colors:[q("--bs-success"),q("--bs-primary")]},xaxis:{categories:["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:q("--bs-gray-500"),fontSize:"12px"}},crosshairs:{position:"front",stroke:{color:q("--bs-primary"),width:1,dashArray:3}},tooltip:{enabled:!0,formatter:void 0,offsetY:0,style:{fontSize:"12px"}}},yaxis:{labels:{style:{colors:q("--bs-gray-500"),fontSize:"12px"}}},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(s){return s?parseInt(s)+" dossiers":"0 dossiers"}}},colors:[q("--bs-success"),q("--bs-primary")],grid:{borderColor:q("--bs-gray-200"),strokeDashArray:4,yaxis:{lines:{show:!0}}},markers:{colors:[q("--bs-primary-light"),q("--bs-success-light")],strokeColor:[q("--bs-success"),q("--bs-primary")],strokeWidth:3}},W_=({RequetNumber:s,totalRequet:e,PublishingCount:t,formattingCount:r,acceptance:n,correction:o,update:a,totalclosed:l,productCountry:h,inprogress:d,currentUser:c,countsformating:u,countspublishing:f,teamId:m,notifications:g})=>{const[b,y]=z.useState(new Date),[_,w]=z.useState("initiated"),[x,D]=z.useState(new Date),[T,S]=z.useState(new Date),[E,A]=z.useState(()=>{const C=new Date;return new Date(C.getFullYear(),C.getMonth(),1)}),[$,le]=z.useState(new Date),[P,ue]=z.useState(1),[Qe,Ii]=z.useState([]),[Ee,Es]=z.useState(0),[vt,Ri]=z.useState({formattingRT:[],publishingRT:[],labelsf:"",labelsp:""}),[Mi,ks]=z.useState({formattingR:[],publishingR:[]}),[ji,Os]=z.useState({formattingCR:[],publishingCR:[]}),[Fi,Me]=z.useState(!1),[Li,Ns]=z.useState([]),[Ze,As]=z.useState(),qi=z.useRef(),bt=z.useRef(!0);var Wt={},Yt={};m===2?(Wt={labels:["Initiated","Submitted","In progress","Completed","To verify","Delivered","To correct"],datasets:[{data:[u.initiated,u.submitted,u["in progress"],u.completed,u["to verify"],u.delivered,u["to correct"]],backgroundColor:["#00A3FF","#50CD89","#FFC700","#00B4D8","#7239EA","#009EF7","#F1416C"]}]},Yt={labels:["Initiated","Submitted","In progress","Completed","To verify","Delivered","To correct"],datasets:[{data:[f.initiated,f.submitted,f["in progress"],f.completed,f["to verify"],f.delivered,f["to correct"]],backgroundColor:["#00A3FF","#50CD89","#FFC700","#00B4D8","#7239EA","#009EF7","#F1416C"]}]}):(Wt={labels:["Initiated","Submitted","In progress","Completed"],datasets:[{data:[u.initiated,u.submitted,u["in progress"],u.completed],backgroundColor:["#00A3FF","#50CD89","#FFC700","#00B4D8"]}]},Yt={labels:["Initiated","Submitted","In progress","Completed","To verify","Delivered","To correct"],datasets:[{data:[f.initiated,f.submitted,f["in progress"],f.completed],backgroundColor:["#00A3FF","#50CD89","#FFC700","#00B4D8","#7239EA","#009EF7","#F1416C"]}]}),z.useEffect(()=>{bt.current||Me(!0),Ps()},[b,_]),z.useEffect(()=>{bt.current||Me(!0),Is()},[x]),z.useEffect(()=>{bt.current?bt.current=!1:Me(!0),F()},[T]);const Ps=()=>{const C=B(b).year();Ms.post("getRequestPerType",{selecedYear:C,status:_}).then(I=>{Ri(U=>({formattingRT:I.data.formattingRT.data?I.data.formattingRT.data:[],publishingRT:I.data.publishingRT.data?I.data.publishingRT.data:[],labelsf:I.data.formattingRT.cat?I.data.formattingRT.cat:"",labelsp:I.data.publishingRT.cat?I.data.publishingRT.cat:""})),setTimeout(()=>{Me(!1)},1e3)})},Is=()=>{const C=B(x).year();Ms.post("getRequestsPerMonth",{selecedYear:C}).then(I=>{ks(U=>({formattingR:I.data.formattingReq?I.data.formattingReq:[],publishingR:I.data.publishingReq?I.data.publishingReq:[]})),setTimeout(()=>{Me(!1)},1e3)})},F=()=>{const C=B(T).year();Ms.post("getRequestsPerMonth",{selecedYear:C}).then(I=>{Os(U=>({formattingCR:I.data.formattingReq?I.data.formattingReq:[],publishingCR:I.data.publishingReq?I.data.publishingReq:[]})),setTimeout(()=>{Me(!1)},1e3)})};z.useEffect(()=>{if(m===1)return;const C=lp(qi.current).DataTable({info:!1,order:[],pageLength:5});Es(C.page.info().pages),As(C);const I=d.map(U=>({id:U._id,group:U.form=="Formatting"?"Formatting":"Publishing",start:new Date(U.created_at),end:new Date(U.deadline),content:U.dossier_type.value,title:"Start : "+B(U.created_at).format("DD-MM-yyyy")+" , End : "+B(U.deadline).format("DD-MM-yyyy"),color:U.form=="Formatting"?"primary":"success",type:"point"}));return Ns(I),function(){C.destroy()}},[]),z.useEffect(()=>{var C=[],I=5,U=Math.floor(I/2),ke=function(Je,fe){var wt;typeof fe>"u"?(fe=0,wt=Je):(wt=fe,fe=Je);for(var Xt=[],Kt=fe;Kt<wt;Kt++)Xt.push(Kt);return Xt};Ee<=I?C=ke(0,Ee):P<=U?C=ke(0,I):P>=Ee-1-U?C=ke(Ee-I,Ee):C=ke(P-U,P+U+1),C=Array.from(C,Je=>Je+1),Ii(C)},[Ee,P]);const yt=C=>{ue(C),Ze.page(C-1).draw("page")},M=()=>{let C=Ze.page.info().page;ue(C),Ze.page(C-1).draw("page")},je=()=>{let C=Ze.page.info().page+1;ue(C+1),Ze.page(C).draw("page")},Fe={chart:{fontFamily:"inherit",type:"pie",width:"100%"},labels:vt.labelsf,legend:{show:!1}},Rs={chart:{fontFamily:"inherit",type:"pie",width:"100%"},labels:vt.labelsp,legend:{show:!1}},_t=[{id:"Formatting",content:"Formatting",order:1,style:"color:#3e97ff"},{id:"Publishing",content:"Publishing",order:2,style:"color:#50cd89"}];B(new Date).add(1.5,"hours"),B(new Date).add(1,"hours"),B(new Date).add(2,"hours"),B(new Date).add(30,"minutes"),B(new Date).add(2.5,"hours"),B(new Date).add(1.5,"hours"),B(new Date).add(3,"hours");const we={zoomable:!1,moveable:!0,selectable:!1,margin:{item:{horizontal:10,vertical:35}},showCurrentTime:!0,xss:{disabled:!1,filterOptions:{whiteList:{div:["class","style"],img:["data-kt-timeline-avatar-src","alt"],a:["href","class"]}}},template:function(C){return`<div class="rounded-pill bg-${C.color} d-flex align-items-center position-relative h-40px w-100 p-2 overflow-hidden">
                
    
                <div class="d-flex align-items-center position-relative z-index-2">
                   
    
                    <a class="fw-bold text-white">${C.content}</a>
                </div>
    
               
            </div>        
            `}};return p.jsxs(p.Fragment,{children:[p.jsx(Zf,{title:"Dashboard"}),p.jsxs("div",{className:"row g-5 g-xl-10 mb-5 mb-xl-1",children:[p.jsx("div",{className:"col-4",children:p.jsxs("div",{className:"card card-flush h-xl-100 h-100",children:[p.jsx("div",{className:"card-header rounded bgi-no-repeat bgi-size-cover bgi-position-y-top bgi-position-x-center align-items-start h-250px",style:{backgroundImage:"url('storage/media/svg/shapes/top-green.png')"},"data-bs-theme":"light",children:p.jsxs("h3",{className:"card-title align-items-start flex-column text-white pt-15",children:[p.jsx("span",{className:"fw-bold fs-2x mb-3",children:"My Tasks"}),p.jsxs("div",{className:"fs-4 text-white",children:[p.jsx("span",{className:"opacity-75",children:"You have "}),p.jsxs("span",{className:"position-relative d-inline-block",children:[p.jsx("a",{href:"#",className:"link-white opacity-75-hover text-warning fw-bold d-block mb-1",onClick:()=>{Jf.get("tasks")},children:e}),p.jsx("span",{className:"position-absolute opacity-50 bottom-0 start-0 border-2 border-body border-bottom w-100"})]}),p.jsx("span",{className:"opacity-75",children:" task to complete"})]})]})}),p.jsx("div",{className:"card-body mt-n5",children:p.jsx("div",{className:"mt-n20 position-relative",children:p.jsxs("div",{className:"row g-3 g-lg-6",children:[p.jsx("div",{className:"col-12",children:p.jsxs("div",{className:"bg-gray-100 d-flex justify-content-between bg-opacity-70 rounded-2 px-6 py-5",children:[p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[0].total}),p.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[0].status})]}),s[2]?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"vr text-gray-500"}),p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[2].total}),p.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[2].status})]})]}):""]})}),p.jsx("div",{className:"col-12",children:p.jsxs("div",{className:"bg-gray-100 d-flex justify-content-between bg-opacity-70 rounded-2 px-6 py-5",children:[p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[1].total}),p.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[1].status})]}),s[3]?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"vr text-gray-500"}),p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[3].total}),p.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[3].status})]})]}):""]})})]})})})]})}),p.jsx("div",{className:"col-lg-8",children:p.jsxs("div",{className:"card card-flush h-100",children:[p.jsx("div",{className:"card-header mt-6",children:p.jsx("div",{className:"card-title flex-column",children:p.jsx("h3",{className:"fw-bold mb-1",children:"Total requests"})})}),p.jsx("div",{className:"card-body p-9 pt-5",children:p.jsxs("div",{className:"row",children:[p.jsx("div",{className:"col-lg-6 border-end",children:p.jsxs("div",{className:"d-flex flex-wrap justify-content-center",children:[p.jsxs("div",{className:"position-relative d-flex flex-center h-175px w-175px mb-7",children:[p.jsxs("div",{className:"position-absolute translate-middle start-50 top-50 d-flex flex-column flex-center",children:[m===2?p.jsx("span",{className:"fs-2qx fw-bold",children:u.initiated+u.submitted+u["in progress"]+u.completed+u.delivered+u["to correct"]+u["to verify"]}):p.jsx("span",{className:"fs-2qx fw-bold",children:u.initiated+u.submitted+u["in progress"]+u.completed}),p.jsx("span",{className:"fs-6 fw-semibold text-gray-400",children:"Formatting"})]}),p.jsx(il,{data:Wt,options:qc})]}),p.jsxs("div",{className:"d-flex flex-column justify-content-center flex-row-fluid pe-11 mb-5 ms-4",children:[u.initiated?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#00A3FF"}}),p.jsx("div",{className:"text-gray-400",children:"Intiated"}),p.jsxs("div",{className:"ms-auto fw-bold text-gray-700",children:[u.initiated," "]})]}):"",u.submitted?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#50CD89"}}),p.jsx("div",{className:"text-gray-400",children:"Submitted"}),p.jsxs("div",{className:"ms-auto fw-bold text-gray-700",children:[u.submitted," "]})]}):"",u["in progress"]?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#FFC700"}}),p.jsx("div",{className:"text-gray-400",children:"In progress"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:u["in progress"]})]}):"",u.completed?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#00B4D8"}}),p.jsx("div",{className:"text-gray-400",children:"Completed"}),p.jsxs("div",{className:"ms-auto fw-bold text-gray-700",children:[u.completed," "]})]}):"",m===2?p.jsxs(p.Fragment,{children:[u["to verify"]?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#7239EA"}}),p.jsx("div",{className:"text-gray-400",children:"To verify"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:u["to verify"]})]}):"",u.delivered?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#009EF7"}}),p.jsx("div",{className:"text-gray-400",children:"Delivred"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:u.delivered})]}):"",u["to correct"]?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#F1416C"}}),p.jsx("div",{className:"text-gray-400",children:"To correct"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:u["to correct"]})]}):""]}):""]})]})}),p.jsx("div",{className:"col-lg-6 col-md-6",children:p.jsxs("div",{className:"d-flex flex-wrap justify-content-center",children:[p.jsxs("div",{className:"position-relative d-flex flex-center h-175px w-175px mb-7",children:[p.jsxs("div",{className:"position-absolute translate-middle start-50 top-50 d-flex flex-column flex-center",children:[m===2?p.jsx("span",{className:"fs-2qx fw-bold",children:f.initiated+f.submitted+f["in progress"]+f.completed+f["to verify"]+f.delivered+f["to correct"]}):p.jsx("span",{className:"fs-2qx fw-bold",children:f.initiated+f.submitted+f["in progress"]+f.completed}),p.jsx("span",{className:"fs-6 fw-semibold text-gray-400",children:"Publishing"})]}),p.jsx(il,{data:Yt,options:qc})]}),p.jsxs("div",{className:"d-flex flex-column justify-content-center flex-row-fluid pe-11 mb-5 ms-4",children:[f.initiated?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#00A3FF"}}),p.jsx("div",{className:"text-gray-400",children:"Intiated"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f.initiated})]}):"",f.submitted?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#50CD89"}}),p.jsx("div",{className:"text-gray-400",children:"Submitted"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f.submitted})]}):"",f["in progress"]?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#FFC700"}}),p.jsx("div",{className:"text-gray-400",children:"In progress"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f["in progress"]})]}):"",f.completed?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#00B4D8"}}),p.jsx("div",{className:"text-gray-400",children:"Completed"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f.completed})]}):"",m===2?p.jsxs(p.Fragment,{children:[f["to verify"]?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#7239EA"}}),p.jsx("div",{className:"text-gray-400",children:"To verify"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f["to verify"]})]}):"",f.delivered?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#009EF7"}}),p.jsx("div",{className:"text-gray-400",children:"Delivred"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f.delivered})]}):"",f["to correct"]?p.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[p.jsx("div",{className:"bullet me-3",style:{backgroundColor:"#F1416C"}}),p.jsx("div",{className:"text-gray-400",children:"To correct"}),p.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:f["to correct"]})]}):""]}):""]})]})})]})})]})}),p.jsx("div",{className:"col-4",children:p.jsxs("div",{className:"card card-flush h-lg-100",children:[p.jsx("div",{className:"card-header mt-6",children:p.jsx("div",{className:"card-title flex-column",children:p.jsx("h3",{className:"fw-bold mb-1",children:"Latest updates"})})}),p.jsx("div",{className:"card-body py-0 ps-6 mt-2",children:p.jsx("div",{className:"timeline-label",children:g==null?void 0:g.map((C,I)=>{var U,ke;return p.jsxs("div",{className:"timeline-item",children:[p.jsx("div",{className:"timeline-line w-40px"}),p.jsx("div",{className:"timeline-icon symbol symbol-40px me-4",children:p.jsx("span",{className:"svg-icon svg-icon-2 svg-icon-primary",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[p.jsx("path",{opacity:"0.3",d:"M21 19H3C2.4 19 2 18.6 2 18V6C2 5.4 2.4 5 3 5H21C21.6 5 22 5.4 22 6V18C22 18.6 21.6 19 21 19Z",fill:"currentColor"}),p.jsx("path",{d:"M21 19H3C2.4 19 2 18.6 2 18V6C2 5.4 2.4 5 3 5H21C21.6 5 22 5.4 22 6V18C22 18.6 21.6 19 21 19Z",fill:"currentColor",className:"primary"}),p.jsx("path",{d:"M9 8C10.3 8 11 7.3 11 6C11 4.7 10.3 4 9 4C7.7 4 7 4.7 7 6C7 7.3 7.7 8 9 8Z",fill:"currentColor"}),p.jsx("path",{opacity:"0.3",d:"M17 8C18.3 8 19 7.3 19 6C19 4.7 18.3 4 17 4C15.7 4 15 4.7 15 6C15 7.3 15.7 8 17 8Z",fill:"currentColor"})]})})}),p.jsxs("div",{className:"timeline-content mb-10",children:[p.jsxs("span",{className:"fw-semibold text-gray-800 text-hover-primary fs-6",children:[C.data.title," - ",C.data.status]}),p.jsxs("span",{className:"text-muted fw-semibold d-block",children:[(U=C.data.country)==null?void 0:U.value," - ",(ke=C.data.country)==null?void 0:ke.code]}),p.jsx("span",{className:"text-muted fw-semibold d-block",children:B(C.created_at).format("YYYY-MM-DD HH:mm")})]})]})})})})]})}),p.jsx("div",{className:"col-8",children:p.jsxs("div",{className:"card card-flush h-lg-100",children:[p.jsxs("div",{className:"card-header py-7 mb-3",children:[p.jsx("h3",{className:"card-title align-items-start flex-column",children:p.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Request per type"})}),p.jsxs("div",{className:"card-toolbar m-0",children:[p.jsxs("ul",{className:"nav nav-pills nav-pills-custom",role:"tablist",children:[p.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:p.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-primary flex-column overflow-hidden w-60px h-60px pt-5 pb-2 active","data-bs-toggle":"tab",href:"#kt_charts_widget_11_tab_content_1",children:p.jsxs("div",{className:"nav-icon mb-2",children:[p.jsxs("i",{className:"ki-duotone ki-ship fs-4 p-0",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"}),p.jsx("span",{className:"path3"})]}),p.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-9 lh-1",children:"Formatting"}),p.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-2px bg-primary"})]})})}),p.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:p.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-primary flex-column overflow-hidden w-60px h-60px pt-5 pb-2","data-bs-toggle":"tab",href:"#kt_charts_widget_12_tab_content_2",children:p.jsxs("div",{className:"nav-icon mb-2",children:[p.jsxs("i",{className:"ki-duotone ki-ship fs-4 p-0",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"}),p.jsx("span",{className:"path3"})]}),p.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-9 lh-1",children:"Publishing"}),p.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-2px bg-primary"})]})})})]}),p.jsxs("select",{className:"form-select form-select-solid form-select-sm fw-bold w-100px me-3","data-kt-select2":"true","data-allow-clear":"true",onChange:C=>w(C.target.value),children:[p.jsx("option",{value:"initiated",children:"Initiated"}),p.jsx("option",{value:"delivered",children:"Delivred"}),p.jsx("option",{value:"submitted",children:"Submitted"}),p.jsx("option",{value:"completed",children:"Completed"}),p.jsx("option",{value:"to verify",children:"To verify"}),p.jsx("option",{value:"to correct",children:"To correct"}),p.jsx("option",{value:"in progress",children:"In progress"}),p.jsx("option",{value:"completed",children:"Completed"}),p.jsx("option",{value:"closed",children:"Closed"})]}),p.jsx(Qt,{dateFormat:"yyyy",showYearPicker:!0,selected:b,onChange:C=>y(C),className:"form-select form-select-solid form-select-sm fw-bold w-100px",yearItemNumber:6})]})]}),p.jsx("div",{className:"card-body py-0 ps-6 mt-2",children:p.jsxs("div",{className:"tab-content ps-4 pe-6",children:[p.jsx("div",{className:"tab-pane fade active show",id:"kt_charts_widget_11_tab_content_1",children:p.jsx(xt,{options:Fe,series:vt.formattingRT,type:"donut",height:300})}),p.jsx("div",{className:"tab-pane fade",id:"kt_charts_widget_12_tab_content_2",children:p.jsx(xt,{options:Rs,series:vt.publishingRT,type:"donut",height:300})})]})})]})}),p.jsx("div",{className:"col-lg-6 col-md-6 mb-5 mb-xl-10",children:p.jsxs("div",{className:"card card-flush h-xxl-100 h-lg-100",children:[p.jsxs("div",{className:"card-header pt-7",children:[p.jsx("h3",{className:"card-title align-items-start flex-column",children:p.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Requests per month"})}),p.jsx("div",{className:"card-toolbar",children:p.jsx(Qt,{dateFormat:"yyyy",showYearPicker:!0,selected:x,onChange:C=>D(C),className:"form-select form-select-solid form-select-sm fw-bold w-100px",yearItemNumber:6})})]}),p.jsxs("div",{className:"card-body d-flex flex-column justify-content-between pb-5 px-0",children:[p.jsxs("ul",{className:"nav nav-pills nav-pills-custom mb-3 mx-9",role:"tablist",children:[p.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:p.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-success flex-column overflow-hidden w-80px h-85px pt-5 pb-2 active","data-bs-toggle":"tab",href:"#kt_charts_widget_10_tab_content_1",children:p.jsxs("div",{className:"nav-icon mb-3",children:[p.jsxs("i",{className:"ki-duotone ki-ship fs-1 p-0",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"}),p.jsx("span",{className:"path3"})]}),p.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-6 lh-1",children:"Formatting"}),p.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-4px bg-success"})]})})}),p.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:p.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-primary flex-column overflow-hidden w-80px h-85px pt-5 pb-2","data-bs-toggle":"tab",href:"#kt_charts_widget_10_tab_content_2",children:p.jsxs("div",{className:"nav-icon mb-3",children:[p.jsxs("i",{className:"ki-duotone ki-ship fs-1 p-0",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"}),p.jsx("span",{className:"path3"})]}),p.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-6 lh-1",children:"Publishing"}),p.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-4px bg-primary"})]})})})]}),p.jsxs("div",{className:"tab-content ps-4 pe-6",children:[p.jsx("div",{className:"tab-pane fade active show",id:"kt_charts_widget_10_tab_content_1",children:p.jsx(xt,{options:z_,series:[{name:"Formatting",data:Mi.formattingR}],type:"bar",height:270})}),p.jsx("div",{className:"tab-pane fade",id:"kt_charts_widget_10_tab_content_2",children:p.jsx(xt,{options:$_,series:[{name:"Publishing",data:Mi.publishingR}],type:"bar",height:270})})]})]})]})}),p.jsx("div",{className:"col-lg-6 col-md-6 mb-5 mb-xl-10",children:p.jsxs("div",{className:"card card-flush h-lg-100",children:[p.jsxs("div",{className:"card-header mt-6",children:[p.jsxs("div",{className:"card-title flex-column",children:[p.jsx("h3",{className:"fw-bold mb-1",children:"Cumulative requests"}),p.jsxs("div",{className:"fs-6 d-flex text-gray-400 fs-6 fw-semibold",children:[p.jsxs("div",{className:"d-flex align-items-center me-6",children:[p.jsx("span",{className:"menu-bullet d-flex align-items-center me-2",children:p.jsx("span",{className:"bullet bg-success"})}),"Formatting"]}),p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"menu-bullet d-flex align-items-center me-2",children:p.jsx("span",{className:"bullet bg-primary"})}),"Publishing"]})]})]}),p.jsx("div",{className:"card-toolbar",children:p.jsx(Qt,{dateFormat:"yyyy",showYearPicker:!0,selected:T,onChange:S,className:"form-select form-select-solid form-select-sm fw-bold w-100px",yearItemNumber:6})})]}),p.jsx("div",{className:"card-body pt-10 pb-0 px-5",children:p.jsx(xt,{options:V_,series:[{name:"Formatting",data:ji.formattingCR},{name:"Publishing",data:ji.publishingCR}],type:"line"})})]})}),m!==1?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"col-lg-6",children:p.jsxs("div",{className:"card card-flush h-lg-100",children:[p.jsxs("div",{className:"card-header pt-7 mb-5",children:[p.jsx("h3",{className:"card-title align-items-start flex-column",children:p.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Requests Per Product-Country"})}),p.jsxs("div",{className:"card-toolbar",children:[p.jsx("span",{className:"me-3",children:"From"}),p.jsx(Qt,{dateFormat:"d/M/yy",className:"form-select form-select-solid form-select-sm fw-bold w-100px",selected:E,onChange:A}),p.jsx("span",{className:"ms-3 me-3",children:"To"}),p.jsx(Qt,{dateFormat:"d/M/yy",className:"form-select form-select-solid form-select-sm fw-bold w-100px",selected:$,onChange:le})]})]}),p.jsx("div",{className:"card-body pt-0",children:p.jsxs("div",{className:"table-responsive",children:[p.jsxs("table",{className:"table table-row-dashed table-row-gray-200 align-middle gs-0 gy-4",ref:qi,children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"Country"}),p.jsx("th",{children:"Produit"}),p.jsx("th",{children:"Formatting"}),p.jsx("th",{children:"Publishing"})]})}),p.jsx("tbody",{children:h.map((C,I)=>p.jsxs("tr",{children:[p.jsx("td",{children:p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("div",{className:"symbol symbol-45px me-2",children:C.cnt=="KSA"?p.jsx(js,{countryCode:Xi.getAlpha2Code("Saudi arabia","en"),svg:!0,style:{width:"2em",height:"2em"}}):C.cnt=="EU"?p.jsx(js,{countryCode:"EU","aria-label":"Europe",title:"Europe",svg:!0,style:{width:"2em",height:"2em"}}):p.jsx(js,{countryCode:Xi.getAlpha2Code(C.cnt,"en"),svg:!0,style:{width:"2em",height:"2em"}})}),p.jsxs("div",{className:"d-flex justify-content-start flex-column",children:[p.jsx("span",{className:"text-dark fw-bold text-hover-primary fs-6",children:C.cnt=="EU"?"Europe":C.cnt}),p.jsx("span",{className:"text-muted fw-semibold text-muted d-block fs-7",children:C.cnt=="EU"?"EU":Xi.getAlpha2Code(C.cnt,"en")})]})]})}),p.jsx("td",{children:p.jsx("span",{className:"text-gray-700 fw-bold fs-6 me-3 d-block",children:C.pr})}),p.jsx("td",{children:p.jsx("span",{className:"text-gray-500 fw-bold fs-6 me-3 d-block",children:C.formatting})}),p.jsx("td",{children:p.jsx("span",{className:"text-gray-500 fw-bold fs-6 me-3 d-block",children:C.publishing})})]},I))})]}),p.jsx("div",{className:"row paginate_row",children:p.jsx("div",{className:"col-12 col-md-12 d-flex align-items-center justify-content-end justify-content-md-end",children:p.jsx("div",{className:"dataTables_paginate paging_simple_numbers",id:"kt_profile_overview_table_paginate",children:p.jsxs("ul",{className:"pagination",children:[p.jsx("li",{className:sl("paginate_button page-item previous",P===1?"disabled":""),id:"kt_profile_overview_table_previous",children:p.jsx("button",{"aria-controls":"kt_profile_overview_table",className:"page-link",onClick:M,children:p.jsx("i",{className:"previous"})})}),Qe.map(C=>p.jsx("li",{className:P===C?"page-item active":"paginate_button page-item",children:p.jsxs("button",{onClick:()=>yt(C),className:"page-link",children:[" ",C," "]})},C)),p.jsx("li",{className:sl("paginate_button page-item next",P===Ee?"disabled":""),id:"kt_profile_overview_table_next",children:p.jsx("button",{"aria-controls":"kt_profile_overview_table",className:"page-link",onClick:je,children:p.jsx("i",{className:"next"})})})]})})})})]})})]})}),p.jsx("div",{className:"col-lg-6",children:p.jsxs("div",{className:"card card-flush h-lg-100",children:[p.jsx("div",{className:"card-header pt-7 mb-5",children:p.jsx("h3",{className:"card-title align-items-center flex-column",children:p.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Request review"})})}),p.jsx("div",{className:"card-body pt-0",children:p.jsxs("div",{className:"d-flex flex-wrap flex-md-nowrap",children:[p.jsxs("div",{className:"me-md-5 w-100",children:[p.jsxs("div",{className:"d-flex border border-gray-300 border-dashed rounded p-6 mb-6",children:[p.jsxs("div",{className:"d-flex align-items-center flex-grow-1 me-2 me-sm-5",children:[p.jsx("div",{className:"symbol symbol-50px me-4",children:p.jsx("span",{className:"symbol-label",children:p.jsxs("i",{className:"ki-duotone ki-shield-tick fs-2qx text-primary",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"})]})})}),p.jsx("div",{className:"me-2",children:p.jsx("span",{className:"text-gray-800 fs-6 fw-bold",children:"Approved"})})]}),p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-dark fw-bolder fs-2x",children:n}),p.jsx("span",{className:"fw-semibold fs-2 text-gray-600 mx-1 pt-1",children:"/"}),p.jsx("span",{className:"text-gray-600 fw-semibold fs-2 me-3 pt-2",children:l})]})]}),p.jsxs("div",{className:"d-flex border border-gray-300 border-dashed rounded p-6 mb-6",children:[p.jsxs("div",{className:"d-flex align-items-center flex-grow-1 me-2 me-sm-5",children:[p.jsx("div",{className:"symbol symbol-50px me-4",children:p.jsx("span",{className:"symbol-label",children:p.jsxs("i",{className:"ki-duotone ki-shield fs-2qx text-primary",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"})]})})}),p.jsx("div",{className:"me-2",children:p.jsx("span",{className:"text-gray-800 fs-6 fw-bold",children:"Change"})})]}),p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-dark fw-bolder fs-2x",children:a}),p.jsx("span",{className:"fw-semibold fs-2 text-gray-600 mx-1 pt-1",children:"/"}),p.jsx("span",{className:"text-gray-600 fw-semibold fs-2 me-3 pt-2",children:l})]})]}),p.jsxs("div",{className:"d-flex border border-gray-300 border-dashed rounded p-6 mb-6",children:[p.jsxs("div",{className:"d-flex align-items-center flex-grow-1 me-2 me-sm-5",children:[p.jsx("div",{className:"symbol symbol-50px me-4",children:p.jsx("span",{className:"symbol-label",children:p.jsxs("i",{className:"ki-duotone ki-shield-cross fs-2qx text-primary",children:[p.jsx("span",{className:"path1"}),p.jsx("span",{className:"path2"}),p.jsx("span",{className:"path3"})]})})}),p.jsx("div",{className:"me-2",children:p.jsx("span",{className:"text-gray-800 fs-6 fw-bold",children:"Correction"})})]}),p.jsxs("div",{className:"d-flex align-items-center",children:[p.jsx("span",{className:"text-dark fw-bolder fs-2x",children:o}),p.jsx("span",{className:"fw-semibold fs-2 text-gray-600 mx-1 pt-1",children:"/"}),p.jsx("span",{className:"text-gray-600 fw-semibold fs-2 me-3 pt-2",children:l})]})]})]}),p.jsxs("div",{className:"d-flex justify-content-between flex-column w-225px w-md-600px mx-auto mx-md-0 pt-3 pb-10",children:[p.jsx(xt,{options:U_,series:[n,a,o],type:"donut"}),p.jsxs("div",{className:"mx-auto",children:[p.jsxs("div",{className:"d-flex align-items-center mb-2",children:[p.jsx("div",{className:"bullet bullet-dot w-8px h-7px bg-success me-2"}),p.jsx("div",{className:"fs-8 fw-semibold text-muted",children:"Change"})]}),p.jsxs("div",{className:"d-flex align-items-center mb-2",children:[p.jsx("div",{className:"bullet bullet-dot w-8px h-7px bg-primary me-2"}),p.jsx("div",{className:"fs-8 fw-semibold text-muted",children:"Correction"})]}),p.jsxs("div",{className:"d-flex align-items-center mb-2",children:[p.jsx("div",{className:"bullet bullet-dot w-8px h-7px bg-info me-2"}),p.jsx("div",{className:"fs-8 fw-semibold text-muted",children:"Approved"})]})]})]})]})})]})})]}):"",c==3?p.jsx("div",{className:"col-12",children:p.jsxs("div",{className:"card h-md-100",children:[p.jsx("div",{className:"card-header position-relative py-0 border-bottom-1",children:p.jsx("h3",{className:"card-title text-gray-800 fw-bold",children:"Active Tasks"})}),p.jsx("div",{className:"card-body pb-0",children:Li.length>0?p.jsx(N_,{options:we,initialGroups:_t,initialItems:Li}):""})]})}):""]}),Fi&&p.jsx("div",{className:"overlay",children:p.jsx(H_,{color:"#009ef7",loading:Fi,"aria-label":"Loading Spinner","data-testid":"loader"})})]})},Y_=s=>{var b,y,_;const e=s.RequestNumber,t=s.formattingCount,r=s.publishingCount,n=s.acceptance,o=s.correction,a=s.update;s.perMonthFor,s.perMonthPub;const l=Object.values(e).reduce((w,x)=>w+x.total,0),h=s.totalclosed,d=s.productCountry,c=s.inprogress,u=s.auth.user.current_team_id;console.log(s.auth.user.notifications);const f=(b=s.auth.user.notifications)==null?void 0:b.slice(0,3);z.useEffect(()=>{s.flash.message&&B_.fire({title:p.jsx("p",{children:"Done !"}),icon:"success",text:s.flash.message})},[]);const{config:m,classes:g}=ep();return(_=(y=m.app)==null?void 0:y.toolbar)!=null&&_.display?p.jsxs(p.Fragment,{children:[p.jsx(tp,{breadcrumbs:[],children:"Dashboard"}),p.jsx(W_,{RequetNumber:e,totalRequet:l,formattingCount:t,PublishingCount:r,acceptance:n,correction:o,update:a,totalclosed:h,productCountry:d,inprogress:c,currentUser:s.auth.user.current_team_id,countsformating:s.countsformating,countspublishing:s.countspublishing,teamId:u,notifications:f})]}):null};Y_.layout=s=>p.jsx(ap,{children:s,auth:s.props.auth});export{Y_ as default};
