import{r as h,j as s,h as n,b as N}from"./app-6f7d7141.js";import{c as i}from"./hoist-non-react-statics.cjs-1d8f9095.js";import{h as d,A as p}from"./AuthenticatedLayout-53759603.js";import"./MenuComponent-28b7e148.js";import"./MetronicSplashScreen-4b7624e2.js";const j=t=>{const m=t.auth.allNotifications,x=t.auth.notReadedNotifications,[l,c]=h.useState("unreadNotifications"),r=(e,a)=>{e.status=="closed"||e.status=="in progress"?n.get(route("list"),{id:e.id,notId:a}):n.get(route("tasks"),{id:e.id,notId:a})},o=()=>{N.post("mark-all-as-read").then(e=>{console.log(e)})};return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header card-header-stretch",children:[s.jsxs("div",{className:"card-title d-flex align-items-center",children:[s.jsxs("i",{className:"ki-duotone ki-calendar-8 fs-1 text-primary me-3 lh-0",children:[s.jsx("span",{className:"path1"}),s.jsx("span",{className:"path2"}),s.jsx("span",{className:"path3"}),s.jsx("span",{className:"path4"}),s.jsx("span",{className:"path5"}),s.jsx("span",{className:"path6"})]}),s.jsx("h3",{className:"fw-bold m-0 text-gray-800",children:d().format("MMMM Do, YYYY")})]}),s.jsxs("div",{className:"card-toolbar m-0",children:[s.jsxs("ul",{className:"nav nav-tabs nav-line-tabs nav-stretch fs-6 border-0 fw-bold",role:"tablist",children:[s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{onClick:()=>c("unreadNotifications"),className:`nav-link justify-content-center text-active-gray-800 ${l==="unreadNotifications"?"active":""}`,children:"Unread Notifications"})}),s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{onClick:()=>c("readNotifications"),className:`nav-link justify-content-center text-active-gray-800 ${l==="readNotifications"?"active":""}`,children:"Read Notifications"})}),s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{onClick:()=>c("allNotifications"),className:`nav-link justify-content-center text-active-gray-800 ${l==="allNotifications"?"active":""}`,children:"All notifications"})})]}),s.jsx("button",{className:"btn btn-sm btn-primary align-self-center ms-5",onClick:o,children:"Mark all as read"})]})]}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"tab-content",children:[l=="unreadNotifications"&&s.jsx("div",{className:"timeline",children:x.map((e,a)=>s.jsxs("div",{className:"timeline-item",children:[s.jsx("div",{className:"timeline-line w-40px"}),s.jsx("div",{className:"timeline-icon symbol symbol-circle symbol-40px me-4",children:s.jsx("div",{className:"symbol-label",children:s.jsx("div",{className:i("rounded-circle d-inline-block",e.read_at?"bg-gray-500":"bg-primary"),style:{width:"10px",height:"10px"}})})}),s.jsxs("div",{className:"timeline-content mb-10 mt-n1",children:[s.jsxs("div",{className:"pe-3 mb-3",children:[s.jsxs("div",{className:"fs-5 fw-semibold mb-2",style:{cursor:"pointer"},onClick:()=>r(e.data,e.id),children:[e.data.title," ",e.data.status]}),s.jsx("div",{className:"d-flex align-items-center mt-1 fs-6",children:s.jsx("div",{className:"text-muted me-2 fs-7",children:d(e.created_at).fromNow()})})]}),s.jsx("div",{className:"pl-4",children:s.jsxs("p",{children:[e.data.product&&typeof e.data.product=="object"?e.data.product.value:e.data.product," - ",s.jsx("span",{children:e.data.country?e.data.country?e.data.country.value:"":"EU"})]})})]})]},a))}),l=="readNotifications"&&s.jsx("div",{className:"timeline",children:m.filter(e=>e.read_at).map((e,a)=>s.jsxs("div",{className:"timeline-item",children:[s.jsx("div",{className:"timeline-line w-40px"}),s.jsx("div",{className:"timeline-icon symbol symbol-circle symbol-40px me-4",children:s.jsx("div",{className:"symbol-label",children:s.jsx("div",{className:i("rounded-circle d-inline-block",e.read_at?"bg-gray-500":"bg-primary"),style:{width:"10px",height:"10px"}})})}),s.jsxs("div",{className:"timeline-content mb-10 mt-n1",children:[s.jsxs("div",{className:"pe-3 mb-3",children:[s.jsxs("div",{className:"fs-5 fw-semibold mb-2",style:{cursor:"pointer"},onClick:()=>r(e.data,e.id),children:[e.data.title," ",e.data.status]}),s.jsx("div",{className:"d-flex align-items-center mt-1 fs-6",children:s.jsx("div",{className:"text-muted me-2 fs-7",children:d(e.created_at).fromNow()})})]}),s.jsx("div",{className:"pl-4",children:s.jsxs("p",{children:[e.data.product&&typeof e.data.product=="object"?e.data.product.value:e.data.product," - ",s.jsx("span",{children:e.data.country?e.data.country?e.data.country.value:"":"EU"})]})})]})]},a))}),l=="allNotifications"&&s.jsx("div",{className:"timeline",children:m.map((e,a)=>s.jsxs("div",{className:"timeline-item",children:[s.jsx("div",{className:"timeline-line w-40px"}),s.jsx("div",{className:"timeline-icon symbol symbol-circle symbol-40px me-4",children:s.jsx("div",{className:"symbol-label",children:s.jsx("div",{className:i("rounded-circle d-inline-block",e.read_at?"bg-gray-500":"bg-primary"),style:{width:"10px",height:"10px"}})})}),s.jsxs("div",{className:"timeline-content mb-10 mt-n1",children:[s.jsxs("div",{className:"pe-3 mb-3",children:[s.jsxs("div",{className:"fs-5 fw-semibold mb-2",style:{cursor:"pointer"},onClick:()=>r(e.data,e.id),children:[e.data.title," ",e.data.status]}),s.jsx("div",{className:"d-flex align-items-center mt-1 fs-6",children:s.jsx("div",{className:"text-muted me-2 fs-7",children:d(e.created_at).fromNow()})})]}),s.jsx("div",{className:"pl-4",children:s.jsxs("p",{children:[e.data.product&&typeof e.data.product=="object"?e.data.product.value:e.data.product," - ",s.jsx("span",{children:e.data.country?e.data.country?e.data.country.value:"":"EU"})]})})]})]},a))})]})})]})};j.layout=t=>s.jsx(p,{children:t,auth:t.props.auth});export{j as default};
