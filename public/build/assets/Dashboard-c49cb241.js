var $f=Object.defineProperty;var Uf=(s,e,t)=>e in s?$f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var G=(s,e,t)=>(Uf(s,typeof e!="symbol"?e+"":e,t),t);import{c as dt,g as Zi,e as ie,r as Y,C as Wf,A as Vf,p as Yf,f as Xf,j as m,b as Os,h as Kf}from"./app-a2372723.js";import{u as Qf,P as Zf}from"./MetronicSplashScreen-3d80cdf4.js";import{_ as Jf,c as ep,a as tp,i as ip,d as sp,h as z,A as np,$ as rp,R as As,S as op}from"./AuthenticatedLayout-eeec7a87.js";import{w as ap}from"./jquery.dataTables-d33858d1.js";import{c as qi,e as lp,D as hp,t as Ns,_ as vt}from"./en-98defd32.js";import{g as q}from"./MenuComponent-e008f65f.js";import{c as el}from"./hoist-non-react-statics.cjs-1d8f9095.js";var Fc={},Ji={},jc={exports:{}};(function(s){function e(t){return t&&t.__esModule?t:{default:t}}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports})(jc);var dp=jc.exports;const cp=dt(Jf),up=dt(ep),fp=dt(tp);var Ps={exports:{}},tl;function Lc(){return tl||(tl=1,function(s){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(Ps)),Ps.exports}const pp=dt(ip);var Is={exports:{}},Rs={exports:{}},il;function mp(){return il||(il=1,function(s){function e(t){"@babel/helpers - typeof";return s.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},s.exports.__esModule=!0,s.exports.default=s.exports,e(t)}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(Rs)),Rs.exports}var sl;function gp(){return sl||(sl=1,function(s){var e=mp().default,t=Lc();function n(r,o){if(o&&(e(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(r)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports}(Is)),Is.exports}var Ms={exports:{}},nl;function vp(){return nl||(nl=1,function(s){function e(t){return s.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s.exports.__esModule=!0,s.exports.default=s.exports,e(t)}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(Ms)),Ms.exports}const bp=dt(sp);var qc={exports:{}};(function(s){s.exports=e;function e(n){if(n)return t(n)}function t(n){for(var r in e.prototype)n[r]=e.prototype[r];return n}e.prototype.on=e.prototype.addEventListener=function(n,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(r),this},e.prototype.once=function(n,r){function o(){this.off(n,o),r.apply(this,arguments)}return o.fn=r,this.on(n,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+n];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,l=0;l<o.length;l++)if(a=o[l],a===r||a.fn===r){o.splice(l,1);break}return o.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),o=this._callbacks["$"+n],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(o){o=o.slice(0);for(var a=0,l=o.length;a<l;++a)o[a].apply(this,r)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}})(qc);var yp=qc.exports;const ca=Zi(yp);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ye(){return ye=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},ye.apply(this,arguments)}function ge(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}function Ai(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var zo;typeof Object.assign!="function"?zo=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:zo=Object.assign;var rt=zo,rl=["","webkit","Moz","MS","ms","o"],_p=typeof document>"u"?{style:{}}:document.createElement("div"),wp="function",St=Math.round,ot=Math.abs,ua=Date.now;function es(s,e){for(var t,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<rl.length;){if(t=rl[o],n=t?t+r:e,n in s)return n;o++}}var Ae;typeof window>"u"?Ae={}:Ae=window;var Gc=es(_p.style,"touchAction"),Hc=Gc!==void 0;function xp(){if(!Hc)return!1;var s={},e=Ae.CSS&&Ae.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return s[t]=e?Ae.CSS.supports("touch-action",t):!0}),s}var Bc="compute",zc="auto",$o="manipulation",tt="none",ti="pan-x",ii="pan-y",Ni=xp(),Cp=/mobile|tablet|ip(ad|hone|od)|android/i,$c="ontouchstart"in Ae,Tp=es(Ae,"PointerEvent")!==void 0,Sp=$c&&Cp.test(navigator.userAgent),fi="touch",Dp="pen",fa="mouse",Ep="kinect",kp=25,ne=1,ct=2,K=4,ae=8,zi=1,pi=2,mi=4,gi=8,Ot=16,Te=pi|mi,it=gi|Ot,Uc=Te|it,Wc=["x","y"],$i=["clientX","clientY"];function Ne(s,e,t){var n;if(s)if(s.forEach)s.forEach(e,t);else if(s.length!==void 0)for(n=0;n<s.length;)e.call(t,s[n],n,s),n++;else for(n in s)s.hasOwnProperty(n)&&e.call(t,s[n],n,s)}function ts(s,e){return typeof s===wp?s.apply(e&&e[0]||void 0,e):s}function et(s,e){return s.indexOf(e)>-1}function Op(s){if(et(s,tt))return tt;var e=et(s,ti),t=et(s,ii);return e&&t?tt:e||t?e?ti:ii:et(s,$o)?$o:zc}var Vc=function(){function s(t,n){this.manager=t,this.set(n)}var e=s.prototype;return e.set=function(n){n===Bc&&(n=this.compute()),Hc&&this.manager.element.style&&Ni[n]&&(this.manager.element.style[Gc]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Ne(this.manager.recognizers,function(r){ts(r.options.enable,[r])&&(n=n.concat(r.getTouchAction()))}),Op(n.join(" "))},e.preventDefaults=function(n){var r=n.srcEvent,o=n.offsetDirection;if(this.manager.session.prevented){r.preventDefault();return}var a=this.actions,l=et(a,tt)&&!Ni[tt],h=et(a,ii)&&!Ni[ii],d=et(a,ti)&&!Ni[ti];if(l){var c=n.pointers.length===1,u=n.distance<2,f=n.deltaTime<250;if(c&&u&&f)return}if(!(d&&h)&&(l||h&&o&Te||d&&o&it))return this.preventSrc(r)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},s}();function pa(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}function Yc(s){var e=s.length;if(e===1)return{x:St(s[0].clientX),y:St(s[0].clientY)};for(var t=0,n=0,r=0;r<e;)t+=s[r].clientX,n+=s[r].clientY,r++;return{x:St(t/e),y:St(n/e)}}function ol(s){for(var e=[],t=0;t<s.pointers.length;)e[t]={clientX:St(s.pointers[t].clientX),clientY:St(s.pointers[t].clientY)},t++;return{timeStamp:ua(),pointers:e,center:Yc(e),deltaX:s.deltaX,deltaY:s.deltaY}}function Ui(s,e,t){t||(t=Wc);var n=e[t[0]]-s[t[0]],r=e[t[1]]-s[t[1]];return Math.sqrt(n*n+r*r)}function Uo(s,e,t){t||(t=Wc);var n=e[t[0]]-s[t[0]],r=e[t[1]]-s[t[1]];return Math.atan2(r,n)*180/Math.PI}function Xc(s,e){return s===e?zi:ot(s)>=ot(e)?s<0?pi:mi:e<0?gi:Ot}function Ap(s,e){var t=e.center,n=s.offsetDelta||{},r=s.prevDelta||{},o=s.prevInput||{};(e.eventType===ne||o.eventType===K)&&(r=s.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=s.offsetDelta={x:t.x,y:t.y}),e.deltaX=r.x+(t.x-n.x),e.deltaY=r.y+(t.y-n.y)}function Kc(s,e,t){return{x:e/s||0,y:t/s||0}}function Np(s,e){return Ui(e[0],e[1],$i)/Ui(s[0],s[1],$i)}function Pp(s,e){return Uo(e[1],e[0],$i)+Uo(s[1],s[0],$i)}function Ip(s,e){var t=s.lastInterval||e,n=e.timeStamp-t.timeStamp,r,o,a,l;if(e.eventType!==ae&&(n>kp||t.velocity===void 0)){var h=e.deltaX-t.deltaX,d=e.deltaY-t.deltaY,c=Kc(n,h,d);o=c.x,a=c.y,r=ot(c.x)>ot(c.y)?c.x:c.y,l=Xc(h,d),s.lastInterval=e}else r=t.velocity,o=t.velocityX,a=t.velocityY,l=t.direction;e.velocity=r,e.velocityX=o,e.velocityY=a,e.direction=l}function Rp(s,e){var t=s.session,n=e.pointers,r=n.length;t.firstInput||(t.firstInput=ol(e)),r>1&&!t.firstMultiple?t.firstMultiple=ol(e):r===1&&(t.firstMultiple=!1);var o=t.firstInput,a=t.firstMultiple,l=a?a.center:o.center,h=e.center=Yc(n);e.timeStamp=ua(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Uo(l,h),e.distance=Ui(l,h),Ap(t,e),e.offsetDirection=Xc(e.deltaX,e.deltaY);var d=Kc(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=ot(d.x)>ot(d.y)?d.x:d.y,e.scale=a?Np(a.pointers,n):1,e.rotation=a?Pp(a.pointers,n):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,Ip(t,e);var c=s.element,u=e.srcEvent,f;u.composedPath?f=u.composedPath()[0]:u.path?f=u.path[0]:f=u.target,pa(f,c)&&(c=f),e.target=c}function Mp(s,e,t){var n=t.pointers.length,r=t.changedPointers.length,o=e&ne&&n-r===0,a=e&(K|ae)&&n-r===0;t.isFirst=!!o,t.isFinal=!!a,o&&(s.session={}),t.eventType=e,Rp(s,t),s.emit("hammer.input",t),s.recognize(t),s.session.prevInput=t}function si(s){return s.trim().split(/\s+/g)}function Qt(s,e,t){Ne(si(e),function(n){s.addEventListener(n,t,!1)})}function Zt(s,e,t){Ne(si(e),function(n){s.removeEventListener(n,t,!1)})}function al(s){var e=s.ownerDocument||s;return e.defaultView||e.parentWindow||window}var Ft=function(){function s(t,n){var r=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){ts(t.options.enable,[t])&&r.handler(o)},this.init()}var e=s.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Qt(this.element,this.evEl,this.domHandler),this.evTarget&&Qt(this.target,this.evTarget,this.domHandler),this.evWin&&Qt(al(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Zt(this.element,this.evEl,this.domHandler),this.evTarget&&Zt(this.target,this.evTarget,this.domHandler),this.evWin&&Zt(al(this.element),this.evWin,this.domHandler)},s}();function at(s,e,t){if(s.indexOf&&!t)return s.indexOf(e);for(var n=0;n<s.length;){if(t&&s[n][t]==e||!t&&s[n]===e)return n;n++}return-1}var Fp={pointerdown:ne,pointermove:ct,pointerup:K,pointercancel:ae,pointerout:ae},jp={2:fi,3:Dp,4:fa,5:Ep},Qc="pointerdown",Zc="pointermove pointerup pointercancel";Ae.MSPointerEvent&&!Ae.PointerEvent&&(Qc="MSPointerDown",Zc="MSPointerMove MSPointerUp MSPointerCancel");var Jc=function(s){ge(e,s);function e(){var n,r=e.prototype;return r.evEl=Qc,r.evWin=Zc,n=s.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var t=e.prototype;return t.handler=function(r){var o=this.store,a=!1,l=r.type.toLowerCase().replace("ms",""),h=Fp[l],d=jp[r.pointerType]||r.pointerType,c=d===fi,u=at(o,r.pointerId,"pointerId");h&ne&&(r.button===0||c)?u<0&&(o.push(r),u=o.length-1):h&(K|ae)&&(a=!0),!(u<0)&&(o[u]=r,this.callback(this.manager,h,{pointers:o,changedPointers:[r],pointerType:d,srcEvent:r}),a&&o.splice(u,1))},e}(Ft);function ni(s){return Array.prototype.slice.call(s,0)}function ma(s,e,t){for(var n=[],r=[],o=0;o<s.length;){var a=e?s[o][e]:s[o];at(r,a)<0&&n.push(s[o]),r[o]=a,o++}return t&&(e?n=n.sort(function(l,h){return l[e]>h[e]}):n=n.sort()),n}var Lp={touchstart:ne,touchmove:ct,touchend:K,touchcancel:ae},qp="touchstart touchmove touchend touchcancel",ga=function(s){ge(e,s);function e(){var n;return e.prototype.evTarget=qp,n=s.apply(this,arguments)||this,n.targetIds={},n}var t=e.prototype;return t.handler=function(r){var o=Lp[r.type],a=Gp.call(this,r,o);a&&this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:fi,srcEvent:r})},e}(Ft);function Gp(s,e){var t=ni(s.touches),n=this.targetIds;if(e&(ne|ct)&&t.length===1)return n[t[0].identifier]=!0,[t,t];var r,o,a=ni(s.changedTouches),l=[],h=this.target;if(o=t.filter(function(d){return pa(d.target,h)}),e===ne)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;for(r=0;r<a.length;)n[a[r].identifier]&&l.push(a[r]),e&(K|ae)&&delete n[a[r].identifier],r++;if(l.length)return[ma(o.concat(l),"identifier",!0),l]}var Hp={mousedown:ne,mousemove:ct,mouseup:K},Bp="mousedown",zp="mousemove mouseup",va=function(s){ge(e,s);function e(){var n,r=e.prototype;return r.evEl=Bp,r.evWin=zp,n=s.apply(this,arguments)||this,n.pressed=!1,n}var t=e.prototype;return t.handler=function(r){var o=Hp[r.type];o&ne&&r.button===0&&(this.pressed=!0),o&ct&&r.which!==1&&(o=K),this.pressed&&(o&K&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[r],changedPointers:[r],pointerType:fa,srcEvent:r}))},e}(Ft),$p=2500,ll=25;function hl(s){var e=s.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n);var o=function(){var l=r.indexOf(n);l>-1&&r.splice(l,1)};setTimeout(o,$p)}}function Up(s,e){s&ne?(this.primaryTouch=e.changedPointers[0].identifier,hl.call(this,e)):s&(K|ae)&&hl.call(this,e)}function Wp(s){for(var e=s.srcEvent.clientX,t=s.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),a=Math.abs(t-r.y);if(o<=ll&&a<=ll)return!0}return!1}var eu=function(){var s=function(e){ge(t,e);function t(r,o){var a;return a=e.call(this,r,o)||this,a.handler=function(l,h,d){var c=d.pointerType===fi,u=d.pointerType===fa;if(!(u&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(c)Up.call(Ai(Ai(a)),h,d);else if(u&&Wp.call(Ai(Ai(a)),d))return;a.callback(l,h,d)}},a.touch=new ga(a.manager,a.handler),a.mouse=new va(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=t.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Ft);return s}();function Vp(s){var e,t=s.options.inputClass;return t?e=t:Tp?e=Jc:Sp?e=ga:$c?e=eu:e=va,new e(s,Mp)}function Dt(s,e,t){return Array.isArray(s)?(Ne(s,t[e],t),!0):!1}var Gi=1,me=2,At=4,$e=8,Pe=$e,ri=16,xe=32,Yp=1;function Xp(){return Yp++}function Pi(s,e){var t=e.manager;return t?t.get(s):s}function dl(s){return s&ri?"cancel":s&$e?"end":s&At?"move":s&me?"start":""}var vi=function(){function s(t){t===void 0&&(t={}),this.options=ye({enable:!0},t),this.id=Xp(),this.manager=null,this.state=Gi,this.simultaneous={},this.requireFail=[]}var e=s.prototype;return e.set=function(n){return rt(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Dt(n,"recognizeWith",this))return this;var r=this.simultaneous;return n=Pi(n,this),r[n.id]||(r[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Dt(n,"dropRecognizeWith",this)?this:(n=Pi(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Dt(n,"requireFailure",this))return this;var r=this.requireFail;return n=Pi(n,this),at(r,n)===-1&&(r.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Dt(n,"dropRequireFailure",this))return this;n=Pi(n,this);var r=at(this.requireFail,n);return r>-1&&this.requireFail.splice(r,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var r=this,o=this.state;function a(l){r.manager.emit(l,n)}o<$e&&a(r.options.event+dl(o)),a(r.options.event),n.additionalEvent&&a(n.additionalEvent),o>=$e&&a(r.options.event+dl(o))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=xe},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(xe|Gi)))return!1;n++}return!0},e.recognize=function(n){var r=rt({},n);if(!ts(this.options.enable,[this,r])){this.reset(),this.state=xe;return}this.state&(Pe|ri|xe)&&(this.state=Gi),this.state=this.process(r),this.state&(me|At|$e|ri)&&this.tryEmit(r)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},s}(),Wo=function(s){ge(e,s);function e(n){var r;return n===void 0&&(n={}),r=s.call(this,ye({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,r.pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}var t=e.prototype;return t.getTouchAction=function(){return[$o]},t.process=function(r){var o=this,a=this.options,l=r.pointers.length===a.pointers,h=r.distance<a.threshold,d=r.deltaTime<a.time;if(this.reset(),r.eventType&ne&&this.count===0)return this.failTimeout();if(h&&d&&l){if(r.eventType!==K)return this.failTimeout();var c=this.pTime?r.timeStamp-this.pTime<a.interval:!0,u=!this.pCenter||Ui(this.pCenter,r.center)<a.posThreshold;this.pTime=r.timeStamp,this.pCenter=r.center,!u||!c?this.count=1:this.count+=1,this._input=r;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Pe,o.tryEmit()},a.interval),me):Pe}return xe},t.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=xe},this.options.interval),xe},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Pe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(vi),Nt=function(s){ge(e,s);function e(n){return n===void 0&&(n={}),s.call(this,ye({pointers:1},n))||this}var t=e.prototype;return t.attrTest=function(r){var o=this.options.pointers;return o===0||r.pointers.length===o},t.process=function(r){var o=this.state,a=r.eventType,l=o&(me|At),h=this.attrTest(r);return l&&(a&ae||!h)?o|ri:l||h?a&K?o|$e:o&me?o|At:me:xe},e}(vi);function tu(s){return s===Ot?"down":s===gi?"up":s===pi?"left":s===mi?"right":""}var ba=function(s){ge(e,s);function e(n){var r;return n===void 0&&(n={}),r=s.call(this,ye({event:"pan",threshold:10,pointers:1,direction:Uc},n))||this,r.pX=null,r.pY=null,r}var t=e.prototype;return t.getTouchAction=function(){var r=this.options.direction,o=[];return r&Te&&o.push(ii),r&it&&o.push(ti),o},t.directionTest=function(r){var o=this.options,a=!0,l=r.distance,h=r.direction,d=r.deltaX,c=r.deltaY;return h&o.direction||(o.direction&Te?(h=d===0?zi:d<0?pi:mi,a=d!==this.pX,l=Math.abs(r.deltaX)):(h=c===0?zi:c<0?gi:Ot,a=c!==this.pY,l=Math.abs(r.deltaY))),r.direction=h,a&&l>o.threshold&&h&o.direction},t.attrTest=function(r){return Nt.prototype.attrTest.call(this,r)&&(this.state&me||!(this.state&me)&&this.directionTest(r))},t.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var o=tu(r.direction);o&&(r.additionalEvent=this.options.event+o),s.prototype.emit.call(this,r)},e}(Nt),iu=function(s){ge(e,s);function e(n){return n===void 0&&(n={}),s.call(this,ye({event:"swipe",threshold:10,velocity:.3,direction:Te|it,pointers:1},n))||this}var t=e.prototype;return t.getTouchAction=function(){return ba.prototype.getTouchAction.call(this)},t.attrTest=function(r){var o=this.options.direction,a;return o&(Te|it)?a=r.overallVelocity:o&Te?a=r.overallVelocityX:o&it&&(a=r.overallVelocityY),s.prototype.attrTest.call(this,r)&&o&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&ot(a)>this.options.velocity&&r.eventType&K},t.emit=function(r){var o=tu(r.offsetDirection);o&&this.manager.emit(this.options.event+o,r),this.manager.emit(this.options.event,r)},e}(Nt),su=function(s){ge(e,s);function e(n){return n===void 0&&(n={}),s.call(this,ye({event:"pinch",threshold:0,pointers:2},n))||this}var t=e.prototype;return t.getTouchAction=function(){return[tt]},t.attrTest=function(r){return s.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||this.state&me)},t.emit=function(r){if(r.scale!==1){var o=r.scale<1?"in":"out";r.additionalEvent=this.options.event+o}s.prototype.emit.call(this,r)},e}(Nt),nu=function(s){ge(e,s);function e(n){return n===void 0&&(n={}),s.call(this,ye({event:"rotate",threshold:0,pointers:2},n))||this}var t=e.prototype;return t.getTouchAction=function(){return[tt]},t.attrTest=function(r){return s.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||this.state&me)},e}(Nt),ru=function(s){ge(e,s);function e(n){var r;return n===void 0&&(n={}),r=s.call(this,ye({event:"press",pointers:1,time:251,threshold:9},n))||this,r._timer=null,r._input=null,r}var t=e.prototype;return t.getTouchAction=function(){return[zc]},t.process=function(r){var o=this,a=this.options,l=r.pointers.length===a.pointers,h=r.distance<a.threshold,d=r.deltaTime>a.time;if(this._input=r,!h||!l||r.eventType&(K|ae)&&!d)this.reset();else if(r.eventType&ne)this.reset(),this._timer=setTimeout(function(){o.state=Pe,o.tryEmit()},a.time);else if(r.eventType&K)return Pe;return xe},t.reset=function(){clearTimeout(this._timer)},t.emit=function(r){this.state===Pe&&(r&&r.eventType&K?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=ua(),this.manager.emit(this.options.event,this._input)))},e}(vi),ou={domEvents:!1,touchAction:Bc,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},cl=[[nu,{enable:!1}],[su,{enable:!1},["rotate"]],[iu,{direction:Te}],[ba,{direction:Te},["swipe"]],[Wo],[Wo,{event:"doubletap",taps:2},["tap"]],[ru]],Kp=1,ul=2;function fl(s,e){var t=s.element;if(t.style){var n;Ne(s.options.cssProps,function(r,o){n=es(t.style,o),e?(s.oldCssProps[n]=t.style[n],t.style[n]=r):t.style[n]=s.oldCssProps[n]||""}),e||(s.oldCssProps={})}}function Qp(s,e){var t=document.createEvent("Event");t.initEvent(s,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var pl=function(){function s(t,n){var r=this;this.options=rt({},ou,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Vp(this),this.touchAction=new Vc(this,this.options.touchAction),fl(this,!0),Ne(this.options.recognizers,function(o){var a=r.add(new o[0](o[1]));o[2]&&a.recognizeWith(o[2]),o[3]&&a.requireFailure(o[3])},this)}var e=s.prototype;return e.set=function(n){return rt(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?ul:Kp},e.recognize=function(n){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(n);var o,a=this.recognizers,l=r.curRecognizer;(!l||l&&l.state&Pe)&&(r.curRecognizer=null,l=null);for(var h=0;h<a.length;)o=a[h],r.stopped!==ul&&(!l||o===l||o.canRecognizeWith(l))?o.recognize(n):o.reset(),!l&&o.state&(me|At|$e)&&(r.curRecognizer=o,l=o),h++}},e.get=function(n){if(n instanceof vi)return n;for(var r=this.recognizers,o=0;o<r.length;o++)if(r[o].options.event===n)return r[o];return null},e.add=function(n){if(Dt(n,"add",this))return this;var r=this.get(n.options.event);return r&&this.remove(r),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Dt(n,"remove",this))return this;var r=this.get(n);if(n){var o=this.recognizers,a=at(o,r);a!==-1&&(o.splice(a,1),this.touchAction.update())}return this},e.on=function(n,r){if(n===void 0||r===void 0)return this;var o=this.handlers;return Ne(si(n),function(a){o[a]=o[a]||[],o[a].push(r)}),this},e.off=function(n,r){if(n===void 0)return this;var o=this.handlers;return Ne(si(n),function(a){r?o[a]&&o[a].splice(at(o[a],r),1):delete o[a]}),this},e.emit=function(n,r){this.options.domEvents&&Qp(n,r);var o=this.handlers[n]&&this.handlers[n].slice();if(!(!o||!o.length)){r.type=n,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](r),a++}},e.destroy=function(){this.element&&fl(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},s}(),Zp={touchstart:ne,touchmove:ct,touchend:K,touchcancel:ae},Jp="touchstart",em="touchstart touchmove touchend touchcancel",tm=function(s){ge(e,s);function e(){var n,r=e.prototype;return r.evTarget=Jp,r.evWin=em,n=s.apply(this,arguments)||this,n.started=!1,n}var t=e.prototype;return t.handler=function(r){var o=Zp[r.type];if(o===ne&&(this.started=!0),!!this.started){var a=im.call(this,r,o);o&(K|ae)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:a[0],changedPointers:a[1],pointerType:fi,srcEvent:r})}},e}(Ft);function im(s,e){var t=ni(s.touches),n=ni(s.changedTouches);return e&(K|ae)&&(t=ma(t.concat(n),"identifier",!0)),[t,n]}function au(s,e,t){var n="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var r=new Error("get-stack-trace"),o=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,o),s.apply(this,arguments)}}var lu=au(function(s,e,t){for(var n=Object.keys(e),r=0;r<n.length;)(!t||t&&s[n[r]]===void 0)&&(s[n[r]]=e[n[r]]),r++;return s},"extend","Use `assign`."),sm=au(function(s,e){return lu(s,e,!0)},"merge","Use `assign`.");function nm(s,e,t){var n=e.prototype,r;r=s.prototype=Object.create(n),r.constructor=s,r._super=n,t&&rt(r,t)}function ml(s,e){return function(){return s.apply(e,arguments)}}var hu=function(){var s=function(t,n){return n===void 0&&(n={}),new pl(t,ye({recognizers:cl.concat()},n))};return s.VERSION="2.0.17-rc",s.DIRECTION_ALL=Uc,s.DIRECTION_DOWN=Ot,s.DIRECTION_LEFT=pi,s.DIRECTION_RIGHT=mi,s.DIRECTION_UP=gi,s.DIRECTION_HORIZONTAL=Te,s.DIRECTION_VERTICAL=it,s.DIRECTION_NONE=zi,s.DIRECTION_DOWN=Ot,s.INPUT_START=ne,s.INPUT_MOVE=ct,s.INPUT_END=K,s.INPUT_CANCEL=ae,s.STATE_POSSIBLE=Gi,s.STATE_BEGAN=me,s.STATE_CHANGED=At,s.STATE_ENDED=$e,s.STATE_RECOGNIZED=Pe,s.STATE_CANCELLED=ri,s.STATE_FAILED=xe,s.Manager=pl,s.Input=Ft,s.TouchAction=Vc,s.TouchInput=ga,s.MouseInput=va,s.PointerEventInput=Jc,s.TouchMouseInput=eu,s.SingleTouchInput=tm,s.Recognizer=vi,s.AttrRecognizer=Nt,s.Tap=Wo,s.Pan=ba,s.Swipe=iu,s.Pinch=su,s.Rotate=nu,s.Press=ru,s.on=Qt,s.off=Zt,s.each=Ne,s.merge=sm,s.extend=lu,s.bindFn=ml,s.assign=rt,s.inherit=nm,s.bindFn=ml,s.prefixed=es,s.toArray=ni,s.inArray=at,s.uniqueArray=ma,s.splitStr=si,s.boolOrFn=ts,s.hasParent=pa,s.addEventListeners=Qt,s.removeEventListeners=Zt,s.defaults=rt({},ou,{preset:cl}),s}();hu.defaults;const du=hu;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 5.0.7
 * @date    2023-11-20T09:06:51.067Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const is=Symbol("DELETE");function cu(s,...e){return ya({},s,...e)}function ya(...s){const e=Wi(...s);return fu(e),e}function Wi(...s){if(s.length<2)return s[0];if(s.length>2)return Wi(ya(s[0],s[1]),...s.slice(2));const e=s[0],t=s[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const n of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,n)&&(t[n]===is?delete e[n]:e[n]!==null&&t[n]!==null&&typeof e[n]=="object"&&typeof t[n]=="object"&&!Array.isArray(e[n])&&!Array.isArray(t[n])?e[n]=Wi(e[n],t[n]):e[n]=uu(t[n]));return e}function uu(s){return Array.isArray(s)?s.map(e=>uu(e)):typeof s=="object"&&s!==null?s instanceof Date?new Date(s.getTime()):Wi({},s):s}function fu(s){for(const e of Object.keys(s))s[e]===is?delete s[e]:typeof s[e]=="object"&&s[e]!==null&&fu(s[e])}function rm(...s){return om(s.length?s:[Date.now()])}function om(s){let[e,t,n]=am(s),r=1;const o=()=>{const a=2091639*e+r*23283064365386963e-26;return e=t,t=n,n=a-(r=a|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=s,o.version="0.9",o}function am(...s){const e=lm();let t=e(" "),n=e(" "),r=e(" ");for(let o=0;o<s.length;o++)t-=e(s[o]),t<0&&(t+=1),n-=e(s[o]),n<0&&(n+=1),r-=e(s[o]),r<0&&(r+=1);return[t,n,r]}function lm(){let s=4022871197;return function(e){const t=e.toString();for(let n=0;n<t.length;n++){s+=t.charCodeAt(n);let r=.02519603282416938*s;s=r>>>0,r-=s,r*=s,s=r>>>0,r-=s,s+=r*4294967296}return(s>>>0)*23283064365386963e-26}}function hm(){const s=()=>{};return{on:s,off:s,destroy:s,emit:s,get(){return{set:s}}}}const _a=typeof window<"u"?window.Hammer||du:function(){return hm()};function Ce(s){this._cleanupQueue=[],this.active=!1,this._dom={container:s,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=_a(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(n=>{e.on(n,r=>{r.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{dm(n.target,s)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}ca(Ce.prototype);Ce.current=null;Ce.prototype.destroy=function(){this.deactivate();for(const s of this._cleanupQueue.splice(0).reverse())s()};Ce.prototype.activate=function(){Ce.current&&Ce.current.deactivate(),Ce.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ce.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ce.prototype._onTapOverlay=function(s){this.activate(),s.srcEvent.stopPropagation()};function dm(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}const cm=/^\/?Date\((-?\d+)/i,um=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,fm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,pm=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,mm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Jt(s){return s instanceof Number||typeof s=="number"}function pu(s){if(s)for(;s.hasChildNodes()===!0;){const e=s.firstChild;e&&(pu(e),s.removeChild(e))}}function ce(s){return s instanceof String||typeof s=="string"}function Vo(s){return typeof s=="object"&&s!==null}function gm(s){if(s instanceof Date)return!0;if(ce(s)){if(cm.exec(s))return!0;if(!isNaN(Date.parse(s)))return!0}return!1}function lt(s,e,t,n){let r=!1;n===!0&&(r=e[t]===null&&s[t]!==void 0),r?delete s[t]:s[t]=e[t]}function mu(s,e,t=!1){for(const n in s)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")lt(s,e,n,t);else{const r=s[n],o=e[n];Vo(r)&&Vo(o)&&mu(r,o,t)}}const vm=Object.assign;function bm(s,e,...t){if(!Array.isArray(s))throw new Error("Array with property names expected as first argument");for(const n of t)for(let r=0;r<s.length;r++){const o=s[r];n&&Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}function ym(s,e,t,n=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let r=0;r<s.length;r++){const o=s[r];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?oi(e[o],t[o],!1,n):lt(e,t,o,n);else{if(Array.isArray(t[o]))throw new TypeError("Arrays are not supported by deepExtend");lt(e,t,o,n)}}return e}function _m(s,e,t,n=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!s.includes(r))if(t[r]&&t[r].constructor===Object)e[r]===void 0&&(e[r]={}),e[r].constructor===Object?oi(e[r],t[r]):lt(e,t,r,n);else if(Array.isArray(t[r])){e[r]=[];for(let o=0;o<t[r].length;o++)e[r].push(t[r][o])}else lt(e,t,r,n);return e}function oi(s,e,t=!1,n=!1){for(const r in e)(Object.prototype.hasOwnProperty.call(e,r)||t===!0)&&(typeof e[r]=="object"&&e[r]!==null&&Object.getPrototypeOf(e[r])===Object.prototype?s[r]===void 0?s[r]=oi({},e[r],t):typeof s[r]=="object"&&s[r]!==null&&Object.getPrototypeOf(s[r])===Object.prototype?oi(s[r],e[r],t):lt(s,e,r,n):Array.isArray(e[r])?s[r]=e[r].slice():lt(s,e,r,n));return s}function wm(s,e){if(s.length!==e.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!=e[t])return!1;return!0}function Wt(s){const e=typeof s;return e==="object"?s===null?"null":s instanceof Boolean?"Boolean":s instanceof Number?"Number":s instanceof String?"String":Array.isArray(s)?"Array":s instanceof Date?"Date":"Object":e==="number"?"Number":e==="boolean"?"Boolean":e==="string"?"String":e===void 0?"undefined":e}function ai(s,e){return[...s,e]}function gu(s){return s.slice()}function xm(s){return s.getBoundingClientRect().left}function Cm(s){return s.getBoundingClientRect().right}function Tm(s){return s.getBoundingClientRect().top}function Sm(s,e){let t=s.className.split(" ");const n=e.split(" ");t=t.concat(n.filter(function(r){return!t.includes(r)})),s.className=t.join(" ")}function Dm(s,e){let t=s.className.split(" ");const n=e.split(" ");t=t.filter(function(r){return!n.includes(r)}),s.className=t.join(" ")}function Em(s,e){if(Array.isArray(s)){const t=s.length;for(let n=0;n<t;n++)e(s[n],n,s)}else for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(s[t],t,s)}const km=Object.values;function Om(s,e,t){return s[e]!==t?(s[e]=t,!0):!1}function Am(s){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{e=!1,s()}))}}function Nm(s){s||(s=window.event),s&&(s.preventDefault?s.preventDefault():s.returnValue=!1)}function Pm(s=window.event){let e=null;return s&&(s.target?e=s.target:s.srcElement&&(e=s.srcElement)),!(e instanceof Element)||e.nodeType!=null&&e.nodeType==3&&(e=e.parentNode,!(e instanceof Element))?null:e}function Im(s,e){let t=s;for(;t;){if(t===e)return!0;if(t.parentNode)t=t.parentNode;else return!1}return!1}const Rm={asBoolean(s,e){return typeof s=="function"&&(s=s()),s!=null?s!=!1:e||null},asNumber(s,e){return typeof s=="function"&&(s=s()),s!=null?Number(s)||e||null:e||null},asString(s,e){return typeof s=="function"&&(s=s()),s!=null?String(s):e||null},asSize(s,e){return typeof s=="function"&&(s=s()),ce(s)?s:Jt(s)?s+"px":e||null},asElement(s,e){return typeof s=="function"&&(s=s()),s||e||null}};function ss(s){let e;switch(s.length){case 3:case 4:return e=fm.exec(s),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=um.exec(s),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function Mm(s,e){if(s.includes("rgba"))return s;if(s.includes("rgb")){const t=s.substr(s.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=ss(s);return t==null?s:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function wa(s,e,t){return"#"+((1<<24)+(s<<16)+(e<<8)+t).toString(16).slice(1)}function Fm(s,e){if(ce(s)){let t=s;if(Ca(t)){const n=t.substr(4).substr(0,t.length-5).split(",").map(function(r){return parseInt(r)});t=wa(n[0],n[1],n[2])}if(xa(t)===!0){const n=bu(t),r={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},o={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},a=Yo(o.h,o.s,o.v),l=Yo(r.h,r.s,r.v);return{background:t,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return e?{background:s.background||e.background,border:s.border||e.border,highlight:ce(s.highlight)?{border:s.highlight,background:s.highlight}:{background:s.highlight&&s.highlight.background||e.highlight.background,border:s.highlight&&s.highlight.border||e.highlight.border},hover:ce(s.hover)?{border:s.hover,background:s.hover}:{border:s.hover&&s.hover.border||e.hover.border,background:s.hover&&s.hover.background||e.hover.background}}:{background:s.background||void 0,border:s.border||void 0,highlight:ce(s.highlight)?{border:s.highlight,background:s.highlight}:{background:s.highlight&&s.highlight.background||void 0,border:s.highlight&&s.highlight.border||void 0},hover:ce(s.hover)?{border:s.hover,background:s.hover}:{border:s.hover&&s.hover.border||void 0,background:s.hover&&s.hover.background||void 0}}}function Et(s,e,t){s=s/255,e=e/255,t=t/255;const n=Math.min(s,Math.min(e,t)),r=Math.max(s,Math.max(e,t));if(n===r)return{h:0,s:0,v:n};const o=s===n?e-t:t===n?s-e:t-s,l=60*((s===n?3:t===n?1:5)-o/(r-n))/360,h=(r-n)/r;return{h:l,s:h,v:r}}function vu(s){const e=document.createElement("div"),t={};e.style.cssText=s;for(let n=0;n<e.style.length;++n)t[e.style[n]]=e.style.getPropertyValue(e.style[n]);return t}function jm(s,e){const t=vu(e);for(const[n,r]of Object.entries(t))s.style.setProperty(n,r)}function Lm(s,e){const t=vu(e);for(const n of Object.keys(t))s.style.removeProperty(n)}function ei(s,e,t){let n,r,o;const a=Math.floor(s*6),l=s*6-a,h=t*(1-e),d=t*(1-l*e),c=t*(1-(1-l)*e);switch(a%6){case 0:n=t,r=c,o=h;break;case 1:n=d,r=t,o=h;break;case 2:n=h,r=t,o=c;break;case 3:n=h,r=d,o=t;break;case 4:n=c,r=h,o=t;break;case 5:n=t,r=h,o=d;break}return{r:Math.floor(n*255),g:Math.floor(r*255),b:Math.floor(o*255)}}function Yo(s,e,t){const n=ei(s,e,t);return wa(n.r,n.g,n.b)}function bu(s){const e=ss(s);if(!e)throw new TypeError(`'${s}' is not a valid color.`);return Et(e.r,e.g,e.b)}function xa(s){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(s)}function Ca(s){return pm.test(s)}function yu(s){return mm.test(s)}function qm(s,e){if(e!==null&&typeof e=="object"){const t=Object.create(e);for(let n=0;n<s.length;n++)Object.prototype.hasOwnProperty.call(e,s[n])&&typeof e[s[n]]=="object"&&(t[s[n]]=Ta(e[s[n]]));return t}else return null}function Ta(s){if(s===null||typeof s!="object")return null;if(s instanceof Element)return s;const e=Object.create(s);for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&typeof s[t]=="object"&&(e[t]=Ta(s[t]));return e}function Gm(s,e){for(let t=0;t<s.length;t++){const n=s[t];let r;for(r=t;r>0&&e(n,s[r-1])<0;r--)s[r]=s[r-1];s[r]=n}return s}function Hm(s,e,t,n={}){const r=function(p){return p!=null},o=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const g in p)if(Object.prototype.hasOwnProperty.call(p,g))return!1;return!0};if(!o(s))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!r(t))throw new Error("Parameter option must have a value");if(!o(n))throw new Error("Parameter globalOptions must be an object");const l=function(p,g,b){o(p[b])||(p[b]={});const y=g[b],_=p[b];for(const w in y)Object.prototype.hasOwnProperty.call(y,w)&&(_[w]=y[w])},h=e[t],c=o(n)&&!a(n)?n[t]:void 0,u=c?c.enabled:void 0;if(h===void 0)return;if(typeof h=="boolean"){o(s[t])||(s[t]={}),s[t].enabled=h;return}if(h===null&&!o(s[t]))if(r(c))s[t]=Object.create(c);else return;if(!o(h))return;let f=!0;h.enabled!==void 0?f=h.enabled:u!==void 0&&(f=c.enabled),l(s,e,t),s[t].enabled=f}function Bm(s,e,t,n){let o=0,a=0,l=s.length-1;for(;a<=l&&o<1e4;){const h=Math.floor((a+l)/2),d=s[h],c=n===void 0?d[t]:d[t][n],u=e(c);if(u==0)return h;u==-1?a=h+1:l=h-1,o++}return-1}function zm(s,e,t,n,r){let a=0,l=0,h=s.length-1,d,c,u,f;for(r=r??function(p,g){return p==g?0:p<g?-1:1};l<=h&&a<1e4;){if(f=Math.floor(.5*(h+l)),d=s[Math.max(0,f-1)][t],c=s[f][t],u=s[Math.min(s.length-1,f+1)][t],r(c,e)==0)return f;if(r(d,e)<0&&r(c,e)>0)return n=="before"?Math.max(0,f-1):f;if(r(c,e)<0&&r(u,e)>0)return n=="before"?f:Math.min(s.length-1,f+1);r(c,e)<0?l=f+1:h=f-1,a++}return-1}const $m={linear(s){return s},easeInQuad(s){return s*s},easeOutQuad(s){return s*(2-s)},easeInOutQuad(s){return s<.5?2*s*s:-1+(4-2*s)*s},easeInCubic(s){return s*s*s},easeOutCubic(s){return--s*s*s+1},easeInOutCubic(s){return s<.5?4*s*s*s:(s-1)*(2*s-2)*(2*s-2)+1},easeInQuart(s){return s*s*s*s},easeOutQuart(s){return 1- --s*s*s*s},easeInOutQuart(s){return s<.5?8*s*s*s*s:1-8*--s*s*s*s},easeInQuint(s){return s*s*s*s*s},easeOutQuint(s){return 1+--s*s*s*s*s},easeInOutQuint(s){return s<.5?16*s*s*s*s*s:1+16*--s*s*s*s*s}};function Um(){const s=document.createElement("p");s.style.width="100%",s.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(s),document.body.appendChild(e);const t=s.offsetWidth;e.style.overflow="scroll";let n=s.offsetWidth;return t==n&&(n=e.clientWidth),document.body.removeChild(e),t-n}function Wm(s,e){let t;Array.isArray(e)||(e=[e]);for(const n of s)if(n){t=n[e[0]];for(let r=1;r<e.length;r++)t&&(t=t[e[r]]);if(typeof t<"u")break}return t}const Vm={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let _u=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Vm[e]}setColor(e,t=!0){if(e==="none")return;let n;const r=this._isColorString(e);if(r!==void 0&&(e=r),ce(e)===!0){if(Ca(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");n={r:o[0],g:o[1],b:o[2],a:1}}else if(yu(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(xa(e)===!0){const o=ss(e);n={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:o}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(n,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const n=Et(e.r,e.g,e.b),r=2*Math.PI,o=this.r*n.s,a=this.centerCoordinates.x+o*Math.sin(r*n.h),l=this.centerCoordinates.y+o*Math.cos(r*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Et(this.color.r,this.color.g,this.color.b);t.v=e/100;const n=ei(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(e=this.color){const t=Et(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,o),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new _a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,n);let r,o,a,l;this.centerCoordinates={x:t*.5,y:n*.5},this.r=.49*t;const h=2*Math.PI/360,d=1/360,c=1/this.r;let u;for(a=0;a<360;a++)for(l=0;l<this.r;l++)r=this.centerCoordinates.x+l*Math.sin(h*a),o=this.centerCoordinates.y+l*Math.cos(h*a),u=ei(a*d,l*c,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(r-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=n-a,h=r-o,d=Math.atan2(l,h),c=.98*Math.min(Math.sqrt(l*l+h*h),a),u=Math.cos(d)*c+o,f=Math.sin(d)*c+a;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=d/(2*Math.PI);p=p<0?p+1:p;const g=c/this.r,b=Et(this.color.r,this.color.g,this.color.b);b.h=p,b.s=g;const y=ei(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Xo(...s){if(s.length<1)throw new TypeError("Invalid arguments.");if(s.length===1)return document.createTextNode(s[0]);{const e=document.createElement(s[0]);return e.appendChild(Xo(...s.slice(1))),e}}let Ym=class{constructor(e,t,n,r=1,o=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new _u(r),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,n=!1;for(const r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(r,[]),n=n||this._handleObject(this.configureOptions[r],[r],!0)):(e===!0||e.indexOf(r)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)t=t[e[n]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const n=document.createElement("div");return n.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(r=>{n.appendChild(r)}),this.domElements.push(n),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,n=!1){const r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+t.length,n===!0){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(Xo("i","b",e))}else r.innerText=e+":";return r}_makeDropdown(e,t,n){const r=document.createElement("select");r.className="vis-configuration vis-config-select";let o=0;t!==void 0&&e.indexOf(t)!==-1&&(o=e.indexOf(t));for(let h=0;h<e.length;h++){const d=document.createElement("option");d.value=e[h],h===o&&(d.selected="selected"),d.innerText=e[h],r.appendChild(d)}const a=this;r.onchange=function(){a._update(this.value,n)};const l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,r)}_makeRange(e,t,n){const r=e[0],o=e[1],a=e[2],l=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=o,h.max=a}catch{}h.step=l;let d="",c=0;t!==void 0?(t<0&&t*1.2<o?(h.min=Math.ceil(t*1.2),c=h.min,d="range increased"):t/1.2<o&&(h.min=Math.ceil(t/1.2),c=h.min,d="range increased"),t*1.2>a&&a!==1&&(h.max=Math.ceil(t*1.2),c=h.max,d="range increased"),h.value=t):h.value=r;const u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=h.value;const f=this;h.onchange=function(){u.value=this.value,f._update(Number(this.value),n)},h.oninput=function(){u.value=this.value};const p=this._makeLabel(n[n.length-1],n),g=this._makeItem(n,p,h,u);d!==""&&this.popupHistory[g]!==c&&(this.popupHistory[g]=c,this._setupPopup(d,g))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,n){const r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,t!==void 0&&(r.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));const o=this;r.onchange=function(){o._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}_makeTextInput(e,t,n){const r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});const o=this;r.onchange=function(){o._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}_makeColorField(e,t,n){const r=e[1],o=document.createElement("div");t=t===void 0?r:t,t!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=t===void 0?r:t,o.onclick=()=>{this._showColorPicker(t,o,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}_showColorPicker(e,t,n){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(r=>{const o="rgba("+r.r+","+r.g+","+r.b+","+r.a+")";t.style.backgroundColor=o,this._update(o,n)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,n)}})}_handleObject(e,t=[],n=!1){let r=!1;const o=this.options.filter;let a=!1;for(const l in e)if(Object.prototype.hasOwnProperty.call(e,l)){r=!0;const h=e[l],d=ai(t,l);if(typeof o=="function"&&(r=o(l,t),r===!1&&!Array.isArray(h)&&typeof h!="string"&&typeof h!="boolean"&&h instanceof Object&&(this.allowCreation=!1,r=this._handleObject(h,d,!0),this.allowCreation=n===!1)),r!==!1){a=!0;const c=this._getValue(d);if(Array.isArray(h))this._handleArray(h,c,d);else if(typeof h=="string")this._makeTextInput(h,c,d);else if(typeof h=="boolean")this._makeCheckbox(h,c,d);else if(h instanceof Object){if(!this.hideOption(t,l,this.moduleOptions))if(h.enabled!==void 0){const u=ai(d,"enabled"),f=this._getValue(u);if(f===!0){const p=this._makeLabel(l,d,!0);this._makeItem(d,p),a=this._handleObject(h,d)||a}else this._makeCheckbox(h,f,d)}else{const u=this._makeLabel(l,d,!0);this._makeItem(d,u),a=this._handleObject(h,d)||a}}else console.error("dont know how to handle",h,l,d)}}return a}_handleArray(e,t,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}_update(e,t){const n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,t,n={}){let r=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<t.length;o++)t[o]!=="global"&&(r[t[o]]===void 0&&(r[t[o]]={}),o!==t.length-1?r=r[t[o]]:r[t[o]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Xo("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},Xm=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let a=0,l=0;if(this.overflowMethod=="flip"){let h=!1,d=!0;this.y-t<this.padding&&(d=!1),this.x+n>o-this.padding&&(h=!0),h?a=this.x-n:a=this.x,d?l=this.y-t:l=this.y}else l=this.y-t,l+t+this.padding>r&&(l=r-t-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+n+this.padding>o&&(a=o-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},zt=!1,gl;const Ko="background: #FFeeee; color: #dd0000";let Km=class V{static validate(e,t,n){zt=!1,gl=t;let r=t;return n!==void 0&&(r=t[n]),V.parse(e,r,[]),zt}static parse(e,t,n){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&V.check(r,e,t,n)}static check(e,t,n,r){if(n[e]===void 0&&n.__any__===void 0){V.getSuggestion(e,n,r);return}let o=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(o="__any__",a=V.getType(t[e])==="object");let l=n[o];a&&l.__type__!==void 0&&(l=l.__type__),V.checkFields(e,t,n,o,l,r)}static checkFields(e,t,n,r,o,a){const l=function(c){console.error("%c"+c+V.printLocation(a,e),Ko)},h=V.getType(t[e]),d=o[h];d!==void 0?V.getType(d)==="array"&&d.indexOf(t[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+V.print(d)+' not "'+t[e]+'". '),zt=!0):h==="object"&&r!=="__any__"&&(a=ai(a,e),V.parse(t[e],n[r],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+V.print(Object.keys(o))+". Received ["+h+'] "'+t[e]+'"'),zt=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,n){const r=V.findInOptions(e,t,n,!1),o=V.findInOptions(e,gl,[],!0),a=8,l=4;let h;r.indexMatch!==void 0?h=" in "+V.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+`"?

`:o.distance<=l&&r.distance>o.distance?h=" in "+V.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+V.printLocation(o.path,o.closestMatch,""):r.distance<=a?h='. Did you mean "'+r.closestMatch+'"?'+V.printLocation(r.path,e):h=". Did you mean one of these: "+V.print(Object.keys(t))+V.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+h,Ko),zt=!0}static findInOptions(e,t,n,r=!1){let o=1e9,a="",l=[];const h=e.toLowerCase();let d;for(const c in t){let u;if(t[c].__type__!==void 0&&r===!0){const f=V.findInOptions(e,t[c],ai(n,c));o>f.distance&&(a=f.closestMatch,l=f.path,o=f.distance,d=f.indexMatch)}else c.toLowerCase().indexOf(h)!==-1&&(d=c),u=V.levenshteinDistance(e,c),o>u&&(a=c,l=gu(n),o=u)}return{closestMatch:a,path:l,distance:o,indexMatch:d}}static printLocation(e,t,n=`Problem value found at: 
`){let r=`

`+n+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)r+="  ";r+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)r+="  ";r+=t+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)r+="  ";r+=`}
`}return r+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const n=[];let r;for(r=0;r<=t.length;r++)n[r]=[r];let o;for(o=0;o<=e.length;o++)n[0][o]=o;for(r=1;r<=t.length;r++)for(o=1;o<=e.length;o++)t.charAt(r-1)==e.charAt(o-1)?n[r][o]=n[r-1][o-1]:n[r][o]=Math.min(n[r-1][o-1]+1,Math.min(n[r][o-1]+1,n[r-1][o]+1));return n[t.length][e.length]}};const Qm=Ce,Zm=_u,Jm=Ym,eg=_a,tg=Xm,ig=Ko,sg=Km,ng=Object.freeze(Object.defineProperty({__proto__:null,Activator:Qm,Alea:rm,ColorPicker:Zm,Configurator:Jm,DELETE:is,HSVToHex:Yo,HSVToRGB:ei,Hammer:eg,Popup:tg,RGBToHSV:Et,RGBToHex:wa,VALIDATOR_PRINT_STYLE:ig,Validator:sg,addClassName:Sm,addCssText:jm,binarySearchCustom:Bm,binarySearchValue:zm,bridgeObject:Ta,copyAndExtendArray:ai,copyArray:gu,deepExtend:oi,deepObjectAssign:ya,easingFunctions:$m,equalArray:wm,extend:vm,fillIfDefined:mu,forEach:Em,getAbsoluteLeft:xm,getAbsoluteRight:Cm,getAbsoluteTop:Tm,getScrollBarWidth:Um,getTarget:Pm,getType:Wt,hasParent:Im,hexToHSV:bu,hexToRGB:ss,insertSort:Gm,isDate:gm,isNumber:Jt,isObject:Vo,isString:ce,isValidHex:xa,isValidRGB:Ca,isValidRGBA:yu,mergeOptions:Hm,option:Rm,overrideOpacity:Mm,parseColor:Fm,preventDefault:Nm,pureDeepObjectAssign:cu,recursiveDOMDelete:pu,removeClassName:Dm,removeCssText:Lm,selectiveBridgeObject:qm,selectiveDeepExtend:ym,selectiveExtend:bm,selectiveNotDeepExtend:_m,throttle:Am,toArray:km,topMost:Wm,updateProperty:Om},Symbol.toStringTag,{value:"Module"}));var Ii,rg=new Uint8Array(16);function og(){if(!Ii&&(Ii=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ii))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ii(rg)}const ag=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lg(s){return typeof s=="string"&&ag.test(s)}var Z=[];for(var Fs=0;Fs<256;++Fs)Z.push((Fs+256).toString(16).substr(1));function hg(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Z[s[e+0]]+Z[s[e+1]]+Z[s[e+2]]+Z[s[e+3]]+"-"+Z[s[e+4]]+Z[s[e+5]]+"-"+Z[s[e+6]]+Z[s[e+7]]+"-"+Z[s[e+8]]+Z[s[e+9]]+"-"+Z[s[e+10]]+Z[s[e+11]]+Z[s[e+12]]+Z[s[e+13]]+Z[s[e+14]]+Z[s[e+15]]).toLowerCase();if(!lg(t))throw TypeError("Stringified UUID is invalid");return t}function st(s,e,t){s=s||{};var n=s.random||(s.rng||og)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=n[r];return e}return hg(n)}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function wu(s){return new cg(s)}class dg{constructor(e,t,n){G(this,"_source");G(this,"_transformers");G(this,"_target");G(this,"_listeners",{add:this._add.bind(this),remove:this._remove.bind(this),update:this._update.bind(this)});this._source=e,this._transformers=t,this._target=n}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(e){return this._transformers.reduce((t,n)=>n(t),e)}_add(e,t){t!=null&&this._target.add(this._transformItems(this._source.get(t.items)))}_update(e,t){t!=null&&this._target.update(this._transformItems(this._source.get(t.items)))}_remove(e,t){t!=null&&this._target.remove(this._transformItems(t.oldData))}}class cg{constructor(e){G(this,"_source");G(this,"_transformers",[]);this._source=e}filter(e){return this._transformers.push(t=>t.filter(e)),this}map(e){return this._transformers.push(t=>t.map(e)),this}flatMap(e){return this._transformers.push(t=>t.flatMap(e)),this}to(e){return new dg(this._source,this._transformers,e)}}function Qo(s){return typeof s=="string"||typeof s=="number"}class ns{constructor(e){G(this,"delay");G(this,"max");G(this,"_queue",[]);G(this,"_timeout",null);G(this,"_extended",null);this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const n=new ns(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const r=[{name:"flush",original:void 0}];if(t&&t.replace)for(let o=0;o<t.replace.length;o++){const a=t.replace[o];r.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:r},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let n=0;n<t.length;n++){const r=t[n];r.original?e[r.name]=r.original:delete e[r.name]}this._extended=null}}replace(e,t){const n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(...o){n.queue({args:o,fn:r,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=setTimeout(()=>{this.flush()},this.delay))}flush(){this._queue.splice(0).forEach(e=>{e.fn.apply(e.context||e.fn,e.args||[])})}}class li{constructor(){G(this,"_subscribers",{"*":[],add:[],remove:[],update:[]});G(this,"subscribe",li.prototype.on);G(this,"unsubscribe",li.prototype.off)}_trigger(e,t,n){if(e==="*")throw new Error("Cannot trigger event *");[...this._subscribers[e],...this._subscribers["*"]].forEach(r=>{r(e,t,n??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){this._subscribers[e]=this._subscribers[e].filter(n=>n!==t)}}class ze{constructor(e){G(this,"_pairs");this._pairs=e}*[Symbol.iterator](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){return[...this._pairs].map(e=>e[0])}toItemArray(){return[...this._pairs].map(e=>e[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Object.create(null);for(const[t,n]of this._pairs)e[t]=n;return e}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new ze([...this._pairs])}distinct(e){const t=new Set;for(const[n,r]of this._pairs)t.add(e(r,n));return t}filter(e){const t=this._pairs;return new ze({*[Symbol.iterator](){for(const[n,r]of t)e(r,n)&&(yield[n,r])}})}forEach(e){for(const[t,n]of this._pairs)e(n,t)}map(e){const t=this._pairs;return new ze({*[Symbol.iterator](){for(const[n,r]of t)yield[n,e(r,n)]}})}max(e){const t=this._pairs[Symbol.iterator]();let n=t.next();if(n.done)return null;let r=n.value[1],o=e(n.value[1],n.value[0]);for(;!(n=t.next()).done;){const[a,l]=n.value,h=e(l,a);h>o&&(o=h,r=l)}return r}min(e){const t=this._pairs[Symbol.iterator]();let n=t.next();if(n.done)return null;let r=n.value[1],o=e(n.value[1],n.value[0]);for(;!(n=t.next()).done;){const[a,l]=n.value,h=e(l,a);h<o&&(o=h,r=l)}return r}reduce(e,t){for(const[n,r]of this._pairs)t=e(t,r,n);return t}sort(e){return new ze({[Symbol.iterator]:()=>[...this._pairs].sort(([t,n],[r,o])=>e(n,o,t,r))[Symbol.iterator]()})}}function ug(s,e){return s[e]==null&&(s[e]=st()),s}class ht extends li{constructor(t,n){super();G(this,"flush");G(this,"length");G(this,"_options");G(this,"_data");G(this,"_idProp");G(this,"_queue",null);t&&!Array.isArray(t)&&(n=t,t=[]),this._options=n||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(n)}get idProp(){return this._idProp}setOptions(t){t&&t.queue!==void 0&&(t.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=ns.extend(this,{replace:["add","update","remove"]})),t.queue&&typeof t.queue=="object"&&this._queue.setOptions(t.queue)))}add(t,n){const r=[];let o;if(Array.isArray(t)){if(t.map(l=>l[this._idProp]).some(l=>this._data.has(l)))throw new Error("A duplicate id was found in the parameter array.");for(let l=0,h=t.length;l<h;l++)o=this._addItem(t[l]),r.push(o)}else if(t&&typeof t=="object")o=this._addItem(t),r.push(o);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},n),r}update(t,n){const r=[],o=[],a=[],l=[],h=this._idProp,d=c=>{const u=c[h];if(u!=null&&this._data.has(u)){const f=c,p=Object.assign({},this._data.get(u)),g=this._updateItem(f);o.push(g),l.push(f),a.push(p)}else{const f=this._addItem(c);r.push(f)}};if(Array.isArray(t))for(let c=0,u=t.length;c<u;c++)t[c]&&typeof t[c]=="object"?d(t[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(t&&typeof t=="object")d(t);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},n),o.length){const c={items:o,oldData:a,data:l};this._trigger("update",c,n)}return r.concat(o)}updateOnly(t,n){Array.isArray(t)||(t=[t]);const r=t.map(o=>{const a=this._data.get(o[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:o}}).map(({oldData:o,update:a})=>{const l=o[this._idProp],h=cu(o,a);return this._data.set(l,h),{id:l,oldData:o,updatedData:h}});if(r.length){const o={items:r.map(a=>a.id),oldData:r.map(a=>a.oldData),data:r.map(a=>a.updatedData)};return this._trigger("update",o,n),o.items}else return[]}get(t,n){let r,o,a;Qo(t)?(r=t,a=n):Array.isArray(t)?(o=t,a=n):a=t;const l=a&&a.returnType==="Object"?"Object":"Array",h=a&&a.filter,d=[];let c,u,f;if(r!=null)c=this._data.get(r),c&&h&&!h(c)&&(c=void 0);else if(o!=null)for(let p=0,g=o.length;p<g;p++)c=this._data.get(o[p]),c!=null&&(!h||h(c))&&d.push(c);else{u=[...this._data.keys()];for(let p=0,g=u.length;p<g;p++)f=u[p],c=this._data.get(f),c!=null&&(!h||h(c))&&d.push(c)}if(a&&a.order&&r==null&&this._sort(d,a.order),a&&a.fields){const p=a.fields;if(r!=null&&c!=null)c=this._filterFields(c,p);else for(let g=0,b=d.length;g<b;g++)d[g]=this._filterFields(d[g],p)}if(l=="Object"){const p={};for(let g=0,b=d.length;g<b;g++){const y=d[g],_=y[this._idProp];p[_]=y}return p}else return r!=null?c??null:d}getIds(t){const n=this._data,r=t&&t.filter,o=t&&t.order,a=[...n.keys()],l=[];if(r)if(o){const h=[];for(let d=0,c=a.length;d<c;d++){const u=a[d],f=this._data.get(u);f!=null&&r(f)&&h.push(f)}this._sort(h,o);for(let d=0,c=h.length;d<c;d++)l.push(h[d][this._idProp])}else for(let h=0,d=a.length;h<d;h++){const c=a[h],u=this._data.get(c);u!=null&&r(u)&&l.push(u[this._idProp])}else if(o){const h=[];for(let d=0,c=a.length;d<c;d++){const u=a[d];h.push(n.get(u))}this._sort(h,o);for(let d=0,c=h.length;d<c;d++)l.push(h[d][this._idProp])}else for(let h=0,d=a.length;h<d;h++){const c=a[h],u=n.get(c);u!=null&&l.push(u[this._idProp])}return l}getDataSet(){return this}forEach(t,n){const r=n&&n.filter,a=[...this._data.keys()];if(n&&n.order){const l=this.get(n);for(let h=0,d=l.length;h<d;h++){const c=l[h],u=c[this._idProp];t(c,u)}}else for(let l=0,h=a.length;l<h;l++){const d=a[l],c=this._data.get(d);c!=null&&(!r||r(c))&&t(c,d)}}map(t,n){const r=n&&n.filter,o=[],l=[...this._data.keys()];for(let h=0,d=l.length;h<d;h++){const c=l[h],u=this._data.get(c);u!=null&&(!r||r(u))&&o.push(t(u,c))}return n&&n.order&&this._sort(o,n.order),o}_filterFields(t,n){return t&&(Array.isArray(n)?n:Object.keys(n)).reduce((r,o)=>(r[o]=t[o],r),{})}_sort(t,n){if(typeof n=="string"){const r=n;t.sort((o,a)=>{const l=o[r],h=a[r];return l>h?1:l<h?-1:0})}else if(typeof n=="function")t.sort(n);else throw new TypeError("Order must be a function or a string")}remove(t,n){const r=[],o=[],a=Array.isArray(t)?t:[t];for(let l=0,h=a.length;l<h;l++){const d=this._remove(a[l]);if(d){const c=d[this._idProp];c!=null&&(r.push(c),o.push(d))}}return r.length&&this._trigger("remove",{items:r,oldData:o},n),r}_remove(t){let n;if(Qo(t)?n=t:t&&typeof t=="object"&&(n=t[this._idProp]),n!=null&&this._data.has(n)){const r=this._data.get(n)||null;return this._data.delete(n),--this.length,r}return null}clear(t){const n=[...this._data.keys()],r=[];for(let o=0,a=n.length;o<a;o++)r.push(this._data.get(n[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:r},t),n}max(t){let n=null,r=null;for(const o of this._data.values()){const a=o[t];typeof a=="number"&&(r==null||a>r)&&(n=o,r=a)}return n||null}min(t){let n=null,r=null;for(const o of this._data.values()){const a=o[t];typeof a=="number"&&(r==null||a<r)&&(n=o,r=a)}return n||null}distinct(t){const n=this._data,r=[...n.keys()],o=[];let a=0;for(let l=0,h=r.length;l<h;l++){const d=r[l],u=n.get(d)[t];let f=!1;for(let p=0;p<a;p++)if(o[p]==u){f=!0;break}!f&&u!==void 0&&(o[a]=u,a++)}return o}_addItem(t){const n=ug(t,this._idProp),r=n[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,n),++this.length,r}_updateItem(t){const n=t[this._idProp];if(n==null)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");const r=this._data.get(n);if(!r)throw new Error("Cannot update item: no item with id "+n+" found");return this._data.set(n,{...r,...t}),n}stream(t){if(t){const n=this._data;return new ze({*[Symbol.iterator](){for(const r of t){const o=n.get(r);o!=null&&(yield[r,o])}}})}else return new ze({[Symbol.iterator]:this._data.entries.bind(this._data)})}}class rs extends li{constructor(t,n){super();G(this,"length",0);G(this,"_listener");G(this,"_data");G(this,"_ids",new Set);G(this,"_options");this._options=n||{},this._listener=this._onEvent.bind(this),this.setData(t)}get idProp(){return this.getDataSet().idProp}setData(t){if(this._data){this._data.off&&this._data.off("*",this._listener);const n=this._data.getIds({filter:this._options.filter}),r=this._data.get(n);this._ids.clear(),this.length=0,this._trigger("remove",{items:n,oldData:r})}if(t!=null){this._data=t;const n=this._data.getIds({filter:this._options.filter});for(let r=0,o=n.length;r<o;r++){const a=n[r];this._ids.add(a)}this.length=n.length,this._trigger("add",{items:n})}else this._data=new ht;this._data.on&&this._data.on("*",this._listener)}refresh(){const t=this._data.getIds({filter:this._options.filter}),n=[...this._ids],r={},o=[],a=[],l=[];for(let h=0,d=t.length;h<d;h++){const c=t[h];r[c]=!0,this._ids.has(c)||(o.push(c),this._ids.add(c))}for(let h=0,d=n.length;h<d;h++){const c=n[h],u=this._data.get(c);u==null?console.error("If you see this, report it please."):r[c]||(a.push(c),l.push(u),this._ids.delete(c))}this.length+=o.length-a.length,o.length&&this._trigger("add",{items:o}),a.length&&this._trigger("remove",{items:a,oldData:l})}get(t,n){if(this._data==null)return null;let r=null,o;Qo(t)||Array.isArray(t)?(r=t,o=n):o=t;const a=Object.assign({},this._options,o),l=this._options.filter,h=o&&o.filter;return l&&h&&(a.filter=d=>l(d)&&h(d)),r==null?this._data.get(a):this._data.get(r,a)}getIds(t){if(this._data.length){const n=this._options.filter,r=t!=null?t.filter:null;let o;return r?n?o=a=>n(a)&&r(a):o=r:o=n,this._data.getIds({filter:o,order:t&&t.order})}else return[]}forEach(t,n){if(this._data){const r=this._options.filter,o=n&&n.filter;let a;o?r?a=function(l){return r(l)&&o(l)}:a=o:a=r,this._data.forEach(t,{filter:a,order:n&&n.order})}}map(t,n){if(this._data){const r=this._options.filter,o=n&&n.filter;let a;return o?r?a=l=>r(l)&&o(l):a=o:a=r,this._data.map(t,{filter:a,order:n&&n.order})}else return[]}getDataSet(){return this._data.getDataSet()}stream(t){return this._data.stream(t||{[Symbol.iterator]:this._ids.keys.bind(this._ids)})}dispose(){var r;(r=this._data)!=null&&r.off&&this._data.off("*",this._listener);const t="This data view has already been disposed of.",n={get:()=>{throw new Error(t)},set:()=>{throw new Error(t)},configurable:!1};for(const o of Reflect.ownKeys(rs.prototype))Object.defineProperty(this,o,n)}_onEvent(t,n,r){if(!n||!n.items||!this._data)return;const o=n.items,a=[],l=[],h=[],d=[],c=[],u=[];switch(t){case"add":for(let f=0,p=o.length;f<p;f++){const g=o[f];this.get(g)&&(this._ids.add(g),a.push(g))}break;case"update":for(let f=0,p=o.length;f<p;f++){const g=o[f];this.get(g)?this._ids.has(g)?(l.push(g),c.push(n.data[f]),d.push(n.oldData[f])):(this._ids.add(g),a.push(g)):this._ids.has(g)&&(this._ids.delete(g),h.push(g),u.push(n.oldData[f]))}break;case"remove":for(let f=0,p=o.length;f<p;f++){const g=o[f];this._ids.has(g)&&(this._ids.delete(g),h.push(g),u.push(n.oldData[f]))}break}this.length+=a.length-h.length,a.length&&this._trigger("add",{items:a},r),l.length&&this._trigger("update",{items:l,oldData:d,data:c},r),h.length&&this._trigger("remove",{items:h,oldData:u},r)}}function xu(s,e){return typeof e=="object"&&e!==null&&s===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Cu(s,e){return typeof e=="object"&&e!==null&&s===e.idProp&&typeof e.forEach=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof e.map=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&xu(s,e.getDataSet())}const fg=Object.freeze(Object.defineProperty({__proto__:null,DELETE:is,DataSet:ht,DataStream:ze,DataView:rs,Queue:ns,createNewDataPipeFrom:wu,isDataSetLike:xu,isDataViewLike:Cu},Symbol.toStringTag,{value:"Module"})),pg=dt(fg);var Zo={exports:{}},W={},Jo={exports:{}},ut={};function Tu(){var s={};return s["align-content"]=!1,s["align-items"]=!1,s["align-self"]=!1,s["alignment-adjust"]=!1,s["alignment-baseline"]=!1,s.all=!1,s["anchor-point"]=!1,s.animation=!1,s["animation-delay"]=!1,s["animation-direction"]=!1,s["animation-duration"]=!1,s["animation-fill-mode"]=!1,s["animation-iteration-count"]=!1,s["animation-name"]=!1,s["animation-play-state"]=!1,s["animation-timing-function"]=!1,s.azimuth=!1,s["backface-visibility"]=!1,s.background=!0,s["background-attachment"]=!0,s["background-clip"]=!0,s["background-color"]=!0,s["background-image"]=!0,s["background-origin"]=!0,s["background-position"]=!0,s["background-repeat"]=!0,s["background-size"]=!0,s["baseline-shift"]=!1,s.binding=!1,s.bleed=!1,s["bookmark-label"]=!1,s["bookmark-level"]=!1,s["bookmark-state"]=!1,s.border=!0,s["border-bottom"]=!0,s["border-bottom-color"]=!0,s["border-bottom-left-radius"]=!0,s["border-bottom-right-radius"]=!0,s["border-bottom-style"]=!0,s["border-bottom-width"]=!0,s["border-collapse"]=!0,s["border-color"]=!0,s["border-image"]=!0,s["border-image-outset"]=!0,s["border-image-repeat"]=!0,s["border-image-slice"]=!0,s["border-image-source"]=!0,s["border-image-width"]=!0,s["border-left"]=!0,s["border-left-color"]=!0,s["border-left-style"]=!0,s["border-left-width"]=!0,s["border-radius"]=!0,s["border-right"]=!0,s["border-right-color"]=!0,s["border-right-style"]=!0,s["border-right-width"]=!0,s["border-spacing"]=!0,s["border-style"]=!0,s["border-top"]=!0,s["border-top-color"]=!0,s["border-top-left-radius"]=!0,s["border-top-right-radius"]=!0,s["border-top-style"]=!0,s["border-top-width"]=!0,s["border-width"]=!0,s.bottom=!1,s["box-decoration-break"]=!0,s["box-shadow"]=!0,s["box-sizing"]=!0,s["box-snap"]=!0,s["box-suppress"]=!0,s["break-after"]=!0,s["break-before"]=!0,s["break-inside"]=!0,s["caption-side"]=!1,s.chains=!1,s.clear=!0,s.clip=!1,s["clip-path"]=!1,s["clip-rule"]=!1,s.color=!0,s["color-interpolation-filters"]=!0,s["column-count"]=!1,s["column-fill"]=!1,s["column-gap"]=!1,s["column-rule"]=!1,s["column-rule-color"]=!1,s["column-rule-style"]=!1,s["column-rule-width"]=!1,s["column-span"]=!1,s["column-width"]=!1,s.columns=!1,s.contain=!1,s.content=!1,s["counter-increment"]=!1,s["counter-reset"]=!1,s["counter-set"]=!1,s.crop=!1,s.cue=!1,s["cue-after"]=!1,s["cue-before"]=!1,s.cursor=!1,s.direction=!1,s.display=!0,s["display-inside"]=!0,s["display-list"]=!0,s["display-outside"]=!0,s["dominant-baseline"]=!1,s.elevation=!1,s["empty-cells"]=!1,s.filter=!1,s.flex=!1,s["flex-basis"]=!1,s["flex-direction"]=!1,s["flex-flow"]=!1,s["flex-grow"]=!1,s["flex-shrink"]=!1,s["flex-wrap"]=!1,s.float=!1,s["float-offset"]=!1,s["flood-color"]=!1,s["flood-opacity"]=!1,s["flow-from"]=!1,s["flow-into"]=!1,s.font=!0,s["font-family"]=!0,s["font-feature-settings"]=!0,s["font-kerning"]=!0,s["font-language-override"]=!0,s["font-size"]=!0,s["font-size-adjust"]=!0,s["font-stretch"]=!0,s["font-style"]=!0,s["font-synthesis"]=!0,s["font-variant"]=!0,s["font-variant-alternates"]=!0,s["font-variant-caps"]=!0,s["font-variant-east-asian"]=!0,s["font-variant-ligatures"]=!0,s["font-variant-numeric"]=!0,s["font-variant-position"]=!0,s["font-weight"]=!0,s.grid=!1,s["grid-area"]=!1,s["grid-auto-columns"]=!1,s["grid-auto-flow"]=!1,s["grid-auto-rows"]=!1,s["grid-column"]=!1,s["grid-column-end"]=!1,s["grid-column-start"]=!1,s["grid-row"]=!1,s["grid-row-end"]=!1,s["grid-row-start"]=!1,s["grid-template"]=!1,s["grid-template-areas"]=!1,s["grid-template-columns"]=!1,s["grid-template-rows"]=!1,s["hanging-punctuation"]=!1,s.height=!0,s.hyphens=!1,s.icon=!1,s["image-orientation"]=!1,s["image-resolution"]=!1,s["ime-mode"]=!1,s["initial-letters"]=!1,s["inline-box-align"]=!1,s["justify-content"]=!1,s["justify-items"]=!1,s["justify-self"]=!1,s.left=!1,s["letter-spacing"]=!0,s["lighting-color"]=!0,s["line-box-contain"]=!1,s["line-break"]=!1,s["line-grid"]=!1,s["line-height"]=!1,s["line-snap"]=!1,s["line-stacking"]=!1,s["line-stacking-ruby"]=!1,s["line-stacking-shift"]=!1,s["line-stacking-strategy"]=!1,s["list-style"]=!0,s["list-style-image"]=!0,s["list-style-position"]=!0,s["list-style-type"]=!0,s.margin=!0,s["margin-bottom"]=!0,s["margin-left"]=!0,s["margin-right"]=!0,s["margin-top"]=!0,s["marker-offset"]=!1,s["marker-side"]=!1,s.marks=!1,s.mask=!1,s["mask-box"]=!1,s["mask-box-outset"]=!1,s["mask-box-repeat"]=!1,s["mask-box-slice"]=!1,s["mask-box-source"]=!1,s["mask-box-width"]=!1,s["mask-clip"]=!1,s["mask-image"]=!1,s["mask-origin"]=!1,s["mask-position"]=!1,s["mask-repeat"]=!1,s["mask-size"]=!1,s["mask-source-type"]=!1,s["mask-type"]=!1,s["max-height"]=!0,s["max-lines"]=!1,s["max-width"]=!0,s["min-height"]=!0,s["min-width"]=!0,s["move-to"]=!1,s["nav-down"]=!1,s["nav-index"]=!1,s["nav-left"]=!1,s["nav-right"]=!1,s["nav-up"]=!1,s["object-fit"]=!1,s["object-position"]=!1,s.opacity=!1,s.order=!1,s.orphans=!1,s.outline=!1,s["outline-color"]=!1,s["outline-offset"]=!1,s["outline-style"]=!1,s["outline-width"]=!1,s.overflow=!1,s["overflow-wrap"]=!1,s["overflow-x"]=!1,s["overflow-y"]=!1,s.padding=!0,s["padding-bottom"]=!0,s["padding-left"]=!0,s["padding-right"]=!0,s["padding-top"]=!0,s.page=!1,s["page-break-after"]=!1,s["page-break-before"]=!1,s["page-break-inside"]=!1,s["page-policy"]=!1,s.pause=!1,s["pause-after"]=!1,s["pause-before"]=!1,s.perspective=!1,s["perspective-origin"]=!1,s.pitch=!1,s["pitch-range"]=!1,s["play-during"]=!1,s.position=!1,s["presentation-level"]=!1,s.quotes=!1,s["region-fragment"]=!1,s.resize=!1,s.rest=!1,s["rest-after"]=!1,s["rest-before"]=!1,s.richness=!1,s.right=!1,s.rotation=!1,s["rotation-point"]=!1,s["ruby-align"]=!1,s["ruby-merge"]=!1,s["ruby-position"]=!1,s["shape-image-threshold"]=!1,s["shape-outside"]=!1,s["shape-margin"]=!1,s.size=!1,s.speak=!1,s["speak-as"]=!1,s["speak-header"]=!1,s["speak-numeral"]=!1,s["speak-punctuation"]=!1,s["speech-rate"]=!1,s.stress=!1,s["string-set"]=!1,s["tab-size"]=!1,s["table-layout"]=!1,s["text-align"]=!0,s["text-align-last"]=!0,s["text-combine-upright"]=!0,s["text-decoration"]=!0,s["text-decoration-color"]=!0,s["text-decoration-line"]=!0,s["text-decoration-skip"]=!0,s["text-decoration-style"]=!0,s["text-emphasis"]=!0,s["text-emphasis-color"]=!0,s["text-emphasis-position"]=!0,s["text-emphasis-style"]=!0,s["text-height"]=!0,s["text-indent"]=!0,s["text-justify"]=!0,s["text-orientation"]=!0,s["text-overflow"]=!0,s["text-shadow"]=!0,s["text-space-collapse"]=!0,s["text-transform"]=!0,s["text-underline-position"]=!0,s["text-wrap"]=!0,s.top=!1,s.transform=!1,s["transform-origin"]=!1,s["transform-style"]=!1,s.transition=!1,s["transition-delay"]=!1,s["transition-duration"]=!1,s["transition-property"]=!1,s["transition-timing-function"]=!1,s["unicode-bidi"]=!1,s["vertical-align"]=!1,s.visibility=!1,s["voice-balance"]=!1,s["voice-duration"]=!1,s["voice-family"]=!1,s["voice-pitch"]=!1,s["voice-range"]=!1,s["voice-rate"]=!1,s["voice-stress"]=!1,s["voice-volume"]=!1,s.volume=!1,s["white-space"]=!1,s.widows=!1,s.width=!0,s["will-change"]=!1,s["word-break"]=!0,s["word-spacing"]=!0,s["word-wrap"]=!0,s["wrap-flow"]=!1,s["wrap-through"]=!1,s["writing-mode"]=!1,s["z-index"]=!1,s}function mg(s,e,t){}function gg(s,e,t){}var vg=/javascript\s*\:/img;function bg(s,e){return vg.test(e)?"":e}ut.whiteList=Tu();ut.getDefaultWhiteList=Tu;ut.onAttr=mg;ut.onIgnoreAttr=gg;ut.safeAttrValue=bg;var yg={indexOf:function(s,e){var t,n;if(Array.prototype.indexOf)return s.indexOf(e);for(t=0,n=s.length;t<n;t++)if(s[t]===e)return t;return-1},forEach:function(s,e,t){var n,r;if(Array.prototype.forEach)return s.forEach(e,t);for(n=0,r=s.length;n<r;n++)e.call(t,s[n],n,s)},trim:function(s){return String.prototype.trim?s.trim():s.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(s){return String.prototype.trimRight?s.trimRight():s.replace(/(\s*$)/g,"")}},$t=yg;function _g(s,e){s=$t.trimRight(s),s[s.length-1]!==";"&&(s+=";");var t=s.length,n=!1,r=0,o=0,a="";function l(){if(!n){var c=$t.trim(s.slice(r,o)),u=c.indexOf(":");if(u!==-1){var f=$t.trim(c.slice(0,u)),p=$t.trim(c.slice(u+1));if(f){var g=e(r,a.length,f,p,c);g&&(a+=g+"; ")}}}r=o+1}for(;o<t;o++){var h=s[o];if(h==="/"&&s[o+1]==="*"){var d=s.indexOf("*/",o+2);if(d===-1)break;o=d+1,r=o+1,n=!1}else h==="("?n=!0:h===")"?n=!1:h===";"?n||l():h===`
`&&l()}return $t.trim(a)}var wg=_g,Ri=ut,xg=wg;function vl(s){return s==null}function Cg(s){var e={};for(var t in s)e[t]=s[t];return e}function Su(s){s=Cg(s||{}),s.whiteList=s.whiteList||Ri.whiteList,s.onAttr=s.onAttr||Ri.onAttr,s.onIgnoreAttr=s.onIgnoreAttr||Ri.onIgnoreAttr,s.safeAttrValue=s.safeAttrValue||Ri.safeAttrValue,this.options=s}Su.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var e=this,t=e.options,n=t.whiteList,r=t.onAttr,o=t.onIgnoreAttr,a=t.safeAttrValue,l=xg(s,function(h,d,c,u,f){var p=n[c],g=!1;if(p===!0?g=p:typeof p=="function"?g=p(u):p instanceof RegExp&&(g=p.test(u)),g!==!0&&(g=!1),u=a(c,u),!!u){var b={position:d,sourcePosition:h,source:f,isWhite:g};if(g){var y=r(c,u,b);return vl(y)?c+":"+u:y}else{var y=o(c,u,b);if(!vl(y))return y}}});return l};var Tg=Su;(function(s,e){var t=ut,n=Tg;function r(a,l){var h=new n(l);return h.process(a)}e=s.exports=r,e.FilterCSS=n;for(var o in t)e[o]=t[o];typeof window<"u"&&(window.filterCSS=s.exports)})(Jo,Jo.exports);var Sa=Jo.exports,Da={indexOf:function(s,e){var t,n;if(Array.prototype.indexOf)return s.indexOf(e);for(t=0,n=s.length;t<n;t++)if(s[t]===e)return t;return-1},forEach:function(s,e,t){var n,r;if(Array.prototype.forEach)return s.forEach(e,t);for(n=0,r=s.length;n<r;n++)e.call(t,s[n],n,s)},trim:function(s){return String.prototype.trim?s.trim():s.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(s){var e=/\s|\n|\t/,t=e.exec(s);return t?t.index:-1}},Sg=Sa.FilterCSS,Dg=Sa.getDefaultWhiteList,Vi=Da;function Du(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Eu=new Sg;function Eg(s,e,t){}function kg(s,e,t){}function Og(s,e,t){}function Ag(s,e,t){}function ku(s){return s.replace(Pg,"&lt;").replace(Ig,"&gt;")}function Ng(s,e,t,n){if(t=Ru(t),e==="href"||e==="src"){if(t=Vi.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(e==="background"){if(Mi.lastIndex=0,Mi.test(t))return""}else if(e==="style"){if(bl.lastIndex=0,bl.test(t)||(yl.lastIndex=0,yl.test(t)&&(Mi.lastIndex=0,Mi.test(t))))return"";n!==!1&&(n=n||Eu,t=n.process(t))}return t=Mu(t),t}var Pg=/</g,Ig=/>/g,Rg=/"/g,Mg=/&quot;/g,Fg=/&#([a-zA-Z0-9]*);?/gim,jg=/&colon;?/gim,Lg=/&newline;?/gim,Mi=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,bl=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,yl=/u\s*r\s*l\s*\(.*/gi;function Ou(s){return s.replace(Rg,"&quot;")}function Au(s){return s.replace(Mg,'"')}function Nu(s){return s.replace(Fg,function(t,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function Pu(s){return s.replace(jg,":").replace(Lg," ")}function Iu(s){for(var e="",t=0,n=s.length;t<n;t++)e+=s.charCodeAt(t)<32?" ":s.charAt(t);return Vi.trim(e)}function Ru(s){return s=Au(s),s=Nu(s),s=Pu(s),s=Iu(s),s}function Mu(s){return s=Ou(s),s=ku(s),s}function qg(){return""}function Gg(s,e){typeof e!="function"&&(e=function(){});var t=!Array.isArray(s);function n(a){return t?!0:Vi.indexOf(s,a)!==-1}var r=[],o=!1;return{onIgnoreTag:function(a,l,h){if(n(a))if(h.isClosing){var d="[/removed]",c=h.position+d.length;return r.push([o!==!1?o:h.position,c]),o=!1,d}else return o||(o=h.position),"[removed]";else return e(a,l,h)},remove:function(a){var l="",h=0;return Vi.forEach(r,function(d){l+=a.slice(h,d[0]),h=d[1]}),l+=a.slice(h),l}}}function Hg(s){for(var e="",t=0;t<s.length;){var n=s.indexOf("<!--",t);if(n===-1){e+=s.slice(t);break}e+=s.slice(t,n);var r=s.indexOf("-->",n);if(r===-1)break;t=r+3}return e}function Bg(s){var e=s.split("");return e=e.filter(function(t){var n=t.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),e.join("")}W.whiteList=Du();W.getDefaultWhiteList=Du;W.onTag=Eg;W.onIgnoreTag=kg;W.onTagAttr=Og;W.onIgnoreTagAttr=Ag;W.safeAttrValue=Ng;W.escapeHtml=ku;W.escapeQuote=Ou;W.unescapeQuote=Au;W.escapeHtmlEntities=Nu;W.escapeDangerHtml5Entities=Pu;W.clearNonPrintableCharacter=Iu;W.friendlyAttrValue=Ru;W.escapeAttrValue=Mu;W.onIgnoreTagStripAll=qg;W.StripTagBody=Gg;W.stripCommentTag=Hg;W.stripBlankChar=Bg;W.cssFilter=Eu;W.getDefaultCSSWhiteList=Dg;var os={},Ge=Da;function zg(s){var e=Ge.spaceIndex(s),t;return e===-1?t=s.slice(1,-1):t=s.slice(1,e+1),t=Ge.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function $g(s){return s.slice(0,2)==="</"}function Ug(s,e,t){var n="",r=0,o=!1,a=!1,l=0,h=s.length,d="",c="";e:for(l=0;l<h;l++){var u=s.charAt(l);if(o===!1){if(u==="<"){o=l;continue}}else if(a===!1){if(u==="<"){n+=t(s.slice(r,l)),o=l,r=l;continue}if(u===">"||l===h-1){n+=t(s.slice(r,o)),c=s.slice(o,l+1),d=zg(c),n+=e(o,n.length,d,c,$g(c)),r=l+1,o=!1;continue}if(u==='"'||u==="'")for(var f=1,p=s.charAt(l-f);p.trim()===""||p==="=";){if(p==="="){a=u;continue e}p=s.charAt(l-++f)}}else if(u===a){a=!1;continue}}return r<h&&(n+=t(s.substr(r))),n}var Wg=/[^a-zA-Z0-9\\_:.-]/gim;function Vg(s,e){var t=0,n=0,r=[],o=!1,a=s.length;function l(f,p){if(f=Ge.trim(f),f=f.replace(Wg,"").toLowerCase(),!(f.length<1)){var g=e(f,p||"");g&&r.push(g)}}for(var h=0;h<a;h++){var d=s.charAt(h),c,u;if(o===!1&&d==="="){o=s.slice(t,h),t=h+1,n=s.charAt(t)==='"'||s.charAt(t)==="'"?t:Xg(s,h+1);continue}if(o!==!1&&h===n){if(u=s.indexOf(d,h+1),u===-1)break;c=Ge.trim(s.slice(n+1,u)),l(o,c),o=!1,h=u,t=h+1;continue}if(/\s|\n|\t/.test(d))if(s=s.replace(/\s|\n|\t/g," "),o===!1)if(u=Yg(s,h),u===-1){c=Ge.trim(s.slice(t,h)),l(c),o=!1,t=h+1;continue}else{h=u-1;continue}else if(u=Kg(s,h-1),u===-1){c=Ge.trim(s.slice(t,h)),c=_l(c),l(o,c),o=!1,t=h+1;continue}else continue}return t<s.length&&(o===!1?l(s.slice(t)):l(o,_l(Ge.trim(s.slice(t))))),Ge.trim(r.join(" "))}function Yg(s,e){for(;e<s.length;e++){var t=s[e];if(t!==" ")return t==="="?e:-1}}function Xg(s,e){for(;e<s.length;e++){var t=s[e];if(t!==" ")return t==="'"||t==='"'?e:-1}}function Kg(s,e){for(;e>0;e--){var t=s[e];if(t!==" ")return t==="="?e:-1}}function Qg(s){return s[0]==='"'&&s[s.length-1]==='"'||s[0]==="'"&&s[s.length-1]==="'"}function _l(s){return Qg(s)?s.substr(1,s.length-2):s}os.parseTag=Ug;os.parseAttr=Vg;var Zg=Sa.FilterCSS,ve=W,Fu=os,Jg=Fu.parseTag,ev=Fu.parseAttr,Hi=Da;function Fi(s){return s==null}function tv(s){var e=Hi.spaceIndex(s);if(e===-1)return{html:"",closing:s[s.length-2]==="/"};s=Hi.trim(s.slice(e+1,-1));var t=s[s.length-1]==="/";return t&&(s=Hi.trim(s.slice(0,-1))),{html:s,closing:t}}function iv(s){var e={};for(var t in s)e[t]=s[t];return e}function sv(s){var e={};for(var t in s)Array.isArray(s[t])?e[t.toLowerCase()]=s[t].map(function(n){return n.toLowerCase()}):e[t.toLowerCase()]=s[t];return e}function ju(s){s=iv(s||{}),s.stripIgnoreTag&&(s.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),s.onIgnoreTag=ve.onIgnoreTagStripAll),s.whiteList||s.allowList?s.whiteList=sv(s.whiteList||s.allowList):s.whiteList=ve.whiteList,s.onTag=s.onTag||ve.onTag,s.onTagAttr=s.onTagAttr||ve.onTagAttr,s.onIgnoreTag=s.onIgnoreTag||ve.onIgnoreTag,s.onIgnoreTagAttr=s.onIgnoreTagAttr||ve.onIgnoreTagAttr,s.safeAttrValue=s.safeAttrValue||ve.safeAttrValue,s.escapeHtml=s.escapeHtml||ve.escapeHtml,this.options=s,s.css===!1?this.cssFilter=!1:(s.css=s.css||{},this.cssFilter=new Zg(s.css))}ju.prototype.process=function(s){if(s=s||"",s=s.toString(),!s)return"";var e=this,t=e.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,a=t.onTagAttr,l=t.onIgnoreTagAttr,h=t.safeAttrValue,d=t.escapeHtml,c=e.cssFilter;t.stripBlankChar&&(s=ve.stripBlankChar(s)),t.allowCommentTag||(s=ve.stripCommentTag(s));var u=!1;t.stripIgnoreTagBody&&(u=ve.StripTagBody(t.stripIgnoreTagBody,o),o=u.onIgnoreTag);var f=Jg(s,function(p,g,b,y,_){var w={sourcePosition:p,position:g,isClosing:_,isWhite:Object.prototype.hasOwnProperty.call(n,b)},x=r(b,y,w);if(!Fi(x))return x;if(w.isWhite){if(w.isClosing)return"</"+b+">";var D=tv(y),C=n[b],T=ev(D.html,function(S,N){var B=Hi.indexOf(C,S)!==-1,he=a(b,S,N,B);return Fi(he)?B?(N=h(b,S,N,c),N?S+'="'+N+'"':S):(he=l(b,S,N,B),Fi(he)?void 0:he):he});return y="<"+b,T&&(y+=" "+T),D.closing&&(y+=" /"),y+=">",y}else return x=o(b,y,w),Fi(x)?d(y):x},d);return u&&(f=u.remove(f)),f};var nv=ju;(function(s,e){var t=W,n=os,r=nv;function o(l,h){var d=new r(h);return d.process(l)}e=s.exports=o,e.filterXSS=o,e.FilterXSS=r,function(){for(var l in t)e[l]=t[l];for(var h in n)e[h]=n[h]}(),typeof window<"u"&&(window.filterXSS=s.exports);function a(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}a()&&(self.filterXSS=s.exports)})(Zo,Zo.exports);var rv=Zo.exports;const ov=Zi(rv);var ji=null;function ea(s,e){var t=e||{preventDefault:!1};if(s.Manager){var n=s,r=function(d,c){var u=Object.create(t);return c&&n.assign(u,c),ea(new n(d,u),u)};return n.assign(r,n),r.Manager=function(d,c){var u=Object.create(t);return c&&n.assign(u,c),ea(new n.Manager(d,u),u)},r}var o=Object.create(s),a=s.element;a.hammer||(a.hammer=[]),a.hammer.push(o),s.on("hammer.input",function(d){(t.preventDefault===!0||t.preventDefault===d.pointerType)&&d.preventDefault(),d.isFirst&&(ji=d.target)}),o._handlers={},o.on=function(d,c){return l(d).forEach(function(u){var f=o._handlers[u];f||(o._handlers[u]=f=[],s.on(u,h)),f.push(c)}),o},o.off=function(d,c){return l(d).forEach(function(u){var f=o._handlers[u];f&&(f=c?f.filter(function(p){return p!==c}):[],f.length>0?o._handlers[u]=f:(s.off(u,h),delete o._handlers[u]))}),o},o.emit=function(d,c){ji=c.target,s.emit(d,c)},o.destroy=function(){var d=s.element.hammer,c=d.indexOf(o);c!==-1&&d.splice(c,1),d.length||delete s.element.hammer,o._handlers={},s.destroy()};function l(d){return d.match(/[^ ]+/g)}function h(d){if(d.type!=="hammer.input"){if(d.srcEvent._handled||(d.srcEvent._handled={}),d.srcEvent._handled[d.type])return;d.srcEvent._handled[d.type]=!0}var c=!1;d.stopPropagation=function(){c=!0};var u=d.srcEvent.stopPropagation.bind(d.srcEvent);typeof u=="function"&&(d.srcEvent.stopPropagation=function(){u(),d.stopPropagation()}),d.firstTarget=ji;for(var f=ji;f&&!c;){var p=f.hammer;if(p){for(var g,b=0;b<p.length;b++)if(g=p[b]._handlers[d.type],g)for(var y=0;y<g.length&&!c;y++)g[y](d)}f=f.parentNode}}return o}var Lu={exports:{}};(function(s,e){(function(t,n){s.exports=n()})(ie,function(){function t(n){var r=n&&n.preventDefault||!1,o=n&&n.container||window,a={},l={keydown:{},keyup:{}},h={},d;for(d=97;d<=122;d++)h[String.fromCharCode(d)]={code:65+(d-97),shift:!1};for(d=65;d<=90;d++)h[String.fromCharCode(d)]={code:d,shift:!0};for(d=0;d<=9;d++)h[""+d]={code:48+d,shift:!1};for(d=1;d<=12;d++)h["F"+d]={code:111+d,shift:!1};for(d=0;d<=9;d++)h["num"+d]={code:96+d,shift:!1};h["num*"]={code:106,shift:!1},h["num+"]={code:107,shift:!1},h["num-"]={code:109,shift:!1},h["num/"]={code:111,shift:!1},h["num."]={code:110,shift:!1},h.left={code:37,shift:!1},h.up={code:38,shift:!1},h.right={code:39,shift:!1},h.down={code:40,shift:!1},h.space={code:32,shift:!1},h.enter={code:13,shift:!1},h.shift={code:16,shift:void 0},h.esc={code:27,shift:!1},h.backspace={code:8,shift:!1},h.tab={code:9,shift:!1},h.ctrl={code:17,shift:!1},h.alt={code:18,shift:!1},h.delete={code:46,shift:!1},h.pageup={code:33,shift:!1},h.pagedown={code:34,shift:!1},h["="]={code:187,shift:!1},h["-"]={code:189,shift:!1},h["]"]={code:221,shift:!1},h["["]={code:219,shift:!1};var c=function(p){f(p,"keydown")},u=function(p){f(p,"keyup")},f=function(p,g){if(l[g][p.keyCode]!==void 0){for(var b=l[g][p.keyCode],y=0;y<b.length;y++)(b[y].shift===void 0||b[y].shift==!0&&p.shiftKey==!0||b[y].shift==!1&&p.shiftKey==!1)&&b[y].fn(p);r==!0&&p.preventDefault()}};return a.bind=function(p,g,b){if(b===void 0&&(b="keydown"),h[p]===void 0)throw new Error("unsupported key: "+p);l[b][h[p].code]===void 0&&(l[b][h[p].code]=[]),l[b][h[p].code].push({fn:g,shift:h[p].shift})},a.bindAll=function(p,g){g===void 0&&(g="keydown");for(var b in h)h.hasOwnProperty(b)&&a.bind(b,p,g)},a.getKey=function(p){for(var g in h)if(h.hasOwnProperty(g)){if(p.shiftKey==!0&&h[g].shift==!0&&p.keyCode==h[g].code)return g;if(p.shiftKey==!1&&h[g].shift==!1&&p.keyCode==h[g].code)return g;if(p.keyCode==h[g].code&&g=="shift")return g}return"unknown key, currently not supported"},a.unbind=function(p,g,b){if(b===void 0&&(b="keydown"),h[p]===void 0)throw new Error("unsupported key: "+p);if(g!==void 0){var y=[],_=l[b][h[p].code];if(_!==void 0)for(var w=0;w<_.length;w++)_[w].fn==g&&_[w].shift==h[p].shift||y.push(l[b][h[p].code][w]);l[b][h[p].code]=y}else l[b][h[p].code]=[]},a.reset=function(){l={keydown:{},keyup:{}}},a.destroy=function(){l={keydown:{},keyup:{}},o.removeEventListener("keydown",c,!0),o.removeEventListener("keyup",u,!0)},o.addEventListener("keydown",c,!0),o.addEventListener("keyup",u,!0),a}return t})})(Lu);var av=Lu.exports;const lv=Zi(av);/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 7.7.3
 * @date    2023-10-27T17:57:57.604Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function hv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dv=typeof window<"u"&&window.moment||z,oe=hv(dv);function Ie(s){if(!s)return!1;let e=s.idProp??s._idProp;return e?Cu(e,s):!1}const js=/^\/?Date\((-?\d+)/i,cv=/^\d+$/;function Ea(s,e){let t;if(s!==void 0){if(s===null)return null;if(!e)return s;if(typeof e!="string"&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return!!s;case"number":case"Number":return ce(s)&&!isNaN(Date.parse(s))?z(s).valueOf():Number(s.valueOf());case"string":case"String":return String(s);case"Date":try{return Ea(s,"Moment").toDate()}catch(n){throw n instanceof TypeError?new TypeError("Cannot convert object of type "+Wt(s)+" to type "+e):n}case"Moment":if(Jt(s))return z(s);if(s instanceof Date)return z(s.valueOf());if(z.isMoment(s))return z(s);if(ce(s))return t=js.exec(s),t?z(Number(t[1])):(t=cv.exec(s),t?z(Number(s)):z(s));throw new TypeError("Cannot convert object of type "+Wt(s)+" to type "+e);case"ISODate":if(Jt(s))return new Date(s);if(s instanceof Date)return s.toISOString();if(z.isMoment(s))return s.toDate().toISOString();if(ce(s))return t=js.exec(s),t?new Date(Number(t[1])).toISOString():z(s).format();throw new Error("Cannot convert object of type "+Wt(s)+" to type ISODate");case"ASPDate":if(Jt(s))return"/Date("+s+")/";if(s instanceof Date||z.isMoment(s))return"/Date("+s.valueOf()+")/";if(ce(s)){t=js.exec(s);let n;return t?n=new Date(Number(t[1])).valueOf():n=new Date(s).valueOf(),"/Date("+n+")/"}else throw new Error("Cannot convert object of type "+Wt(s)+" to type ASPDate");default:throw new Error(`Unknown type ${e}`)}}}function Pt(s,e={start:"Date",end:"Date"}){const t=s._idProp,n=new ht({fieldId:t}),r=wu(s).map(o=>Object.keys(o).reduce((a,l)=>(a[l]=Ea(o[l],e[l]),a),{})).to(n);return r.all().start(),{add:(...o)=>s.getDataSet().add(...o),remove:(...o)=>s.getDataSet().remove(...o),update:(...o)=>s.getDataSet().update(...o),updateOnly:(...o)=>s.getDataSet().updateOnly(...o),clear:(...o)=>s.getDataSet().clear(...o),forEach:n.forEach.bind(n),get:n.get.bind(n),getIds:n.getIds.bind(n),off:n.off.bind(n),on:n.on.bind(n),get length(){return n.length},idProp:t,type:e,rawDS:s,coercedDS:n,dispose:()=>r.stop()}}const qu=s=>{const e=new ov.FilterXSS(s);return t=>e.process(t)},uv=s=>s;let ta=qu();const fv=s=>{s&&(s.disabled===!0?(ta=uv,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):s.filterOptions&&(ta=qu(s.filterOptions)))},v={...ng,convert:Ea,setupXSSProtection:fv};Object.defineProperty(v,"xss",{get:function(){return ta}});class Re{constructor(e,t){this.options=null,this.props=null}setOptions(e){e&&v.extend(this.options,e)}redraw(){return!1}destroy(){}_isResized(){const e=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,e}}function as(s,e,t){if(t&&!Array.isArray(t))return as(s,e,[t]);if(e.hiddenDates=[],t&&Array.isArray(t)==!0){for(let n=0;n<t.length;n++)if(t[n].repeat===void 0){const r={};r.start=s(t[n].start).toDate().valueOf(),r.end=s(t[n].end).toDate().valueOf(),e.hiddenDates.push(r)}e.hiddenDates.sort((n,r)=>n.start-r.start)}}function hi(s,e,t){if(t&&!Array.isArray(t))return hi(s,e,[t]);if(t&&e.domProps.centerContainer.width!==void 0){as(s,e,t);const n=s(e.range.start),r=s(e.range.end),a=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let u=0;u<t.length;u++)if(t[u].repeat!==void 0){const f=s(t[u].start);let p=s(t[u].end);if(f._d=="Invalid Date")throw new Error(`Supplied start date is not valid: ${t[u].start}`);if(p._d=="Invalid Date")throw new Error(`Supplied end date is not valid: ${t[u].end}`);if(p-f>=4*a){let b=0;const y=r.clone();switch(t[u].repeat){case"daily":f.day()!=p.day()&&(b=1),f.dayOfYear(n.dayOfYear()),f.year(n.year()),f.subtract(7,"days"),p.dayOfYear(n.dayOfYear()),p.year(n.year()),p.subtract(7-b,"days"),y.add(1,"weeks");break;case"weekly":{const _=p.diff(f,"days"),w=f.day();f.date(n.date()),f.month(n.month()),f.year(n.year()),p=f.clone(),f.day(w),p.day(w),p.add(_,"days"),f.subtract(1,"weeks"),p.subtract(1,"weeks"),y.add(1,"weeks");break}case"monthly":f.month()!=p.month()&&(b=1),f.month(n.month()),f.year(n.year()),f.subtract(1,"months"),p.month(n.month()),p.year(n.year()),p.subtract(1,"months"),p.add(b,"months"),y.add(1,"months");break;case"yearly":f.year()!=p.year()&&(b=1),f.year(n.year()),f.subtract(1,"years"),p.year(n.year()),p.subtract(1,"years"),p.add(b,"years"),y.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[u].repeat);return}for(;f<y;)switch(e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()}),t[u].repeat){case"daily":f.add(1,"days"),p.add(1,"days");break;case"weekly":f.add(1,"weeks"),p.add(1,"weeks");break;case"monthly":f.add(1,"months"),p.add(1,"months");break;case"yearly":f.add(1,"y"),p.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",t[u].repeat);return}e.hiddenDates.push({start:f.valueOf(),end:p.valueOf()})}}Gu(e);const l=ci(e.range.start,e.hiddenDates),h=ci(e.range.end,e.hiddenDates);let d=e.range.start,c=e.range.end;l.hidden==!0&&(d=e.range.startToFront==!0?l.startDate-1:l.endDate+1),h.hidden==!0&&(c=e.range.endToFront==!0?h.startDate-1:h.endDate+1),(l.hidden==!0||h.hidden==!0)&&e.range._applyRange(d,c)}}function Gu(s){const e=s.hiddenDates,t=[];for(var n=0;n<e.length;n++)for(let r=0;r<e.length;r++)n!=r&&e[r].remove!=!0&&e[n].remove!=!0&&(e[r].start>=e[n].start&&e[r].end<=e[n].end?e[r].remove=!0:e[r].start>=e[n].start&&e[r].start<=e[n].end?(e[n].end=e[r].end,e[r].remove=!0):e[r].end>=e[n].start&&e[r].end<=e[n].end&&(e[n].start=e[r].start,e[r].remove=!0));for(n=0;n<e.length;n++)e[n].remove!==!0&&t.push(e[n]);s.hiddenDates=t,s.hiddenDates.sort((r,o)=>r.start-o.start)}function pv(s){for(let e=0;e<s.length;e++)console.log(e,new Date(s[e].start),new Date(s[e].end),s[e].start,s[e].end,s[e].remove)}function Hu(s,e,t){let n=!1;const r=e.current.valueOf();for(let a=0;a<e.hiddenDates.length;a++){const l=e.hiddenDates[a].start;var o=e.hiddenDates[a].end;if(r>=l&&r<o){n=!0;break}}if(n==!0&&r<e._end.valueOf()&&r!=t){const a=s(t),l=s(o);a.year()!=l.year()?e.switchedYear=!0:a.month()!=l.month()?e.switchedMonth=!0:a.dayOfYear()!=l.dayOfYear()&&(e.switchedDay=!0),e.current=l}}function ia(s,e,t){let n;if(s.body.hiddenDates.length==0)return n=s.range.conversion(t),(e.valueOf()-n.offset)*n.scale;{const r=ci(e,s.body.hiddenDates);r.hidden==!0&&(e=r.startDate);const o=kt(s.body.hiddenDates,s.range.start,s.range.end);if(e<s.range.start){n=s.range.conversion(t,o);const a=Bu(s.body.hiddenDates,e,n.offset);return e=s.options.moment(e).toDate().valueOf(),e=e+a,-(n.offset-e.valueOf())*n.scale}else if(e>s.range.end){const a={start:s.range.start,end:e};return e=na(s.options.moment,s.body.hiddenDates,a,e),n=s.range.conversion(t,o),(e.valueOf()-n.offset)*n.scale}else return e=na(s.options.moment,s.body.hiddenDates,s.range,e),n=s.range.conversion(t,o),(e.valueOf()-n.offset)*n.scale}}function sa(s,e,t){if(s.body.hiddenDates.length==0){const n=s.range.conversion(t);return new Date(e/n.scale+n.offset)}else{const n=kt(s.body.hiddenDates,s.range.start,s.range.end),o=(s.range.end-s.range.start-n)*e/t,a=zu(s.body.hiddenDates,s.range,o);return new Date(a+o+s.range.start)}}function kt(s,e,t){let n=0;for(let r=0;r<s.length;r++){const o=s[r].start,a=s[r].end;o>=e&&a<t&&(n+=a-o)}return n}function Bu(s,e,t){let n=0;for(let r=0;r<s.length;r++){const o=s[r].start,a=s[r].end;o>=e&&a<=t&&(n+=a-o)}return n}function na(s,e,t,n){return n=s(n).toDate().valueOf(),n-=di(s,e,t,n),n}function di(s,e,t,n){let r=0;n=s(n).toDate().valueOf();for(let o=0;o<e.length;o++){const a=e[o].start,l=e[o].end;a>=t.start&&l<t.end&&n>=l&&(r+=l-a)}return r}function zu(s,e,t){let n=0,r=0,o=e.start;for(let a=0;a<s.length;a++){const l=s[a].start,h=s[a].end;if(l>=e.start&&h<e.end){if(r+=l-o,o=h,r>=t)break;n+=h-l}}return n}function He(s,e,t,n){const r=ci(e,s);return r.hidden==!0?t<0?n==!0?r.startDate-(r.endDate-e)-1:r.startDate-1:n==!0?r.endDate+(e-r.startDate)+1:r.endDate+1:e}function ci(s,e){for(let r=0;r<e.length;r++){var t=e[r].start,n=e[r].end;if(s>=t&&s<n)return{hidden:!0,startDate:t,endDate:n}}return{hidden:!1,startDate:t,endDate:n}}var mv=Object.freeze({__proto__:null,convertHiddenOptions:as,correctTimeForHidden:na,getAccumulatedHiddenDuration:zu,getHiddenDurationBefore:di,getHiddenDurationBeforeStart:Bu,getHiddenDurationBetween:kt,getIsHidden:ci,printDates:pv,removeDuplicates:Gu,snapAwayFromHidden:He,stepOverHiddenDates:Hu,toScreen:ia,toTime:sa,updateHiddenDates:hi});class bi extends Re{constructor(e,t){super();const n=oe().hours(0).minutes(0).seconds(0).milliseconds(0),r=n.clone().add(-3,"days").valueOf(),o=n.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,t===void 0?(this.start=r,this.end=o):(this.start=t.start||r,this.end=t.end||o),this.rolling=!1,this.body=e,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:oe,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:1e3*60*60*24*365*1e4,rollingMode:{follow:!1,offset:.5}},this.options=v.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(t)}setOptions(e){if(e){const t=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"];v.selectiveExtend(t,this.options,e),e.rollingMode&&e.rollingMode.follow&&this.startRolling(),("start"in e||"end"in e)&&this.setRange(e.start,e.end)}}startRolling(){const e=this;function t(){e.stopRolling(),e.rolling=!0;let n=e.end-e.start;const r=v.convert(new Date,"Date").valueOf(),o=e.options.rollingMode&&e.options.rollingMode.offset||.5,a=r-n*o,l=r+n*(1-o),h={animation:!1};e.setRange(a,l,h),n=1/e.conversion(e.body.domProps.center.width).scale/10,n<30&&(n=30),n>1e3&&(n=1e3),e.body.dom.rollingModeBtn.style.visibility="hidden",e.currentTimeTimer=setTimeout(t,n)}t()}stopRolling(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(e,t,n,r,o){n||(n={}),n.byUser!==!0&&(n.byUser=!1);const a=this,l=e!=null?v.convert(e,"Date").valueOf():null,h=t!=null?v.convert(t,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,n.animation){const c=this.start,u=this.end,f=typeof n.animation=="object"&&"duration"in n.animation?n.animation.duration:500,p=typeof n.animation=="object"&&"easingFunction"in n.animation?n.animation.easingFunction:"easeInOutQuad",g=v.easingFunctions[p];if(!g)throw new Error(`Unknown easing function ${JSON.stringify(p)}. Choose from: ${Object.keys(v.easingFunctions).join(", ")}`);const b=Date.now();let y=!1;const _=()=>{if(!a.props.touch.dragging){const x=Date.now()-b,D=g(x/f),C=x>f,T=C||l===null?l:c+(l-c)*D,S=C||h===null?h:u+(h-u)*D;d=a._applyRange(T,S),hi(a.options.moment,a.body,a.options.hiddenDates),y=y||d;const N={start:new Date(a.start),end:new Date(a.end),byUser:n.byUser,event:n.event};if(o&&o(D,d,C),d&&a.body.emitter.emit("rangechange",N),C){if(y&&(a.body.emitter.emit("rangechanged",N),r))return r()}else a.animationTimer=setTimeout(_,20)}};return _()}else{var d=this._applyRange(l,h);if(hi(this.options.moment,this.body,this.options.hiddenDates),d){const c={start:new Date(this.start),end:new Date(this.end),byUser:n.byUser,event:n.event};if(this.body.emitter.emit("rangechange",c),clearTimeout(a.timeoutID),a.timeoutID=setTimeout(()=>{a.body.emitter.emit("rangechanged",c)},200),r)return r()}}}getMillisecondsPerPixel(){return this.millisecondsPerPixelCache===void 0&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(e,t){let n=e!=null?v.convert(e,"Date").valueOf():this.start,r=t!=null?v.convert(t,"Date").valueOf():this.end;const o=this.options.max!=null?v.convert(this.options.max,"Date").valueOf():null,a=this.options.min!=null?v.convert(this.options.min,"Date").valueOf():null;let l;if(isNaN(n)||n===null)throw new Error(`Invalid start "${e}"`);if(isNaN(r)||r===null)throw new Error(`Invalid end "${t}"`);if(r<n&&(r=n),a!==null&&n<a&&(l=a-n,n+=l,r+=l,o!=null&&r>o&&(r=o)),o!==null&&r>o&&(l=r-o,n-=l,r-=l,a!=null&&n<a&&(n=a)),this.options.zoomMin!==null){let d=parseFloat(this.options.zoomMin);d<0&&(d=0),r-n<d&&(this.end-this.start===d&&n>=this.start-.5&&r<=this.end?(n=this.start,r=this.end):(l=d-(r-n),n-=l/2,r+=l/2))}if(this.options.zoomMax!==null){let d=parseFloat(this.options.zoomMax);d<0&&(d=0),r-n>d&&(this.end-this.start===d&&n<this.start&&r>this.end?(n=this.start,r=this.end):(l=r-n-d,n+=l/2,r-=l/2))}const h=this.start!=n||this.end!=r;return!(n>=this.start&&n<=this.end||r>=this.start&&r<=this.end)&&!(this.start>=n&&this.start<=r||this.end>=n&&this.end<=r)&&this.body.emitter.emit("checkRangedItems"),this.start=n,this.end=r,h}getRange(){return{start:this.start,end:this.end}}conversion(e,t){return bi.conversion(this.start,this.end,e,t)}static conversion(e,t,n,r){return r===void 0&&(r=0),n!=0&&t-e!=0?{offset:e,scale:n/(t-e-r)}:{offset:0,scale:1}}_onDragStart(e){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(e)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(e){if(!e||!this.props.touch.dragging||!this.options.moveable||!this.props.touch.allowDragging)return;const t=this.options.direction;wl(t);let n=t=="horizontal"?e.deltaX:e.deltaY;n-=this.deltaDifference;let r=this.props.touch.end-this.props.touch.start;const o=kt(this.body.hiddenDates,this.start,this.end);r-=o;const a=t=="horizontal"?this.body.domProps.center.width:this.body.domProps.center.height;let l;this.options.rtl?l=n/a*r:l=-n/a*r;const h=this.props.touch.start+l,d=this.props.touch.end+l,c=He(this.body.hiddenDates,h,this.previousDelta-n,!0),u=He(this.body.hiddenDates,d,this.previousDelta-n,!0);if(c!=h||u!=d){this.deltaDifference+=n,this.props.touch.start=c,this.props.touch.end=u,this._onDrag(e);return}this.previousDelta=n,this._applyRange(h,d);const f=new Date(this.start),p=new Date(this.end);this.body.emitter.emit("rangechange",{start:f,end:p,byUser:!0,event:e}),this.body.emitter.emit("panmove")}_onDragEnd(e){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:e}))}_onMouseWheel(e){let t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail?t=-e.detail/3:e.deltaY&&(t=-e.deltaY/3),!(this.options.zoomKey&&!e[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(e)&&t){const n=this.options.zoomFriction||5;let r;t<0?r=1-t/n:r=1/(1+t/n);let o;if(this.rolling){const a=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*a}else{const a=this.getPointer({x:e.clientX,y:e.clientY},this.body.dom.center);o=this._pointerToDate(a)}this.zoom(r,o,t,e),e.preventDefault()}}_onTouch(e){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,v.preventDefault(e)}_onPinch(e){if(!(this.options.zoomable&&this.options.moveable))return;v.preventDefault(e),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(e.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const t=1/(e.scale+this.scaleOffset),n=this.props.touch.centerDate,r=kt(this.body.hiddenDates,this.start,this.end),o=di(this.options.moment,this.body.hiddenDates,this,n),a=r-o;let l=n-o+(this.props.touch.start-(n-o))*t,h=n+a+(this.props.touch.end-(n+a))*t;this.startToFront=1-t<=0,this.endToFront=t-1<=0;const d=He(this.body.hiddenDates,l,1-t,!0),c=He(this.body.hiddenDates,h,t-1,!0);(d!=l||c!=h)&&(this.props.touch.start=d,this.props.touch.end=c,this.scaleOffset=1-e.scale,l=d,h=c);const u={animation:!1,byUser:!0,event:e};this.setRange(l,h,u),this.startToFront=!1,this.endToFront=!0}_isInsideRange(e){const t=e.center?e.center.x:e.clientX,n=this.body.dom.centerContainer.getBoundingClientRect(),r=this.options.rtl?t-n.left:n.right-t,o=this.body.util.toTime(r);return o>=this.start&&o<=this.end}_pointerToDate(e){let t;const n=this.options.direction;if(wl(n),n=="horizontal")return this.body.util.toTime(e.x).valueOf();{const r=this.body.domProps.center.height;return t=this.conversion(r),e.y/t.scale+t.offset}}getPointer(e,t){const n=t.getBoundingClientRect();return this.options.rtl?{x:n.right-e.x,y:e.y-n.top}:{x:e.x-n.left,y:e.y-n.top}}zoom(e,t,n,r){t==null&&(t=(this.start+this.end)/2);const o=kt(this.body.hiddenDates,this.start,this.end),a=di(this.options.moment,this.body.hiddenDates,this,t),l=o-a;let h=t-a+(this.start-(t-a))*e,d=t+l+(this.end-(t+l))*e;this.startToFront=!(n>0),this.endToFront=!(-n>0);const c=He(this.body.hiddenDates,h,n,!0),u=He(this.body.hiddenDates,d,-n,!0);(c!=h||u!=d)&&(h=c,d=u);const f={animation:!1,byUser:!0,event:r};this.setRange(h,d,f),this.startToFront=!1,this.endToFront=!0}move(e){const t=this.end-this.start,n=this.start+t*e,r=this.end+t*e;this.start=n,this.end=r}moveTo(e){const n=(this.start+this.end)/2-e,r=this.start-n,o=this.end-n,a={animation:!1,byUser:!0,event:null};this.setRange(r,o,a)}destroy(){this.stopRolling()}}function wl(s){if(s!="horizontal"&&s!="vertical")throw new TypeError(`Unknown direction "${s}". Choose "horizontal" or "vertical".`)}function gv(){const s=()=>{};return{on:s,off:s,destroy:s,emit:s,get(e){return{set:s}}}}let ra;if(typeof window<"u"){const s=window.Hammer||du;ra=ea(s,{preventDefault:"mouse"})}else ra=()=>gv();var te=ra;function $u(s,e){e.inputHandler=function(t){t.isFirst&&e(t)},s.on("hammer.input",e.inputHandler)}function vv(s,e){return e.inputHandler=function(t){t.isFinal&&e(t)},s.on("hammer.input",e.inputHandler)}function bv(s){const e="pan-y";return s.getTouchAction=function(){return[e]},s}class Ue{constructor(e,t,n,r,o){this.moment=o&&o.moment||oe,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(e,t,n),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(r)?this.hiddenDates=r:r!=null?this.hiddenDates=[r]:this.hiddenDates=[],this.format=Ue.FORMAT}setMoment(e){this.moment=e,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(e){const t=v.deepExtend({},Ue.FORMAT);this.format=v.deepExtend(t,e)}setRange(e,t,n){if(!(e instanceof Date)||!(t instanceof Date))throw"No legal start or end date in method setRange";this._start=e!=null?this.moment(e.valueOf()):Date.now(),this._end=t!=null?this.moment(t.valueOf()):Date.now(),this.autoScale&&this.setMinimumStep(n)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch(this.scale=="week"&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(this.step!=1){let e=this.current.clone();switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year");break}e.isSame(this.current)||(this.current=this.moment(He(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const e=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!==0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(this.current.weekday()!==0)this.current.weekday(0),this.current.add(this.step,"week");else if(this.options.showMajorLabels===!1)this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year");break}if(this.step!=1)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break}this.current.valueOf()==e&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Hu(this.moment,this,e)}getCurrent(){return this.current.clone()}setScale(e){e&&typeof e.scale=="string"&&(this.scale=e.scale,this.step=e.step>0?e.step:1,this.autoScale=!1)}setAutoScale(e){this.autoScale=e}setMinimumStep(e){if(e==null)return;const t=1e3*60*60*24*30*12,n=1e3*60*60*24*30,r=1e3*60*60*24,o=1e3*60*60,a=1e3*60,l=1e3,h=1;t*1e3>e&&(this.scale="year",this.step=1e3),t*500>e&&(this.scale="year",this.step=500),t*100>e&&(this.scale="year",this.step=100),t*50>e&&(this.scale="year",this.step=50),t*10>e&&(this.scale="year",this.step=10),t*5>e&&(this.scale="year",this.step=5),t>e&&(this.scale="year",this.step=1),n*3>e&&(this.scale="month",this.step=3),n>e&&(this.scale="month",this.step=1),r*7>e&&this.options.showWeekScale&&(this.scale="week",this.step=1),r*2>e&&(this.scale="day",this.step=2),r>e&&(this.scale="day",this.step=1),r/2>e&&(this.scale="weekday",this.step=1),o*4>e&&(this.scale="hour",this.step=4),o>e&&(this.scale="hour",this.step=1),a*15>e&&(this.scale="minute",this.step=15),a*10>e&&(this.scale="minute",this.step=10),a*5>e&&(this.scale="minute",this.step=5),a>e&&(this.scale="minute",this.step=1),l*15>e&&(this.scale="second",this.step=15),l*10>e&&(this.scale="second",this.step=10),l*5>e&&(this.scale="second",this.step=5),l>e&&(this.scale="second",this.step=1),h*200>e&&(this.scale="millisecond",this.step=200),h*100>e&&(this.scale="millisecond",this.step=100),h*50>e&&(this.scale="millisecond",this.step=50),h*10>e&&(this.scale="millisecond",this.step=10),h*5>e&&(this.scale="millisecond",this.step=5),h>e&&(this.scale="millisecond",this.step=1)}static snap(e,t,n){const r=oe(e);if(t=="year"){const o=r.year()+Math.round(r.month()/12);r.year(Math.round(o/n)*n),r.month(0),r.date(0),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0)}else if(t=="month")r.date()>15?(r.date(1),r.add(1,"month")):r.date(1),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if(t=="week")r.weekday()>2?(r.weekday(0),r.add(1,"week")):r.weekday(0),r.hours(0),r.minutes(0),r.seconds(0),r.milliseconds(0);else if(t=="day"){switch(n){case 5:case 2:r.hours(Math.round(r.hours()/24)*24);break;default:r.hours(Math.round(r.hours()/12)*12);break}r.minutes(0),r.seconds(0),r.milliseconds(0)}else if(t=="weekday"){switch(n){case 5:case 2:r.hours(Math.round(r.hours()/12)*12);break;default:r.hours(Math.round(r.hours()/6)*6);break}r.minutes(0),r.seconds(0),r.milliseconds(0)}else if(t=="hour"){switch(n){case 4:r.minutes(Math.round(r.minutes()/60)*60);break;default:r.minutes(Math.round(r.minutes()/30)*30);break}r.seconds(0),r.milliseconds(0)}else if(t=="minute"){switch(n){case 15:case 10:r.minutes(Math.round(r.minutes()/5)*5),r.seconds(0);break;case 5:r.seconds(Math.round(r.seconds()/60)*60);break;default:r.seconds(Math.round(r.seconds()/30)*30);break}r.milliseconds(0)}else if(t=="second")switch(n){case 15:case 10:r.seconds(Math.round(r.seconds()/5)*5),r.milliseconds(0);break;case 5:r.milliseconds(Math.round(r.milliseconds()/1e3)*1e3);break;default:r.milliseconds(Math.round(r.milliseconds()/500)*500);break}else if(t=="millisecond"){const o=n>5?n/2:1;r.milliseconds(Math.round(r.milliseconds()/o)*o)}return r}isMajor(){if(this.switchedYear==!0)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedMonth==!0)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(this.switchedDay==!0)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const e=this.moment(this.current);switch(this.scale){case"millisecond":return e.milliseconds()==0;case"second":return e.seconds()==0;case"minute":return e.hours()==0&&e.minutes()==0;case"hour":return e.hours()==0;case"weekday":case"day":return this.options.showWeekScale?e.isoWeekday()==1:e.date()==1;case"week":return e.date()==1;case"month":return e.month()==0;case"year":return!1;default:return!1}}getLabelMinor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.minorLabels=="function")return this.format.minorLabels(e,this.scale,this.step);const t=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(e.date()===1&&e.weekday()!==0)return"";default:return t&&t.length>0?this.moment(e).format(t):""}}getLabelMajor(e){if(e==null&&(e=this.current),e instanceof Date&&(e=this.moment(e)),typeof this.format.majorLabels=="function")return this.format.majorLabels(e,this.scale,this.step);const t=this.format.majorLabels[this.scale];return t&&t.length>0?this.moment(e).format(t):""}getClassName(){const e=this.moment,t=this.moment(this.current),n=t.locale?t.locale("en"):t.lang("en"),r=this.step,o=[];function a(u){return u/r%2==0?" vis-even":" vis-odd"}function l(u){return u.isSame(Date.now(),"day")?" vis-today":u.isSame(e().add(1,"day"),"day")?" vis-tomorrow":u.isSame(e().add(-1,"day"),"day")?" vis-yesterday":""}function h(u){return u.isSame(Date.now(),"week")?" vis-current-week":""}function d(u){return u.isSame(Date.now(),"month")?" vis-current-month":""}function c(u){return u.isSame(Date.now(),"year")?" vis-current-year":""}switch(this.scale){case"millisecond":o.push(l(n)),o.push(a(n.milliseconds()));break;case"second":o.push(l(n)),o.push(a(n.seconds()));break;case"minute":o.push(l(n)),o.push(a(n.minutes()));break;case"hour":o.push(`vis-h${n.hours()}${this.step==4?"-h"+(n.hours()+4):""}`),o.push(l(n)),o.push(a(n.hours()));break;case"weekday":o.push(`vis-${n.format("dddd").toLowerCase()}`),o.push(l(n)),o.push(h(n)),o.push(a(n.date()));break;case"day":o.push(`vis-day${n.date()}`),o.push(`vis-${n.format("MMMM").toLowerCase()}`),o.push(l(n)),o.push(d(n)),o.push(this.step<=2?l(n):""),o.push(this.step<=2?`vis-${n.format("dddd").toLowerCase()}`:""),o.push(a(n.date()-1));break;case"week":o.push(`vis-week${n.format("w")}`),o.push(h(n)),o.push(a(n.week()));break;case"month":o.push(`vis-${n.format("MMMM").toLowerCase()}`),o.push(d(n)),o.push(a(n.month()));break;case"year":o.push(`vis-year${n.year()}`),o.push(c(n)),o.push(a(n.year()));break}return o.filter(String).join(" ")}}Ue.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class ui extends Re{constructor(e,t){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:v.extend({},Ue.FORMAT),moment:oe,timeAxis:null},this.options=v.extend({},this.defaultOptions),this.body=e,this._create(),this.setOptions(t)}setOptions(e){e&&(v.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,e),v.selectiveDeepExtend(["format"],this.options,e),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.axis=e.orientation:typeof e.orientation=="object"&&"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis)),"locale"in e&&(typeof oe.locale=="function"?oe.locale(e.locale):oe.lang(e.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const e=this.props,t=this.dom.foreground,n=this.dom.background,r=this.options.orientation.axis=="top"?this.body.dom.top:this.body.dom.bottom,o=t.parentNode!==r;this._calculateCharSize();const a=this.options.showMinorLabels&&this.options.orientation.axis!=="none",l=this.options.showMajorLabels&&this.options.orientation.axis!=="none";e.minorLabelHeight=a?e.minorCharHeight:0,e.majorLabelHeight=l?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=t.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-(this.options.orientation.axis=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;const h=t.nextSibling,d=n.nextSibling;return t.parentNode&&t.parentNode.removeChild(t),n.parentNode&&n.parentNode.removeChild(n),t.style.height=`${this.props.height}px`,this._repaintLabels(),h?r.insertBefore(t,h):r.appendChild(t),d?this.body.dom.backgroundVertical.insertBefore(n,d):this.body.dom.backgroundVertical.appendChild(n),this._isResized()||o}_repaintLabels(){const e=this.options.orientation.axis,t=v.convert(this.body.range.start,"Number"),n=v.convert(this.body.range.end,"Number"),r=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=r-di(this.options.moment,this.body.hiddenDates,this.body.range,r);o-=this.body.util.toTime(0).valueOf();const a=new Ue(new Date(t),new Date(n),o,this.body.hiddenDates,this.options);a.setMoment(this.options.moment),this.options.format&&a.setFormat(this.options.format),this.options.timeAxis&&a.setScale(this.options.timeAxis),this.step=a;const l=this.dom;l.redundant.lines=l.lines,l.redundant.majorTexts=l.majorTexts,l.redundant.minorTexts=l.minorTexts,l.lines=[],l.majorTexts=[],l.minorTexts=[];let h,d,c,u,f,p,g=0,b,y,_,w=0;const x=1e3;let D;for(a.start(),d=a.getCurrent(),u=this.body.util.toScreen(d);a.hasNext()&&w<x;){switch(w++,f=a.isMajor(),D=a.getClassName(),h=d,c=u,a.next(),d=a.getCurrent(),u=this.body.util.toScreen(d),b=g,g=u-c,a.scale){case"week":p=!0;break;default:p=g>=b*.4;break}if(this.options.showMinorLabels&&p){var C=this._repaintMinorText(c,a.getLabelMinor(h),e,D);C.style.width=`${g}px`}f&&this.options.showMajorLabels?(c>0&&(_==null&&(_=c),C=this._repaintMajorText(c,a.getLabelMajor(h),e,D)),y=this._repaintMajorLine(c,g,e,D)):p?y=this._repaintMinorLine(c,g,e,D):y&&(y.style.width=`${parseInt(y.style.width)+g}px`)}if(w===x&&!xl&&(console.warn(`Something is wrong with the Timeline scale. Limited drawing of grid lines to ${x} lines.`),xl=!0),this.options.showMajorLabels){const T=this.body.util.toTime(0),S=a.getLabelMajor(T),N=S.length*(this.props.majorCharWidth||10)+10;(_==null||N<_)&&this._repaintMajorText(0,S,e,D)}v.forEach(this.dom.redundant,T=>{for(;T.length;){const S=T.pop();S&&S.parentNode&&S.parentNode.removeChild(S)}})}_repaintMinorText(e,t,n,r){let o=this.dom.redundant.minorTexts.shift();if(!o){const l=document.createTextNode("");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=v.xss(t);let a=n=="top"?this.props.majorLabelHeight:0;return this._setXY(o,e,a),o.className=`vis-text vis-minor ${r}`,o}_repaintMajorText(e,t,n,r){let o=this.dom.redundant.majorTexts.shift();if(!o){const l=document.createElement("div");o=document.createElement("div"),o.appendChild(l),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=v.xss(t),o.className=`vis-text vis-major ${r}`;let a=n=="top"?0:this.props.minorLabelHeight;return this._setXY(o,e,a),this.dom.majorTexts.push(o),o}_setXY(e,t,n){const r=this.options.rtl?t*-1:t;e.style.transform=`translate(${r}px, ${n}px)`}_repaintMinorLine(e,t,n,r){let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width=`${t}px`,o.style.height=`${a.minorLineHeight}px`;let l=n=="top"?a.majorLabelHeight:this.body.domProps.top.height,h=e-a.minorLineWidth/2;return this._setXY(o,h,l),o.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-minor ${r}`,o}_repaintMajorLine(e,t,n,r){let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const a=this.props;o.style.width=`${t}px`,o.style.height=`${a.majorLineHeight}px`;let l=n=="top"?0:this.body.domProps.top.height,h=e-a.majorLineWidth/2;return this._setXY(o,h,l),o.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-major ${r}`,o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var xl=!1;function pe(s){this.active=!1,this.dom={container:s},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=te(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,t=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];t.forEach(function(n){e.hammer.on(n,function(r){r.stopPropagation()})}),document&&document.body&&(this.onClick=function(n){yv(n.target,s)||e.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=lv(),this.escListener=this.deactivate.bind(this)}ca(pe.prototype);pe.current=null;pe.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null};pe.prototype.activate=function(){pe.current&&pe.current.deactivate(),pe.current=this,this.active=!0,this.dom.overlay.style.display="none",v.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)};pe.prototype.deactivate=function(){pe.current===this&&(pe.current=null),this.active=!1,this.dom.overlay.style.display="",v.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")};pe.prototype._onTapOverlay=function(s){this.activate(),s.stopPropagation()};function yv(s,e){for(;s;){if(s===e)return!0;s=s.parentNode}return!1}const ka={current:"current",time:"time",deleteSelected:"Delete selected"},_v=ka,wv=ka,Oa={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},xv=Oa,Cv=Oa,Aa={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},Tv=Aa,Sv=Aa,Uu={current:"Aktuelle",time:"Zeit",deleteSelected:"Lösche Auswahl"},Dv=Uu,ls={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},Ev=ls,kv=ls,Ov=ls,Wu={current:"corriente",time:"hora",deleteSelected:"Eliminar selección"},Av=Wu,Vu={current:"поточний",time:"час",deleteSelected:"Видалити обране"},Nv=Vu,Yu={current:"текущее",time:"время",deleteSelected:"Удалить выбранное"},Pv=Yu,Xu={current:"aktualny",time:"czas",deleteSelected:"Usuń wybrane"},Iv=Xu,Na={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},Rv=Na,Mv=Na,Ku={current:"現在",time:"時刻",deleteSelected:"選択されたものを削除"},Fv=Ku,Qu={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},jv=Qu,hs={current:"nåværende",time:"tid",deleteSelected:"Slett valgte"},Lv=hs,qv=hs,Gv=hs,Zu={current:"einamas",time:"laikas",deleteSelected:"Pašalinti pasirinktą"},Hv=Zu,It={en:ka,en_EN:_v,en_US:wv,it:Oa,it_IT:xv,it_CH:Cv,nl:Aa,nl_NL:Tv,nl_BE:Sv,de:Uu,de_DE:Dv,fr:ls,fr_FR:Ev,fr_CA:kv,fr_BE:Ov,es:Wu,es_ES:Av,uk:Vu,uk_UA:Nv,ru:Yu,ru_RU:Pv,pl:Xu,pl_PL:Iv,pt:Na,pt_BR:Rv,pt_PT:Mv,ja:Ku,ja_JP:Fv,lt:Zu,lt_LT:Hv,sv:Qu,sv_SE:jv,nb:hs,nn:qv,nb_NO:Lv,nn_NO:Gv};class ds extends Re{constructor(e,t){super(),this.body=e,this.defaultOptions={moment:oe,locales:It,locale:"en",id:void 0,title:void 0},this.options=v.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=v.extend({},It,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(r=>{this.options.locales[r]=v.extend({},n,this.options.locales[r])}),t&&t.time!=null?this.customTime=t.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(e){e&&v.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,e)}_create(){const e=document.createElement("div");e["custom-time"]=this,e.className=`vis-custom-time ${this.options.id||""}`,e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e;const t=document.createElement("div");t.style.position="relative",t.style.top="0px",this.options.rtl?t.style.right="-10px":t.style.left="-10px",t.style.height="100%",t.style.width="20px";function n(r){this.body.range._onMouseWheel(r)}t.addEventListener?(t.addEventListener("mousewheel",n.bind(this),!1),t.addEventListener("DOMMouseScroll",n.bind(this),!1)):t.attachEvent("onmousewheel",n.bind(this)),e.appendChild(t),this.hammer=new te(t),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:te.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar));const t=this.body.util.toScreen(this.customTime);let n=this.options.locales[this.options.locale];n||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),n=this.options.locales.en);let r=this.options.title;return r===void 0?(r=`${n.time}: ${this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")}`,r=r.charAt(0).toUpperCase()+r.substring(1)):typeof r=="function"&&(r=r.call(this,this.customTime)),this.options.rtl?this.bar.style.right=`${t}px`:this.bar.style.left=`${t}px`,this.bar.title=r,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(e){this.customTime=v.convert(e,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(e,t){this.marker&&this.bar.removeChild(this.marker),this.marker=document.createElement("div"),this.marker.className="vis-custom-time-marker",this.marker.innerHTML=v.xss(e),this.marker.style.position="absolute",t&&(this.marker.setAttribute("contenteditable","true"),this.marker.addEventListener("pointerdown",function(){this.marker.focus()}),this.marker.addEventListener("input",this._onMarkerChange.bind(this)),this.marker.title=e,this.marker.addEventListener("blur",(function(n){this.title!=n.target.innerHTML&&(this._onMarkerChanged(n),this.title=n.target.innerHTML)}).bind(this))),this.bar.appendChild(this.marker)}setCustomTitle(e){this.options.title=e}_onDragStart(e){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,e.stopPropagation()}_onDrag(e){if(!this.eventParams.dragging)return;let t=this.options.rtl?-1*e.deltaX:e.deltaX;const n=this.body.util.toScreen(this.eventParams.customTime)+t,r=this.body.util.toTime(n),o=this.body.util.getScale(),a=this.body.util.getStep(),l=this.options.snap,h=l?l(r,o,a):r;this.setCustomTime(h),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation()}_onDragEnd(e){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:e}),e.stopPropagation())}_onMarkerChange(e){this.body.emitter.emit("markerchange",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}_onMarkerChanged(e){this.body.emitter.emit("markerchanged",{id:this.options.id,title:e.target.innerHTML,event:e}),e.stopPropagation()}static customTimeFromTarget(e){let t=e.target;for(;t;){if(t.hasOwnProperty("custom-time"))return t["custom-time"];t=t.parentNode}return null}}class nt{_create(e){this.dom={},this.dom.container=e,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",()=>{this.initialDrawDone===!0&&this._redraw()}),this.on("rangechanged",()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));const t=this;this._origRedraw=this._redraw.bind(this),this._redraw=v.throttle(this._origRedraw),this.on("_change",u=>{t.itemSet&&t.itemSet.initialItemSetDrawn&&u&&u.queue==!0?t._redraw():t._origRedraw()}),this.hammer=new te(this.dom.root);const n=this.hammer.get("pinch").set({enable:!0});n&&bv(n),this.hammer.get("pan").set({threshold:5,direction:te.DIRECTION_ALL}),this.timelineListeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(u=>{const f=p=>{t.isActive()&&t.emit(u,p)};t.hammer.on(u,f),t.timelineListeners[u]=f}),$u(this.hammer,u=>{t.emit("touch",u)}),vv(this.hammer,u=>{t.emit("release",u)});function o(u){this.isActive()&&this.emit("mousewheel",u);let g=0,b=0;if("detail"in u&&(b=u.detail*-1),"wheelDelta"in u&&(b=u.wheelDelta),"wheelDeltaY"in u&&(b=u.wheelDeltaY),"wheelDeltaX"in u&&(g=u.wheelDeltaX*-1),"axis"in u&&u.axis===u.HORIZONTAL_AXIS&&(g=b*-1,b=0),"deltaY"in u&&(b=u.deltaY*-1),"deltaX"in u&&(g=u.deltaX),u.deltaMode&&(u.deltaMode===1?(g*=40,b*=40):(g*=40,b*=800)),this.options.preferZoom){if(!this.options.zoomKey||u[this.options.zoomKey])return}else if(this.options.zoomKey&&u[this.options.zoomKey])return;if(!(!this.options.verticalScroll&&!this.options.horizontalScroll)){if(this.options.verticalScroll&&Math.abs(b)>=Math.abs(g)){const y=this.props.scrollTop,_=y+b;this.isActive()&&this._setScrollTop(_)!==y&&(this._redraw(),this.emit("scroll",u),u.preventDefault())}else if(this.options.horizontalScroll){const _=(Math.abs(g)>=Math.abs(b)?g:b)/120*(this.range.end-this.range.start)/20,w=this.range.start+_,x=this.range.end+_,D={animation:!1,byUser:!0,event:u};this.range.setRange(w,x,D),u.preventDefault()}}}const a="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(a,o.bind(this),!1),this.dom.top.addEventListener(a,o.bind(this),!1),this.dom.bottom.addEventListener(a,o.bind(this),!1);function l(u){if(t.options.verticalScroll&&(u.preventDefault(),t.isActive())){const f=-u.target.scrollTop;t._setScrollTop(f),t._redraw(),t.emit("scrollSide",u)}}this.dom.left.parentNode.addEventListener("scroll",l.bind(this)),this.dom.right.parentNode.addEventListener("scroll",l.bind(this));let h=!1;function d(u){if(u.preventDefault&&(t.emit("dragover",t.getEventProperties(u)),u.preventDefault()),u.target.className.indexOf("timeline")>-1&&!h)return u.dataTransfer.dropEffect="move",h=!0,!1}function c(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation();try{var f=JSON.parse(u.dataTransfer.getData("text"));if(!f||!f.content)return}catch{return!1}return h=!1,u.center={x:u.clientX,y:u.clientY},f.target!=="item"?t.itemSet._onAddItem(u):t.itemSet._onDropObjectOnItem(u),t.emit("drop",t.getEventProperties(u)),!1}if(this.dom.center.addEventListener("dragover",d.bind(this),!1),this.dom.center.addEventListener("drop",c.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!e)throw new Error("No container provided");e.appendChild(this.dom.root),e.appendChild(this.dom.loadingScreen)}setOptions(e){if(e){const t=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"];if(v.selectiveExtend(t,this.options,e),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),typeof this.options.orientation!="object"&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation={item:e.orientation,axis:e.orientation}:typeof e.orientation=="object"&&("item"in e.orientation&&(this.options.orientation.item=e.orientation.item),"axis"in e.orientation&&(this.options.orientation.axis=e.orientation.axis))),this.options.orientation.axis==="both"){if(!this.timeAxis2){const n=this.timeAxis2=new ui(this.body,this.options);n.setOptions=r=>{const o=r?v.extend({},r):{};o.orientation="top",ui.prototype.setOptions.call(n,o)},this.components.push(n)}}else if(this.timeAxis2){const n=this.components.indexOf(this.timeAxis2);n!==-1&&this.components.splice(n,1),this.timeAxis2.destroy(),this.timeAxis2=null}typeof e.drawPoints=="function"&&(e.drawPoints={onRender:e.drawPoints}),"hiddenDates"in this.options&&as(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in e&&(e.clickToUse?this.activator||(this.activator=new pe(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach(t=>t.setOptions(e)),"configure"in e){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(e.configure);const t=v.deepExtend({},this.options);this.components.forEach(n=>{v.deepExtend(t,n.options)}),this.configurator.setModuleOptions({global:t})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const e in this.timelineListeners)this.timelineListeners.hasOwnProperty(e)&&delete this.timelineListeners[e];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,this.components.forEach(e=>e.destroy()),this.body=null}setCustomTime(e,t){const n=this.customTimes.filter(r=>t===r.options.id);if(n.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);n.length>0&&n[0].setCustomTime(e)}getCustomTime(e){const t=this.customTimes.filter(n=>n.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);return t[0].getCustomTime()}setCustomTimeMarker(e,t,n){const r=this.customTimes.filter(o=>o.options.id===t);if(r.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);r.length>0&&r[0].setCustomMarker(e,n)}setCustomTimeTitle(e,t){const n=this.customTimes.filter(r=>r.options.id===t);if(n.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);if(n.length>0)return n[0].setCustomTitle(e)}getEventProperties(e){return{event:e}}addCustomTime(e,t){const n=e!==void 0?v.convert(e,"Date"):new Date;if(this.customTimes.some(a=>a.options.id===t))throw new Error(`A custom time with id ${JSON.stringify(t)} already exists`);const o=new ds(this.body,v.extend({},this.options,{time:n,id:t,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),t}removeCustomTime(e){const t=this.customTimes.filter(n=>n.options.id===e);if(t.length===0)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);t.forEach(n=>{this.customTimes.splice(this.customTimes.indexOf(n),1),this.components.splice(this.components.indexOf(n),1),n.destroy()})}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(e){return this.time=e,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(e,t){const n=this.getDataRange();if(n.min===null&&n.max===null)return;const r=n.max-n.min,o=new Date(n.min.valueOf()-r*.01),a=new Date(n.max.valueOf()+r*.01),l=e&&e.animation!==void 0?e.animation:!0;this.range.setRange(o,a,{animation:l},t)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(e,t,n,r){typeof arguments[2]=="function"&&(r=arguments[2],n={});let o,a;arguments.length==1?(a=arguments[0],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o})):arguments.length==2&&typeof arguments[1]=="function"?(a=arguments[0],r=arguments[1],o=a.animation!==void 0?a.animation:!0,this.range.setRange(a.start,a.end,{animation:o},r)):(o=n&&n.animation!==void 0?n.animation:!0,this.range.setRange(e,t,{animation:o},r))}moveTo(e,t,n){typeof arguments[1]=="function"&&(n=arguments[1],t={});const r=this.range.end-this.range.start,o=v.convert(e,"Date").valueOf(),a=o-r/2,l=o+r/2,h=t&&t.animation!==void 0?t.animation:!0;this.range.setRange(a,l,{animation:h},n)}getWindow(){const e=this.range.getRange();return{start:new Date(e.start),end:new Date(e.end)}}zoomIn(e,t,n){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(n=arguments[1],t={});const r=this.getWindow(),o=r.start.valueOf(),a=r.end.valueOf(),l=a-o,h=l/(1+e),d=(l-h)/2,c=o+d,u=a-d;this.setWindow(c,u,t,n)}zoomOut(e,t,n){if(!e||e<0||e>1)return;typeof arguments[1]=="function"&&(n=arguments[1],t={});const r=this.getWindow(),o=r.start.valueOf(),a=r.end.valueOf(),l=a-o,h=o-l*e/2,d=a+l*e/2;this.setWindow(h,d,t,n)}redraw(){this._redraw()}_redraw(){this.redrawCount++;const e=this.dom;if(!e||!e.container||e.root.offsetWidth==0)return;let t=!1;const n=this.options,r=this.props;hi(this.options.moment,this.body,this.options.hiddenDates),n.orientation=="top"?(v.addClassName(e.root,"vis-top"),v.removeClassName(e.root,"vis-bottom")):(v.removeClassName(e.root,"vis-top"),v.addClassName(e.root,"vis-bottom")),n.rtl?(v.addClassName(e.root,"vis-rtl"),v.removeClassName(e.root,"vis-ltr")):(v.addClassName(e.root,"vis-ltr"),v.removeClassName(e.root,"vis-rtl")),e.root.style.maxHeight=v.option.asSize(n.maxHeight,""),e.root.style.minHeight=v.option.asSize(n.minHeight,""),e.root.style.width=v.option.asSize(n.width,"");const o=e.root.offsetWidth;r.border.left=1,r.border.right=1,r.border.top=1,r.border.bottom=1,r.center.height=e.center.offsetHeight,r.left.height=e.left.offsetHeight,r.right.height=e.right.offsetHeight,r.top.height=e.top.clientHeight||-r.border.top,r.bottom.height=Math.round(e.bottom.getBoundingClientRect().height)||e.bottom.clientHeight||-r.border.bottom;const a=Math.max(r.left.height,r.center.height,r.right.height),l=r.top.height+a+r.bottom.height+r.border.top+r.border.bottom;e.root.style.height=v.option.asSize(n.height,`${l}px`),r.root.height=e.root.offsetHeight,r.background.height=r.root.height;const h=r.root.height-r.top.height-r.bottom.height;r.centerContainer.height=h,r.leftContainer.height=h,r.rightContainer.height=r.leftContainer.height,r.root.width=o,r.background.width=r.root.width,this.initialDrawDone||(r.scrollbarWidth=v.getScrollBarWidth());const d=e.leftContainer.clientWidth,c=e.rightContainer.clientWidth;n.verticalScroll?n.rtl?(r.left.width=d||-r.border.left,r.right.width=c+r.scrollbarWidth||-r.border.right):(r.left.width=d+r.scrollbarWidth||-r.border.left,r.right.width=c||-r.border.right):(r.left.width=d||-r.border.left,r.right.width=c||-r.border.right),this._setDOM();let u=this._updateScrollTop();n.orientation.item!="top"&&(u+=Math.max(r.centerContainer.height-r.center.height-r.border.top-r.border.bottom,0)),e.center.style.transform=`translateY(${u}px)`;const f=r.scrollTop==0?"hidden":"",p=r.scrollTop==r.scrollTopMin?"hidden":"";e.shadowTop.style.visibility=f,e.shadowBottom.style.visibility=p,e.shadowTopLeft.style.visibility=f,e.shadowBottomLeft.style.visibility=p,e.shadowTopRight.style.visibility=f,e.shadowBottomRight.style.visibility=p,n.verticalScroll&&(e.rightContainer.className="vis-panel vis-right vis-vertical-scroll",e.leftContainer.className="vis-panel vis-left vis-vertical-scroll",e.shadowTopRight.style.visibility="hidden",e.shadowBottomRight.style.visibility="hidden",e.shadowTopLeft.style.visibility="hidden",e.shadowBottomLeft.style.visibility="hidden",e.left.style.top="0px",e.right.style.top="0px"),(!n.verticalScroll||r.center.height<r.centerContainer.height)&&(e.left.style.top=`${u}px`,e.right.style.top=`${u}px`,e.rightContainer.className=e.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),e.leftContainer.className=e.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),r.left.width=d||-r.border.left,r.right.width=c||-r.border.right,this._setDOM());const g=r.center.height>r.centerContainer.height;this.hammer.get("pan").set({direction:g?te.DIRECTION_ALL:te.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.components.forEach(y=>{t=y.redraw()||t});const b=5;if(t)if(this.redrawCount<b){this.body.emitter.emit("_change");return}else console.log("WARNING: infinite loop in redraw?");else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const e=this.props,t=this.dom;e.leftContainer.width=e.left.width,e.rightContainer.width=e.right.width;const n=e.root.width-e.left.width-e.right.width;e.center.width=n,e.centerContainer.width=n,e.top.width=n,e.bottom.width=n,t.background.style.height=`${e.background.height}px`,t.backgroundVertical.style.height=`${e.background.height}px`,t.backgroundHorizontal.style.height=`${e.centerContainer.height}px`,t.centerContainer.style.height=`${e.centerContainer.height}px`,t.leftContainer.style.height=`${e.leftContainer.height}px`,t.rightContainer.style.height=`${e.rightContainer.height}px`,t.background.style.width=`${e.background.width}px`,t.backgroundVertical.style.width=`${e.centerContainer.width}px`,t.backgroundHorizontal.style.width=`${e.background.width}px`,t.centerContainer.style.width=`${e.center.width}px`,t.top.style.width=`${e.top.width}px`,t.bottom.style.width=`${e.bottom.width}px`,t.background.style.left="0",t.background.style.top="0",t.backgroundVertical.style.left=`${e.left.width+e.border.left}px`,t.backgroundVertical.style.top="0",t.backgroundHorizontal.style.left="0",t.backgroundHorizontal.style.top=`${e.top.height}px`,t.centerContainer.style.left=`${e.left.width}px`,t.centerContainer.style.top=`${e.top.height}px`,t.leftContainer.style.left="0",t.leftContainer.style.top=`${e.top.height}px`,t.rightContainer.style.left=`${e.left.width+e.center.width}px`,t.rightContainer.style.top=`${e.top.height}px`,t.top.style.left=`${e.left.width}px`,t.top.style.top="0",t.bottom.style.left=`${e.left.width}px`,t.bottom.style.top=`${e.top.height+e.centerContainer.height}px`,t.center.style.left="0",t.left.style.left="0",t.right.style.left="0"}setCurrentTime(e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(e)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(e){return sa(this,e,this.props.center.width)}_toGlobalTime(e){return sa(this,e,this.props.root.width)}_toScreen(e){return ia(this,e,this.props.center.width)}_toGlobalScreen(e){return ia(this,e,this.props.root.width)}_initAutoResize(){this.options.autoResize==!0?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const e=this;this._stopAutoResize(),this._onResize=()=>{if(e.options.autoResize!=!0){e._stopAutoResize();return}if(e.dom.root){const t=e.dom.root.offsetHeight,n=e.dom.root.offsetWidth;(n!=e.props.lastWidth||t!=e.props.lastHeight)&&(e.props.lastWidth=n,e.props.lastHeight=t,e.props.scrollbarWidth=v.getScrollBarWidth(),e.body.emitter.emit("_change"))}},window.addEventListener("resize",this._onResize),e.dom.root&&(e.props.lastWidth=e.dom.root.offsetWidth,e.props.lastHeight=e.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(window.removeEventListener("resize",this._onResize),this._onResize=null)}_onTouch(e){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(e){this.touch.allowDragging=!1}_onDrag(e){if(!e||!this.touch.allowDragging)return;const t=e.deltaY,n=this._getScrollTop(),r=this._setScrollTop(this.touch.initialScrollTop+t);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),r!=n&&this.emit("verticalDrag")}_setScrollTop(e){return this.props.scrollTop=e,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const e=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return e!=this.props.scrollTopMin&&(this.options.orientation.item!="top"&&(this.props.scrollTop+=e-this.props.scrollTopMin),this.props.scrollTopMin=e),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<e&&(this.props.scrollTop=e),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}ca(nt.prototype);class Pa extends Re{constructor(e,t){super(),this.body=e,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:oe,locales:It,locale:"en"},this.options=v.extend({},this.defaultOptions),this.setOptions(t),this.options.locales=v.extend({},It,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(r=>{this.options.locales[r]=v.extend({},n,this.options.locales[r])}),this.offset=0,this._create()}_create(){const e=document.createElement("div");e.className="vis-current-time",e.style.position="absolute",e.style.top="0px",e.style.height="100%",this.bar=e}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(e){e&&v.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,e)}redraw(){if(this.options.showCurrentTime){const e=this.body.dom.backgroundVertical;this.bar.parentNode!=e&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),e.appendChild(this.bar),this.start());let t=this.options.moment(Date.now()+this.offset);this.options.alignCurrentTime&&(t=t.startOf(this.options.alignCurrentTime));const n=this.body.util.toScreen(t);let r=this.options.locales[this.options.locale];r||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),r=this.options.locales.en);let o=`${r.current} ${r.time}: ${t.format("dddd, MMMM Do YYYY, H:mm:ss")}`;o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.transform=`translateX(${n*-1}px)`:this.bar.style.transform=`translateX(${n}px)`,this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const e=this;function t(){e.stop();let r=1/e.body.range.conversion(e.body.domProps.center.width).scale/10;r<30&&(r=30),r>1e3&&(r=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,r)}t()}stop(){this.currentTimeTimer!==void 0&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(e){const t=v.convert(e,"Date").valueOf(),n=Date.now();this.offset=t-n,this.redraw()}getCurrentTime(){return new Date(Date.now()+this.offset)}}const de=.001;function Ju(s){s.sort((e,t)=>e.data.start-t.data.start)}function ef(s){s.sort((e,t)=>{const n="end"in e.data?e.data.end:e.data.start,r="end"in t.data?t.data.end:t.data.start;return n-r})}function oa(s,e,t,n){return Ia(s,e.item,!1,o=>o.stack&&(t||o.top===null),o=>o.stack,o=>e.axis,n)===null}function tf(s,e,t){const n=Ia(s,e.item,!1,r=>r.stack,r=>!0,r=>r.baseTop);t.height=n-t.top+.5*e.item.vertical}function sf(s,e,t,n){for(let r=0;r<s.length;r++)if(s[r].data.subgroup==null)s[r].top=e.item.vertical;else if(s[r].data.subgroup!==void 0&&n){let o=0;for(const a in t)t.hasOwnProperty(a)&&t[a].visible==!0&&t[a].index<t[s[r].data.subgroup].index&&(o+=t[a].height,t[s[r].data.subgroup].top=o);s[r].top=o+.5*e.item.vertical}n||nf(s,e,t)}function nf(s,e,t){Ia(Object.values(t).sort((n,r)=>n.index>r.index?1:n.index<r.index?-1:0),{vertical:0},!0,n=>!0,n=>!0,n=>0);for(let n=0;n<s.length;n++)s[n].data.subgroup!==void 0&&(s[n].top=t[s[n].data.subgroup].top+.5*e.item.vertical)}function aa(s,e,t){let n=!1;const r=[];for(var o in t)t[o].hasOwnProperty("index")?r[t[o].index]=o:r.push(o);for(let a=0;a<r.length;a++)if(o=r[a],t.hasOwnProperty(o)){n=n||t[o].stack,t[o].top=0;for(const h in t)t[h].visible&&t[o].index>t[h].index&&(t[o].top+=t[h].height);const l=s[o];for(let h=0;h<l.length;h++)l[h].data.subgroup!==void 0&&(l[h].top=t[l[h].data.subgroup].top+.5*e.item.vertical,t[o].stack&&(l[h].baseTop=l[h].top));n&&t[o].stack&&tf(s[o],e,t[o])}}function Ia(s,e,t,n,r,o,a){let l=_=>_.start,h=_=>_.end;t||(!!(s[0]&&s[0].options.rtl)?l=w=>w.right:l=w=>w.left,h=w=>l(w)+w.width+e.horizontal);const d=[],c=[];let u=null,f=0;for(const _ of s)if(n(_))d.push(_);else if(r(_)){const w=l(_);u!==null&&w<u-de&&(f=0),u=w,f=Li(c,x=>l(x)-de>w,f),c.splice(f,0,_),f++}u=null;let p=null;f=0;let g=0,b=0,y=0;for(;d.length>0;){const _=d.shift();_.top=o(_);const w=l(_),x=h(_);u!==null&&w<u-de&&(g=0,b=0,f=0,p=null),u=w,g=Li(c,T=>w<h(T)-de,g),(p===null||p<x-de)&&(b=Li(c,T=>x<l(T)-de,Math.max(g,b))),p!==null&&p-de>x&&(b=zv(c,T=>x+de>=l(T),g,b)+1);const D=c.slice(g,b).filter(T=>w<h(T)-de&&x-de>l(T)).sort((T,S)=>T.top-S.top);for(let T=0;T<D.length;T++){const S=D[T];Bv(_,S,e)&&(_.top=S.top+S.height+e.vertical)}r(_)&&(f=Li(c,T=>l(T)-de>w,f),c.splice(f,0,_),f++);const C=_.top+_.height;if(C>y&&(y=C),a&&a())return null}return y}function Bv(s,e,t){return s.top-t.vertical+de<e.top+e.height&&s.top+s.height+t.vertical-de>e.top}function Li(s,e,t){t||(t=0);const n=s.slice(t).findIndex(e);return n===-1?s.length:n+t}function zv(s,e,t,n){for(t||(t=0),n||(n=s.length),i=n-1;i>=t;i--)if(e(s[i]))return i;return t-1}var $v=Object.freeze({__proto__:null,nostack:sf,orderByEnd:ef,orderByStart:Ju,stack:oa,stackSubgroups:nf,stackSubgroupsWithInnerStack:aa,substack:tf});const Uv="__ungrouped__",Wv="__background__",Cl={UNGROUPED:Uv,BACKGROUND:Wv};class Yi{constructor(e,t,n){if(this.groupId=e,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=t&&t.subgroupOrder,this.itemSet=n,this.isVisible=null,this.stackDirty=!0,this._disposeCallbacks=[],t&&t.nestedGroups&&(this.nestedGroups=t.nestedGroups,t.showNested==!1?this.showNested=!1:this.showNested=!0),t&&t.subgroupStack)if(typeof t.subgroupStack=="boolean")this.doInnerStack=t.subgroupStack,this.subgroupStackAll=t.subgroupStack;else for(const o in t.subgroupStack)this.subgroupStack[o]=t.subgroupStack[o],this.doInnerStack=this.doInnerStack||t.subgroupStack[o];t&&t.heightMode?this.heightMode=t.heightMode:this.heightMode=n.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const r=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",r),this._disposeCallbacks.push(()=>{this.itemSet.body.emitter.off("checkRangedItems",r)}),this._create(),this.setData(t)}_create(){const e=document.createElement("div");this.itemSet.options.groupEditable.order?e.className="vis-label draggable":e.className="vis-label",this.dom.label=e;const t=document.createElement("div");t.className="vis-inner",e.appendChild(t),this.dom.inner=t;const n=document.createElement("div");n.className="vis-group",n["vis-group"]=this,this.dom.foreground=n,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(e){if(this.itemSet.groupTouchParams.isDragging)return;let t,n;if(e&&e.subgroupVisibility)for(const o in e.subgroupVisibility)this.subgroupVisibility[o]=e.subgroupVisibility[o];if(this.itemSet.options&&this.itemSet.options.groupTemplate?(n=this.itemSet.options.groupTemplate.bind(this),t=n(e,this.dom.inner)):t=e&&e.content,t instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(t)}else t instanceof Object&&t.isReactComponent||(t instanceof Object?n(e,this.dom.inner):t!=null?this.dom.inner.innerHTML=v.xss(t):this.dom.inner.innerHTML=v.xss(this.groupId||""));this.dom.label.title=e&&e.title||"",this.dom.inner.firstChild?v.removeClassName(this.dom.inner,"vis-hidden"):v.addClassName(this.dom.inner,"vis-hidden"),e&&e.nestedGroups?((!this.nestedGroups||this.nestedGroups!=e.nestedGroups)&&(this.nestedGroups=e.nestedGroups),(e.showNested!==void 0||this.showNested===void 0)&&(e.showNested==!1?this.showNested=!1:this.showNested=!0),v.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(v.removeClassName(this.dom.label,"collapsed"),v.addClassName(this.dom.label,"expanded")):(v.removeClassName(this.dom.label,"expanded"),v.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,v.removeClassName(this.dom.label,"collapsed"),v.removeClassName(this.dom.label,"expanded"),v.removeClassName(this.dom.label,"vis-nesting-group")),e&&(e.treeLevel||e.nestedInGroup)?(v.addClassName(this.dom.label,"vis-nested-group"),e.treeLevel?v.addClassName(this.dom.label,"vis-group-level-"+e.treeLevel):v.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):v.addClassName(this.dom.label,"vis-group-level-0");const r=e&&e.className||null;r!=this.className&&(this.className&&(v.removeClassName(this.dom.label,this.className),v.removeClassName(this.dom.foreground,this.className),v.removeClassName(this.dom.background,this.className),v.removeClassName(this.dom.axis,this.className)),v.addClassName(this.dom.label,r),v.addClassName(this.dom.foreground,r),v.addClassName(this.dom.background,r),v.addClassName(this.dom.axis,r),this.className=r),this.style&&(v.removeCssText(this.dom.label,this.style),this.style=null),e&&e.style&&(v.addCssText(this.dom.label,e.style),this.style=e.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const e=this.dom.marker.clientHeight;if(e!=this.lastMarkerHeight){this.lastMarkerHeight=e;const t={};let n=0;if(v.forEach(this.items,(o,a)=>{o.dirty=!0,o.displayed&&(t[a]=o.redraw(!0),n=t[a].length)}),n>0)for(let o=0;o<n;o++)v.forEach(t,a=>{a[o]()});return!0}else return!1}_calculateGroupSizeAndPosition(){const{offsetTop:e,offsetLeft:t,offsetWidth:n}=this.dom.foreground;this.top=e,this.right=t,this.width=n}_shouldBailItemsRedraw(){const e=this,t=this.itemSet.options.onTimeout,n={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:t&&t.timeoutMs,userBailFunction:t&&t.callback,shouldBailStackItems:this.shouldBailStackItems};let r=null;if(!this.itemSet.initialDrawDone){if(n.shouldBailStackItems)return!0;Math.abs(Date.now()-new Date(n.relativeBailingTime))>n.bailTimeMs&&(n.userBailFunction&&this.itemSet.userContinueNotBail==null?n.userBailFunction(o=>{e.itemSet.userContinueNotBail=o,r=!o}):e.itemSet.userContinueNotBail==!1?r=!0:r=!1)}return r}_redrawItems(e,t,n,r){if(e||this.stackDirty||this.isVisible&&!t){const a={byEnd:this.orderedItems.byEnd.filter(c=>!c.isCluster),byStart:this.orderedItems.byStart.filter(c=>!c.isCluster)},l={byEnd:[...new Set(this.orderedItems.byEnd.map(c=>c.cluster).filter(c=>!!c))],byStart:[...new Set(this.orderedItems.byStart.map(c=>c.cluster).filter(c=>!!c))]},h=()=>{const c=this._updateItemsInRange(a,this.visibleItems.filter(f=>!f.isCluster),r),u=this._updateClustersInRange(l,this.visibleItems.filter(f=>f.isCluster),r);return[...c,...u]},d=c=>{let u={};for(const f in this.subgroups){const p=this.visibleItems.filter(g=>g.data.subgroup===f);u[f]=c?p.sort((g,b)=>c(g.data,b.data)):p}return u};if(typeof this.itemSet.options.order=="function"){const c=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const u=d(this.itemSet.options.order);aa(u,n,this.subgroups),this.visibleItems=h(),this._updateSubGroupHeights(n)}else{this.visibleItems=h(),this._updateSubGroupHeights(n);const u=this.visibleItems.slice().filter(f=>f.isCluster||!f.isCluster&&!f.cluster).sort((f,p)=>c.itemSet.options.order(f.data,p.data));this.shouldBailStackItems=oa(u,n,!0,this._shouldBailItemsRedraw.bind(this))}}else if(this.visibleItems=h(),this._updateSubGroupHeights(n),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){const c=d();aa(c,n,this.subgroups)}else this.shouldBailStackItems=oa(this.visibleItems,n,!0,this._shouldBailItemsRedraw.bind(this));else sf(this.visibleItems,n,this.subgroups,this.itemSet.options.stackSubgroups);for(let c=0;c<this.visibleItems.length;c++)this.visibleItems[c].repositionX(),this.subgroupVisibility[this.visibleItems[c].data.subgroup]!==void 0&&(this.subgroupVisibility[this.visibleItems[c].data.subgroup]||this.visibleItems[c].hide());this.itemSet.options.cluster&&v.forEach(this.items,c=>{c.cluster&&c.displayed&&c.hide()}),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(e,t){e=v.updateProperty(this,"height",t)||e;const n=this.dom.inner.clientWidth,r=this.dom.inner.clientHeight;return e=v.updateProperty(this.props.label,"width",n)||e,e=v.updateProperty(this.props.label,"height",r)||e,e}_applyGroupHeight(e){this.dom.background.style.height=`${e}px`,this.dom.foreground.style.height=`${e}px`,this.dom.label.style.height=`${e}px`}_updateItemsVerticalPosition(e){for(let t=0,n=this.visibleItems.length;t<n;t++){const r=this.visibleItems[t];r.repositionY(e),!this.isVisible&&this.groupId!=Cl.BACKGROUND&&r.displayed&&r.hide()}}redraw(e,t,n,r){let o=!1;const a=this.isVisible;let l;const h=[()=>{n=this._didMarkerHeightChange.call(this)||n},this._updateSubGroupHeights.bind(this,t),this._calculateGroupSizeAndPosition.bind(this),()=>{this.isVisible=this._isGroupVisible.bind(this)(e,t)},()=>{this._redrawItems.bind(this)(n,a,t,e)},this._updateSubgroupsSizes.bind(this),()=>{l=this._calculateHeight.bind(this)(t)},this._calculateGroupSizeAndPosition.bind(this),()=>{o=this._didResize.bind(this)(o,l)},()=>{this._applyGroupHeight.bind(this)(l)},()=>{this._updateItemsVerticalPosition.bind(this)(t)},(()=>(!this.isVisible&&this.height&&(o=!1),o)).bind(this)];if(r)return h;{let d;return h.forEach(c=>{d=c()}),d}}_updateSubGroupHeights(e){if(Object.keys(this.subgroups).length>0){const t=this;this._resetSubgroups(),v.forEach(this.visibleItems,n=>{n.data.subgroup!==void 0&&(t.subgroups[n.data.subgroup].height=Math.max(t.subgroups[n.data.subgroup].height,n.height+e.item.vertical),t.subgroups[n.data.subgroup].visible=typeof this.subgroupVisibility[n.data.subgroup]>"u"?!0:!!this.subgroupVisibility[n.data.subgroup])})}}_isGroupVisible(e,t){return this.top<=e.body.domProps.centerContainer.height-e.body.domProps.scrollTop+t.axis&&this.top+this.height+t.axis>=-e.body.domProps.scrollTop}_calculateHeight(e){let t,n;if(this.heightMode==="fixed"?n=v.toArray(this.items):n=this.visibleItems,n.length>0){let r=n[0].top,o=n[0].top+n[0].height;if(v.forEach(n,a=>{r=Math.min(r,a.top),o=Math.max(o,a.top+a.height)}),r>e.axis){const a=r-e.axis;o-=a,v.forEach(n,l=>{l.top-=a})}t=Math.ceil(o+e.item.vertical/2),this.heightMode!=="fitItems"&&(t=Math.max(t,this.props.label.height))}else t=this.props.label.height;return t}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const e=this.dom.label;e.parentNode&&e.parentNode.removeChild(e);const t=this.dom.foreground;t.parentNode&&t.parentNode.removeChild(t);const n=this.dom.background;n.parentNode&&n.parentNode.removeChild(n);const r=this.dom.axis;r.parentNode&&r.parentNode.removeChild(r)}add(e){if(this.items[e.id]=e,e.setParent(this),this.stackDirty=!0,e.data.subgroup!==void 0&&(this._addToSubgroup(e),this.orderSubgroups()),!this.visibleItems.includes(e)){const t=this.itemSet.body.range;this._checkIfVisible(e,this.visibleItems,t)}}_addToSubgroup(e,t=e.data.subgroup){t!=null&&this.subgroups[t]===void 0&&(this.subgroups[t]={height:0,top:0,start:e.data.start,end:e.data.end||e.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[t]||!1},this.subgroupIndex++),new Date(e.data.start)<new Date(this.subgroups[t].start)&&(this.subgroups[t].start=e.data.start);const n=e.data.end||e.data.start;new Date(n)>new Date(this.subgroups[t].end)&&(this.subgroups[t].end=n),this.subgroups[t].items.push(e)}_updateSubgroupsSizes(){const e=this;if(e.subgroups)for(const t in e.subgroups){const n=e.subgroups[t].items[0].data.end||e.subgroups[t].items[0].data.start;let r=e.subgroups[t].items[0].data.start,o=n-1;e.subgroups[t].items.forEach(a=>{new Date(a.data.start)<new Date(r)&&(r=a.data.start);const l=a.data.end||a.data.start;new Date(l)>new Date(o)&&(o=l)}),e.subgroups[t].start=r,e.subgroups[t].end=new Date(o-1)}}orderSubgroups(){if(this.subgroupOrderer!==void 0){const e=[];if(typeof this.subgroupOrderer=="string"){for(const t in this.subgroups)e.push({subgroup:t,sortField:this.subgroups[t].items[0].data[this.subgroupOrderer]});e.sort((t,n)=>t.sortField-n.sortField)}else if(typeof this.subgroupOrderer=="function"){for(const t in this.subgroups)e.push(this.subgroups[t].items[0].data);e.sort(this.subgroupOrderer)}if(e.length>0)for(let t=0;t<e.length;t++)this.subgroups[e[t].subgroup].index=t}}_resetSubgroups(){for(const e in this.subgroups)this.subgroups.hasOwnProperty(e)&&(this.subgroups[e].visible=!1,this.subgroups[e].height=0)}remove(e){delete this.items[e.id],e.setParent(null),this.stackDirty=!0;const t=this.visibleItems.indexOf(e);t!=-1&&this.visibleItems.splice(t,1),e.data.subgroup!==void 0&&(this._removeFromSubgroup(e),this.orderSubgroups())}_removeFromSubgroup(e,t=e.data.subgroup){if(t!=null){const n=this.subgroups[t];if(n){const r=n.items.indexOf(e);r>=0&&(n.items.splice(r,1),n.items.length?this._updateSubgroupsSizes():delete this.subgroups[t])}}}removeFromDataSet(e){this.itemSet.removeItem(e.id)}order(){const e=v.toArray(this.items),t=[],n=[];for(let r=0;r<e.length;r++)e[r].data.end!==void 0&&n.push(e[r]),t.push(e[r]);this.orderedItems={byStart:t,byEnd:n},Ju(this.orderedItems.byStart),ef(this.orderedItems.byEnd)}_updateItemsInRange(e,t,n){const r=[],o={};if(!this.isVisible&&this.height!==void 0&&this.groupId!=Cl.BACKGROUND){for(let y=0;y<t.length;y++){var a=t[y];a.displayed&&a.hide()}return r}const l=(n.end-n.start)/4,h=n.start-l,d=n.end+l,c=y=>y<h?-1:y<=d?0:1,u=y=>{const{start:_,end:w}=y;return w<h?-1:_<=d?0:1};if(t.length>0)for(let y=0;y<t.length;y++)this._checkIfVisibleWithReference(t[y],r,o,n);const f=v.binarySearchCustom(e.byStart,c,"data","start");if(this._traceVisible(f,e.byStart,r,o,y=>y.data.start<h||y.data.start>d),this.checkRangedItems==!0){this.checkRangedItems=!1;for(let y=0;y<e.byEnd.length;y++)this._checkIfVisibleWithReference(e.byEnd[y],r,o,n)}else{const y=v.binarySearchCustom(e.byEnd,u,"data");this._traceVisible(y,e.byEnd,r,o,_=>_.data.end<h||_.data.start>d)}const p={};let g=0;for(let y=0;y<r.length;y++){const _=r[y];_.displayed||(p[y]=_.redraw(!0),g=p[y].length)}if(g>0)for(let y=0;y<g;y++)v.forEach(p,_=>{_[y]()});for(let y=0;y<r.length;y++)r[y].repositionX();return r}_traceVisible(e,t,n,r,o){if(e!=-1){for(let a=e;a>=0;a--){let l=t[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&r[l.id]===void 0&&(r[l.id]=!0,n.push(l))}for(let a=e+1;a<t.length;a++){let l=t[a];if(o(l))break;!(l.isCluster&&!l.hasItems())&&!l.cluster&&r[l.id]===void 0&&(r[l.id]=!0,n.push(l))}}}_checkIfVisible(e,t,n){e.isVisible(n)?(e.displayed||e.show(),e.repositionX(),t.push(e)):e.displayed&&e.hide()}_checkIfVisibleWithReference(e,t,n,r){e.isVisible(r)?n[e.id]===void 0&&(n[e.id]=!0,t.push(e)):e.displayed&&e.hide()}_updateClustersInRange(e,t,n){const r=[],o={};if(t.length>0)for(let c=0;c<t.length;c++)this._checkIfVisibleWithReference(t[c],r,o,n);for(let c=0;c<e.byStart.length;c++)this._checkIfVisibleWithReference(e.byStart[c],r,o,n);for(let c=0;c<e.byEnd.length;c++)this._checkIfVisibleWithReference(e.byEnd[c],r,o,n);const a={};let l=0;for(let c=0;c<r.length;c++){const u=r[c];u.displayed||(a[c]=u.redraw(!0),l=a[c].length)}if(l>0)for(var d=0;d<l;d++)v.forEach(a,function(c){c[d]()});for(let c=0;c<r.length;c++)r[c].repositionX();return r}changeSubgroup(e,t,n){this._removeFromSubgroup(e,t),this._addToSubgroup(e,n),this.orderSubgroups()}dispose(){this.hide();let e;for(;e=this._disposeCallbacks.pop();)e()}}class Ra extends Yi{constructor(e,t,n){super(e,t,n),this.width=0,this.height=0,this.top=0,this.left=0}redraw(e,t,n){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,e),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let o=0,a=this.visibleItems.length;o<a;o++)this.visibleItems[o].repositionY(t);return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class ft{constructor(e,t,n){this.id=null,this.parent=null,this.data=e,this.dom=null,this.conversion=t||{},this.defaultOptions={locales:It,locale:"en"},this.options=v.extend({},this.defaultOptions,n),this.options.locales=v.extend({},It,this.options.locales);const r=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach(o=>{this.options.locales[o]=v.extend({},r,this.options.locales[o])}),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=n&&n.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(e),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(e){e.group!=null&&this.data.group!=e.group&&this.parent!=null&&this.parent.itemSet._moveToGroup(this,e.group),this.setSelectability(e),this.parent&&(this.parent.stackDirty=!0),e.subgroup!=null&&this.data.subgroup!=e.subgroup&&this.parent!=null&&this.parent.changeSubgroup(this,this.data.subgroup,e.subgroup),this.data=e,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(e){e&&(this.selectable=typeof e.selectable>"u"?!0:!!e.selectable)}setParent(e){this.displayed?(this.hide(),this.parent=e,this.parent&&this.show()):this.parent=e}isVisible(e){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){const e=this,t=document.createElement("div");t.className="vis-drag-center",t.dragCenterItem=this,this.hammerDragCenter=new te(t),this.hammerDragCenter.on("tap",n=>{e.parent.itemSet.body.emitter.emit("click",{event:n,item:e.id})}),this.hammerDragCenter.on("doubletap",n=>{n.stopPropagation(),e.parent.itemSet._onUpdateItem(e),e.parent.itemSet.body.emitter.emit("doubleClick",{event:n,item:e.id})}),this.hammerDragCenter.on("panstart",n=>{n.stopPropagation(),e.parent.itemSet._onDragStart(n)}),this.hammerDragCenter.on("panmove",e.parent.itemSet._onDrag.bind(e.parent.itemSet)),this.hammerDragCenter.on("panend",e.parent.itemSet._onDragEnd.bind(e.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(t,this.dom.dragLeft):this.dom.box.appendChild(t):this.dom.point&&this.dom.point.appendChild(t),this.dom.dragCenter=t}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(e){const t=(this.options.editable.overrideItems||this.editable==null)&&this.options.editable.remove||!this.options.editable.overrideItems&&this.editable!=null&&this.editable.remove;if(this.selected&&t&&!this.dom.deleteButton){const n=this,r=document.createElement("div");this.options.rtl?r.className="vis-delete-rtl":r.className="vis-delete";let o=this.options.locales[this.options.locale];o||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),o=this.options.locales.en),r.title=o.deleteSelected,this.hammerDeleteButton=new te(r).on("tap",a=>{a.stopPropagation(),n.parent.removeFromDataSet(n)}),e.appendChild(r),this.dom.deleteButton=r}else(!this.selected||!t)&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(e){if(!this.options.tooltipOnItemUpdateTime)return;const t=(this.options.editable.updateTime||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&t&&!this.dom.onItemUpdateTimeTooltip){const n=document.createElement("div");n.className="vis-onUpdateTime-tooltip",e.appendChild(n),this.dom.onItemUpdateTimeTooltip=n}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const n=50,r=this.parent.itemSet.body.domProps.scrollTop;let o;this.options.orientation.item=="top"?o=this.top:o=this.parent.height-this.top-this.height,o+this.parent.top-n<-r?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=`${this.height+2}px`):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=`${this.height+2}px`);let l,h;this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(h=this.options.tooltipOnItemUpdateTime.template.bind(this),l=h(this.data)):(l=`start: ${oe(this.data.start).format("MM/DD/YYYY hh:mm")}`,this.data.end&&(l+=`<br> end: ${oe(this.data.end).format("MM/DD/YYYY hh:mm")}`)),this.dom.onItemUpdateTimeTooltip.innerHTML=v.xss(l)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(e){let t,n,r,o,a;const l=this._getItemData(),d=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(a=this.options.visibleFrameTemplate.bind(this),o=v.xss(a(l,d))):o="",d){if(o instanceof Object&&!(o instanceof Element))a(l,d);else if(n=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),n){if(o instanceof Element)d.innerHTML="",d.appendChild(o);else if(o!=null)d.innerHTML=v.xss(o);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.itemVisibleFrameContent=o}}if(this.options.template?(r=this.options.template.bind(this),t=r(l,e,this.data)):t=this.data.content,t instanceof Object&&!(t instanceof Element))r(l,e);else if(n=this._contentToString(this.content)!==this._contentToString(t),n){if(t instanceof Element)e.innerHTML="",e.appendChild(t);else if(t!=null)e.innerHTML=v.xss(t);else if(!(this.data.type=="background"&&this.data.content===void 0))throw new Error(`Property "content" missing in item ${this.id}`);this.content=t}}_updateDataAttributes(e){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let t=[];if(Array.isArray(this.options.dataAttributes))t=this.options.dataAttributes;else if(this.options.dataAttributes=="all")t=Object.keys(this.data);else return;for(const n of t){const r=this.data[n];r!=null?e.setAttribute(`data-${n}`,r):e.removeAttribute(`data-${n}`)}}}_updateStyle(e){this.style&&(v.removeCssText(e,this.style),this.style=null),this.data.style&&(v.addCssText(e,this.data.style),this.style=this.data.style)}_contentToString(e){return typeof e=="string"?e:e&&"outerHTML"in e?e.outerHTML:e}_updateEditStatus(){this.options&&(typeof this.options.editable=="boolean"?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:typeof this.options.editable=="object"&&(this.editable={},v.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||this.options.editable.overrideItems!==!0)&&this.data&&(typeof this.data.editable=="boolean"?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:typeof this.data.editable=="object"&&(this.editable={},v.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){return this.options.tooltip&&this.options.tooltip.template?this.options.tooltip.template.bind(this)(this._getItemData(),this.data):this.data.title}}ft.prototype.stack=!0;class rf extends ft{constructor(e,t,n){if(super(e,t,n),this.props={dot:{width:0,height:0},line:{width:0,height:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;let t;const n=this.data.align||this.options.align,r=this.width*e.getMillisecondsPerPixel();return n=="right"?t=this.data.start.getTime()>e.start&&this.data.start.getTime()-r<e.end:n=="left"?t=this.data.start.getTime()+r>e.start&&this.data.start.getTime()<e.end:t=this.data.start.getTime()+r/2>e.start&&this.data.start.getTime()-r/2<e.end,t}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=`vis-item vis-box${t}`,this.dom.line.className=`vis-item vis-line${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=e.dot.height,this.props.dot.width=e.dot.width,this.props.line.width=e.line.width,this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(o=>{r=o()}),r}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom;e.box.remove?e.box.remove():e.box.parentNode&&e.box.parentNode.removeChild(e.box),e.line.remove?e.line.remove():e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.remove?e.dot.remove():e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot),this.displayed=!1}}repositionXY(){const e=this.options.rtl,t=(n,r,o,a=!1)=>{if(r===void 0&&o===void 0)return;const l=a?r*-1:r;if(o===void 0){n.style.transform=`translateX(${l}px)`;return}if(r===void 0){n.style.transform=`translateY(${o}px)`;return}n.style.transform=`translate(${l}px, ${o}px)`};t(this.dom.box,this.boxX,this.boxY,e),t(this.dom.dot,this.dotX,this.dotY,e),t(this.dom.line,this.lineX,this.lineY,e)}repositionX(){const e=this.conversion.toScreen(this.data.start),t=this.data.align===void 0?this.options.align:this.data.align,n=this.props.line.width,r=this.props.dot.width;t=="right"?(this.boxX=e-this.width,this.lineX=e-n,this.dotX=e-n/2-r/2):t=="left"?(this.boxX=e,this.lineX=e,this.dotX=e+n/2-r/2):(this.boxX=e-this.width/2,this.lineX=this.options.rtl?e-n:e-n/2,this.dotX=e-r/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const e=this.options.orientation.item,t=this.dom.line.style;if(e=="top"){const n=this.parent.top+this.top+1;this.boxY=this.top||0,t.height=`${n}px`,t.bottom="",t.top="0"}else{const r=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),t.height=`${r}px`,t.top="",t.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}}class of extends ft{constructor(e,t,n){if(super(e,t,n),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},e&&e.start==null)throw new Error(`Property "start" missing in item ${e}`)}isVisible(e){if(this.cluster)return!1;const t=this.width*e.getMillisecondsPerPixel();return this.data.start.getTime()+t>e.start&&this.data.start<e.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.point.className=`vis-item vis-point${t}`,this.dom.dot.className=`vis-item vis-dot${t}`}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(e){this.props.dot.width=e.dot.width,this.props.dot.height=e.dot.height,this.props.content.height=e.content.height,this.options.rtl?this.dom.content.style.marginRight=`${this.props.dot.width/2}px`:this.dom.content.style.marginLeft=`${this.props.dot.width/2}px`,this.width=e.point.width,this.height=e.point.height,this.dom.dot.style.top=`${(this.height-this.props.dot.height)/2}px`;const t=this.props.dot.width,n=this.options.rtl?t/2:t/2*-1;this.dom.dot.style.transform=`translateX(${n}px`,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(o=>{r=o()}),r}}repositionXY(){const e=this.options.rtl;((n,r,o,a=!1)=>{if(r===void 0&&o===void 0)return;const l=a?r*-1:r;if(o===void 0){n.style.transform=`translateX(${l}px)`;return}if(r===void 0){n.style.transform=`translateY(${o}px)`;return}n.style.transform=`translate(${l}px, ${o}px)`})(this.dom.point,this.pointX,this.pointY,e)}show(e){if(!this.displayed)return this.redraw(e)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const e=this.conversion.toScreen(this.data.start);this.pointX=e,this.options.rtl?this.right=e-this.props.dot.width:this.left=e-this.props.dot.width,this.repositionXY()}repositionY(){this.options.orientation.item=="top"?this.pointY=this.top:this.pointY=this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}class We extends ft{constructor(e,t,n){if(super(e,t,n),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.cluster?!1:this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.editable.updateTime||this.editable.updateGroup,t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(e?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+t,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.frame).overflow!=="hidden",this.whiteSpace=window.getComputedStyle(this.dom.content).whiteSpace!=="nowrap",{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=e.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(o=>{r=o()}),r}}show(e){if(!this.displayed)return this.redraw(e)}hide(){if(this.displayed){const e=this.dom.box;e.parentNode&&e.parentNode.removeChild(e),this.displayed=!1}}repositionX(e){const t=this.parent.width;let n=this.conversion.toScreen(this.data.start),r=this.conversion.toScreen(this.data.end);const o=this.data.align===void 0?this.options.align:this.data.align;let a,l;this.data.limitSize!==!1&&(e===void 0||e===!0)&&(n<-t&&(n=-t),r>2*t&&(r=2*t));const h=Math.max(Math.round((r-n)*1e3)/1e3,1);switch(this.overflow?(this.options.rtl?this.right=n:this.left=n,this.width=h+this.props.content.width,l=this.props.content.width):(this.options.rtl?this.right=n:this.left=n,this.width=h,l=Math.min(r-n,this.props.content.width)),this.options.rtl?this.dom.box.style.transform=`translateX(${this.right*-1}px)`:this.dom.box.style.transform=`translateX(${this.left}px)`,this.dom.box.style.width=`${h}px`,this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const d=Math.max(h-l,0)*-1;this.dom.content.style.transform=`translateX(${d}px)`}else this.dom.content.style.transform=`translateX(${Math.max(h-l,0)}px)`;break;case"center":if(this.options.rtl){const d=Math.max((h-l)/2,0)*-1;this.dom.content.style.transform=`translateX(${d}px)`}else this.dom.content.style.transform=`translateX(${Math.max((h-l)/2,0)}px)`;break;default:if(this.overflow?r>0?a=Math.max(-n,0):a=-l:n<0?a=-n:a=0,this.options.rtl){const d=a*-1;this.dom.content.style.transform=`translateX(${d}px)`}else this.dom.content.style.transform=`translateX(${a}px)`}}repositionY(){const e=this.options.orientation.item,t=this.dom.box;e=="top"?t.style.top=`${this.top}px`:t.style.top=`${this.parent.height-this.top-this.height}px`}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const e=document.createElement("div");e.className="vis-drag-left",e.dragLeftItem=this,this.dom.box.appendChild(e),this.dom.dragLeft=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const e=document.createElement("div");e.className="vis-drag-right",e.dragRightItem=this,this.dom.box.appendChild(e),this.dom.dragRight=e}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}We.prototype.baseClassName="vis-item vis-range";class Ye extends ft{constructor(e,t,n){if(super(e,t,n),this.props={content:{width:0}},this.overflow=!1,e){if(e.start==null)throw new Error(`Property "start" missing in item ${e.id}`);if(e.end==null)throw new Error(`Property "end" missing in item ${e.id}`)}}isVisible(e){return this.data.start<e.end&&this.data.end>e.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+e}}_getDomComponentsSizes(){return this.overflow=window.getComputedStyle(this.dom.content).overflow!=="hidden",{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(e){this.props.content.width=e.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(e){let t;const n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(t=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(t)},this._repaintDomAdditionals.bind(this)];if(e)return n;{let r;return n.forEach(o=>{r=o()}),r}}repositionY(e){let t;const n=this.options.orientation.item;if(this.data.subgroup!==void 0){const r=this.data.subgroup;this.dom.box.style.height=`${this.parent.subgroups[r].height}px`,n=="top"?this.dom.box.style.top=`${this.parent.top+this.parent.subgroups[r].top}px`:this.dom.box.style.top=`${this.parent.top+this.parent.height-this.parent.subgroups[r].top-this.parent.subgroups[r].height}px`,this.dom.box.style.bottom=""}else this.parent instanceof Ra?(t=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom=n=="bottom"?"0":"",this.dom.box.style.top=n=="top"?"0":""):(t=this.parent.height,this.dom.box.style.top=`${this.parent.top}px`,this.dom.box.style.bottom="");this.dom.box.style.height=`${t}px`}}Ye.prototype.baseClassName="vis-item vis-background";Ye.prototype.stack=!1;Ye.prototype.show=We.prototype.show;Ye.prototype.hide=We.prototype.hide;Ye.prototype.repositionX=We.prototype.repositionX;class Vv{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=v.xss(e)}show(e){if(e===void 0&&(e=!0),e===!0){var t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,a=0,l=0;if(this.overflowMethod=="flip"||this.overflowMethod=="none"){let h=!1,d=!0;this.overflowMethod=="flip"&&(this.y-t<this.padding&&(d=!1),this.x+n>o-this.padding&&(h=!0)),h?a=this.x-n:a=this.x,d?l=this.y-t:l=this.y}else l=this.y-t,l+t+this.padding>r&&(l=r-t-this.padding),l<this.padding&&(l=this.padding),a=this.x,a+n+this.padding>o&&(a=o-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=l+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}class yi extends ft{constructor(e,t,n){const r=Object.assign({},{fitOnDoubleClick:!0},n,{editable:!1});if(super(e,t,r),this.props={content:{width:0,height:0}},!e||e.uiItems==null)throw new Error('Property "uiItems" missing in item '+e.id);this.id=st(),this.group=e.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(e){this.detach(),this.data.uiItems=e,this._setupRange(),this.attach()}isVisible(e){const t=this.data.end?this.data.end-this.data.start:0,n=this.width*e.getMillisecondsPerPixel(),r=Math.max(this.data.start.getTime()+t,this.data.start.getTime()+n);return this.data.start<e.end&&r>e.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(e){var t,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),(function(){this.dirty&&(t=this._getDomComponentsSizes())}).bind(this),(function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(t)}).bind(this),this._repaintDomAdditionals.bind(this)];if(e)return n;var r;return n.forEach(function(o){r=o()}),r}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var e=this.dom;e.box.parentNode&&e.box.parentNode.removeChild(e.box),this.options.showStipes&&(e.line.parentNode&&e.line.parentNode.removeChild(e.line),e.dot.parentNode&&e.dot.parentNode.removeChild(e.dot)),this.displayed=!1}}repositionX(){let e=this.conversion.toScreen(this.data.start),t=this.data.end?this.conversion.toScreen(this.data.end):0;if(t)this.repositionXWithRanges(e,t);else{let n=this.data.align===void 0?this.options.align:this.data.align;this.repositionXWithoutRanges(e,n)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(e,t))}repositionStype(e,t){this.dom.line.style.display="block",this.dom.dot.style.display="block";const n=this.dom.line.offsetWidth,r=this.dom.dot.offsetWidth;if(t){const o=n+e+(t-e)/2,a=o-r/2,l=this.options.rtl?o*-1:o,h=this.options.rtl?a*-1:a;this.dom.line.style.transform=`translateX(${l}px)`,this.dom.dot.style.transform=`translateX(${h}px)`}else{const o=this.options.rtl?e*-1:e,a=this.options.rtl?(e-r/2)*-1:e-r/2;this.dom.line.style.transform=`translateX(${o}px)`,this.dom.dot.style.transform=`translateX(${a}px)`}}repositionXWithoutRanges(e,t){t=="right"?this.options.rtl?(this.right=e-this.width,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width,this.dom.box.style.left=this.left+"px"):t=="left"?this.options.rtl?(this.right=e,this.dom.box.style.right=this.right+"px"):(this.left=e,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=e-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=e-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(e,t){let n=Math.round(Math.max(t-e+.5,1));this.options.rtl?this.right=e:this.left=e,this.width=Math.max(n,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=n+"px"}repositionY(){var e=this.options.orientation.item,t=this.dom.box;if(e=="top"?t.style.top=(this.top||0)+"px":t.style.top=(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if(e=="top")this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var n=this.parent.itemSet.props.height,r=n-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=n-r+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){for(let e of this.data.uiItems)e.cluster=this;this.data.items=this.data.uiItems.map(e=>e.data),this.attached=!0,this.dirty=!0}detach(e=!1){if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,e&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){const e=this.data.uiItems.map(r=>({start:r.data.start.valueOf(),end:r.data.end?r.data.end.valueOf():r.data.start.valueOf()}));this.data.min=Math.min(...e.map(r=>Math.min(r.start,r.end||r.start))),this.data.max=Math.max(...e.map(r=>Math.max(r.start,r.end||r.start)));const n=this.data.uiItems.map(r=>r.center).reduce((r,o)=>r+o,0)/this.data.uiItems.length;this.data.uiItems.some(r=>r.data.end)?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(n),this.data.end=null)}_getUiItems(){return this.data.uiItems&&this.data.uiItems.length?this.data.uiItems.filter(e=>e.cluster===this):[]}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=yi.prototype._onDoubleClick.bind(this)),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const n=this.parent.dom.foreground;if(!n)throw new Error("Cannot redraw item: parent has no foreground container element");n.appendChild(this.dom.box)}const e=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var t=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");t.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const e=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+e,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const e={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(e.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},e.line={width:this.dom.line.offsetWidth}),e}_updateDomComponentsSizes(e){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=e.box.width:this.width=e.box.width,this.height=e.box.height,this.options.rtl?this.dom.box.style.right=e.previous.right:this.dom.box.style.left=e.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const e=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-e,fitEnd:this.data.max+e}}_fit(){if(this.emitter){const{fitStart:e,fitEnd:t}=this._getFitRange(),n={start:new Date(e),end:new Date(t),animation:!0};this.emitter.emit("fit",n)}}_getItemData(){return this.data}}yi.prototype.baseClassName="vis-item vis-range vis-cluster";const Yv="__ungrouped__",Xv="__background__",Kv={UNGROUPED:Yv,BACKGROUND:Xv};class Qv{constructor(e){this.itemSet=e,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(e,t,n){return new yi(e,t,n)}setItems(e,t){this.items=e||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,t&&t.applyOnChangedLevel&&(this.applyOnChangedLevel=t.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(e,t,n){let{maxItems:r,clusterCriteria:o}=typeof n=="boolean"?{}:n;o||(o=()=>!0),r=r||1;let a=-1,l=2,h=0;if(t>0){if(t>=1)return[];a=Math.abs(Math.round(Math.log(100/t)/Math.log(l))),h=Math.abs(Math.pow(l,a))}if(this.dataChanged){const c=a!=this.cacheLevel;(this.applyOnChangedLevel?c:!0)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=a;let d=this.cache[a];if(!d){d=[];for(let c in this.groups)if(this.groups.hasOwnProperty(c)){const u=this.groups[c],f=u.length;let p=0;for(;p<f;){let g=u[p],b=1,y=p-1;for(;y>=0&&g.center-u[y].center<h/2;)!u[y].cluster&&o(g.data,u[y].data)&&b++,y--;let _=p+1;for(;_<u.length&&u[_].center-g.center<h/2;)o(g.data,u[_].data)&&b++,_++;let w=d.length-1;for(;w>=0&&g.center-d[w].center<h;)g.group==d[w].group&&o(g.data,d[w].data)&&b++,w--;if(b>r){const x=b-r+1,D=[];let C=p;for(;D.length<x&&C<u.length;)o(u[p].data,u[C].data)&&D.push(u[C]),C++;const T=this.itemSet.getGroupId(g.data),S=this.itemSet.groups[T]||this.itemSet.groups[Kv.UNGROUPED];let N=this._getClusterForItems(D,S,e,n);d.push(N),p+=x}else delete g.cluster,p+=1}}this.cache[a]=d}return d}_filterData(){const e={};this.groups=e;for(const t of Object.values(this.items)){const n=t.parent?t.parent.groupId:"";let r=e[n];r||(r=[],e[n]=r),r.push(t),t.data.start&&(t.data.end?t.center=(t.data.start.valueOf()+t.data.end.valueOf())/2:t.center=t.data.start.valueOf())}for(let t in e)e.hasOwnProperty(t)&&e[t].sort((n,r)=>n.center-r.center);this.dataChanged=!1}_getClusterForItems(e,t,n,r){const o=(n||[]).map(p=>({cluster:p,itemsIds:new Set(p.data.uiItems.map(g=>g.id))}));let a;if(o.length){for(let p of o)if(p.itemsIds.size===e.length&&e.every(g=>p.itemsIds.has(g.id))){a=p.cluster;break}}if(a)return a.setUiItems(e),a.group!==t&&(a.group&&a.group.remove(a),t&&(t.add(a),a.group=t)),a;let l=r.titleTemplate||"";const h={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},d=l.replace(/{count}/,e.length),c='<div title="'+d+'">'+e.length+"</div>",u=Object.assign({},r,this.itemSet.options),f={content:c,title:d,group:t,uiItems:e,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return a=this.createClusterItem(f,h,u),t&&(t.add(a),a.group=t),a.attach(),a}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const bt="__ungrouped__",qe="__background__";class Ve extends Re{constructor(e,t){super(),this.body=e,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(r,o,a){const l=o.order;o.order=r.order,r.order=l},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:Ue.snap,onDropObjectOnItem(r,o,a){a(o)},onAdd(r,o){o(r)},onUpdate(r,o){o(r)},onMove(r,o){o(r)},onRemove(r,o){o(r)},onMoving(r,o){o(r)},onAddGroup(r,o){o(r)},onMoveGroup(r,o){o(r)},onRemoveGroup(r,o){o(r)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=v.extend({},this.defaultOptions),this.options.rtl=t.rtl,this.options.onTimeout=t.onTimeout,this.conversion={toScreen:e.util.toScreen,toTime:e.util.toTime},this.dom={},this.props={},this.hammer=null;const n=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(r,o,a){n._onAdd(o.items),n.options.cluster&&n.clusterGenerator.setItems(n.items,{applyOnChangedLevel:!1}),n.redraw()},update(r,o,a){n._onUpdate(o.items),n.options.cluster&&n.clusterGenerator.setItems(n.items,{applyOnChangedLevel:!1}),n.redraw()},remove(r,o,a){n._onRemove(o.items),n.options.cluster&&n.clusterGenerator.setItems(n.items,{applyOnChangedLevel:!1}),n.redraw()}},this.groupListeners={add(r,o,a){if(n._onAddGroups(o.items),n.groupsData&&n.groupsData.length>0){const l=n.groupsData.getDataSet();l.get().forEach(h=>{if(h.nestedGroups){h.showNested!=!1&&(h.showNested=!0);let d=[];h.nestedGroups.forEach(c=>{const u=l.get(c);u&&(u.nestedInGroup=h.id,h.showNested==!1&&(u.visible=!1),d=d.concat(u))}),l.update(d,a)}})}},update(r,o,a){n._onUpdateGroups(o.items)},remove(r,o,a){n._onRemoveGroups(o.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(t),this.clusters=[]}_create(){const e=document.createElement("div");e.className="vis-itemset",e["vis-itemset"]=this,this.dom.frame=e;const t=document.createElement("div");t.className="vis-background",e.appendChild(t),this.dom.background=t;const n=document.createElement("div");n.className="vis-foreground",e.appendChild(n),this.dom.foreground=n;const r=document.createElement("div");r.className="vis-axis",this.dom.axis=r;const o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();const a=new Ra(qe,null,this);a.show(),this.groups[qe]=a,this.hammer=new te(this.body.dom.centerContainer),this.hammer.on("hammer.input",l=>{l.isFirst&&this._onTouch(l)}),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:te.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new te(this.body.dom.rightContainer):this.groupHammer=new te(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:te.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()}setOptions(e){if(e){const t=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];v.selectiveExtend(t,this.options,e),"itemsAlwaysDraggable"in e&&(typeof e.itemsAlwaysDraggable=="boolean"?(this.options.itemsAlwaysDraggable.item=e.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):typeof e.itemsAlwaysDraggable=="object"&&(v.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,e.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in e&&typeof e.sequentialSelection=="boolean"&&(this.options.sequentialSelection=e.sequentialSelection),"orientation"in e&&(typeof e.orientation=="string"?this.options.orientation.item=e.orientation==="top"?"top":"bottom":typeof e.orientation=="object"&&"item"in e.orientation&&(this.options.orientation.item=e.orientation.item)),"margin"in e&&(typeof e.margin=="number"?(this.options.margin.axis=e.margin,this.options.margin.item.horizontal=e.margin,this.options.margin.item.vertical=e.margin):typeof e.margin=="object"&&(v.selectiveExtend(["axis"],this.options.margin,e.margin),"item"in e.margin&&(typeof e.margin.item=="number"?(this.options.margin.item.horizontal=e.margin.item,this.options.margin.item.vertical=e.margin.item):typeof e.margin.item=="object"&&v.selectiveExtend(["horizontal","vertical"],this.options.margin.item,e.margin.item)))),["locale","locales"].forEach(r=>{r in e&&(this.options[r]=e[r])}),"editable"in e&&(typeof e.editable=="boolean"?(this.options.editable.updateTime=e.editable,this.options.editable.updateGroup=e.editable,this.options.editable.add=e.editable,this.options.editable.remove=e.editable,this.options.editable.overrideItems=!1):typeof e.editable=="object"&&v.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,e.editable)),"groupEditable"in e&&(typeof e.groupEditable=="boolean"?(this.options.groupEditable.order=e.groupEditable,this.options.groupEditable.add=e.groupEditable,this.options.groupEditable.remove=e.groupEditable):typeof e.groupEditable=="object"&&v.selectiveExtend(["order","add","remove"],this.options.groupEditable,e.groupEditable));const n=r=>{const o=e[r];if(o){if(typeof o!="function")throw new Error(`option ${r} must be a function ${r}(item, callback)`);this.options[r]=o}};["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(n),e.cluster?(Object.assign(this.options,{cluster:e.cluster}),this.clusterGenerator||(this.clusterGenerator=new Qv(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(e){this.groupIds=[],e&&(e.refreshItems&&v.forEach(this.items,t=>{t.dirty=!0,t.displayed&&t.redraw()}),e.restackGroups&&v.forEach(this.groups,(t,n)=>{n!==qe&&(t.stackDirty=!0)}))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(e){if(this.clearPopupTimer(),e){const t=this.options.tooltip.delay||typeof this.options.tooltip.delay=="number"?this.options.tooltip.delay:500;this.popupTimer=setTimeout(function(){e.show()},t)}}clearPopupTimer(){this.popupTimer!=null&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(e){e==null&&(e=[]),Array.isArray(e)||(e=[e]);const t=this.selection.filter(n=>e.indexOf(n)===-1);for(let n of t){const r=this.getItemById(n);r&&r.unselect()}this.selection=[...e];for(let n of e){const r=this.getItemById(n);r&&r.select()}}getSelection(){return this.selection.concat([])}getVisibleItems(){const e=this.body.range.getRange();let t,n;this.options.rtl?(t=this.body.util.toScreen(e.start),n=this.body.util.toScreen(e.end)):(n=this.body.util.toScreen(e.start),t=this.body.util.toScreen(e.end));const r=[];for(const o in this.groups)if(this.groups.hasOwnProperty(o)){const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const h of l)this.options.rtl?h.right<n&&h.right+h.width>t&&r.push(h.id):h.left<t&&h.left+h.width>n&&r.push(h.id)}return r}getItemsAtCurrentTime(e){let t,n;this.options.rtl?(t=this.body.util.toScreen(e),n=this.body.util.toScreen(e)):(n=this.body.util.toScreen(e),t=this.body.util.toScreen(e));const r=[];for(const o in this.groups)if(this.groups.hasOwnProperty(o)){const a=this.groups[o],l=a.isVisible?a.visibleItems:[];for(const h of l)this.options.rtl?h.right<n&&h.right+h.width>t&&r.push(h.id):h.left<t&&h.left+h.width>n&&r.push(h.id)}return r}getVisibleGroups(){const e=[];for(const t in this.groups)this.groups.hasOwnProperty(t)&&this.groups[t].isVisible&&e.push(t);return e}getItemById(e){return this.items[e]||this.clusters.find(t=>t.id===e)}_deselect(e){const t=this.selection;for(let n=0,r=t.length;n<r;n++)if(t[n]==e){t.splice(n,1);break}}redraw(){const e=this.options.margin,t=this.body.range,n=v.option.asSize,r=this.options,o=r.orientation.item;let a=!1;const l=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,l.className="vis-itemset",this.options.cluster&&this._clusterItems(),a=this._orderGroups()||a;const h=t.end-t.start,d=h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,c=t.start!=this.lastRangeStart,u=r.stack!=this.lastStack,f=r.stackSubgroups!=this.lastStackSubgroups,p=d||c||u||f;this.lastVisibleInterval=h,this.lastRangeStart=t.start,this.lastStack=r.stack,this.lastStackSubgroups=r.stackSubgroups,this.props.lastWidth=this.props.width;const g=this._firstGroup(),b={item:e.item,axis:e.axis},y={item:e.item,axis:e.item.vertical/2};let _=0;const w=e.axis+e.item.vertical;this.groups[qe].redraw(t,y,p);const x={};let D=0;if(v.forEach(this.groups,(T,S)=>{if(S===qe)return;const N=T==g?b:y,B=!0;x[S]=T.redraw(t,N,p,B),D=x[S].length}),D>0){const T={};for(let S=0;S<D;S++)v.forEach(x,(N,B)=>{T[B]=N[S]()});v.forEach(this.groups,(S,N)=>{if(N===qe)return;a=T[N]||a,_+=S.height}),_=Math.max(_,w)}return _=Math.max(_,w),l.style.height=n(_),this.props.width=l.offsetWidth,this.props.height=_,this.dom.axis.style.top=n(o=="top"?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,a=this._isResized()||a,a}_firstGroup(){const e=this.options.orientation.item=="top"?0:this.groupIds.length-1,t=this.groupIds[e];return this.groups[t]||this.groups[bt]||null}_updateUngrouped(){let e=this.groups[bt],t,n;if(this.groupsData){if(e){e.dispose(),delete this.groups[bt];for(n in this.items)if(this.items.hasOwnProperty(n)){t=this.items[n],t.parent&&t.parent.remove(t);const r=this.getGroupId(t.data),o=this.groups[r];o&&o.add(t)||t.hide()}}}else if(!e){e=new Yi(null,null,this),this.groups[bt]=e;for(n in this.items)this.items.hasOwnProperty(n)&&(t=this.items[n],e.add(t));e.show()}}getLabelSet(){return this.dom.labelSet}setItems(e){this.itemsSettingTime=new Date;const t=this;let n;const r=this.itemsData;if(!e)this.itemsData=null;else if(Ie(e))this.itemsData=Pt(e);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(r&&(v.forEach(this.itemListeners,(o,a)=>{r.off(a,o)}),r.dispose(),n=r.getIds(),this._onRemove(n)),this.itemsData){const o=this.id;v.forEach(this.itemListeners,(a,l)=>{t.itemsData.on(l,a,o)}),n=this.itemsData.getIds(),this._onAdd(n),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return this.itemsData!=null?this.itemsData.rawDS:null}setGroups(e){const t=this;let n;if(this.groupsData&&(v.forEach(this.groupListeners,(r,o)=>{t.groupsData.off(o,r)}),n=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(n)),!e)this.groupsData=null;else if(Ie(e))this.groupsData=e;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){const r=this.groupsData.getDataSet();r.get().forEach(a=>{a.nestedGroups&&a.nestedGroups.forEach(l=>{const h=r.get(l);h.nestedInGroup=a.id,a.showNested==!1&&(h.visible=!1),r.update(h)})});const o=this.id;v.forEach(this.groupListeners,(a,l)=>{t.groupsData.on(l,a,o)}),n=this.groupsData.getIds(),this._onAddGroups(n)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(e){const t=this.itemsData.get(e);t&&this.options.onRemove(t,n=>{n&&this.itemsData.remove(e)})}_getType(e){return e.type||this.options.type||(e.end?"range":"box")}getGroupId(e){return this._getType(e)=="background"&&e.group==null?qe:this.groupsData?e.group:bt}_onUpdate(e){const t=this;e.forEach(n=>{const r=t.itemsData.get(n);let o=t.items[n];const a=r?t._getType(r):null,l=Ve.types[a];let h;if(o&&(!l||!(o instanceof l)?(h=o.selected,t._removeItem(o),o=null):t._updateItem(o,r)),!o&&r)if(l)o=new l(r,t.conversion,t.options),o.id=n,t._addItem(o),h&&(this.selection.push(n),o.select());else throw new TypeError(`Unknown item type "${a}"`)}),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(e){let t=0;const n=this;e.forEach(r=>{const o=n.items[r];o&&(t++,n._removeItem(o))}),t&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){v.forEach(this.groups,e=>{e.order()})}_onUpdateGroups(e){this._onAddGroups(e)}_onAddGroups(e){const t=this;e.forEach(n=>{const r=t.groupsData.get(n);let o=t.groups[n];if(o)o.setData(r);else{if(n==bt||n==qe)throw new Error(`Illegal group id. ${n} is a reserved id.`);const a=Object.create(t.options);v.extend(a,{height:null}),o=new Yi(n,r,t),t.groups[n]=o;for(const l in t.items)if(t.items.hasOwnProperty(l)){const h=t.items[l];h.data.group==n&&o.add(h)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(e){e.forEach(t=>{const n=this.groups[t];n&&(n.dispose(),delete this.groups[t])}),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let e=this.groupsData.getIds({order:this.options.groupOrder});e=this._orderNestedGroups(e);const t=!v.equalArray(e,this.groupIds);if(t){const n=this.groups;e.forEach(r=>{n[r].hide()}),e.forEach(r=>{n[r].show()}),this.groupIds=e}return t}else return!1}_orderNestedGroups(e){function t(r,o){let a=[];return o.forEach(l=>{if(a.push(l),r.groupsData.get(l).nestedGroups){const d=r.groupsData.get({filter(c){return c.nestedInGroup==l},order:r.options.groupOrder}).map(c=>c.id);a=a.concat(t(r,d))}}),a}const n=e.filter(r=>!this.groupsData.get(r).nestedInGroup);return t(this,n)}_addItem(e){this.items[e.id]=e;const t=this.getGroupId(e.data),n=this.groups[t];n?n&&n.data&&n.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1,n&&n.add(e)}_updateItem(e,t){e.setData(t);const n=this.getGroupId(e.data),r=this.groups[n];r?r&&r.data&&r.data.showNested&&(e.groupShowing=!0):e.groupShowing=!1}_removeItem(e){e.hide(),delete this.items[e.id];const t=this.selection.indexOf(e.id);t!=-1&&this.selection.splice(t,1),e.parent&&e.parent.remove(e),this.popup!=null&&this.popup.hide()}_constructByEndArray(e){const t=[];for(let n=0;n<e.length;n++)e[n]instanceof We&&t.push(e[n]);return t}_onTouch(e){this.touchParams.item=this.itemFromTarget(e),this.touchParams.dragLeftItem=e.target.dragLeftItem||!1,this.touchParams.dragRightItem=e.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(e){for(let t=0;t<this.groupIds.length;t++)if(e==this.groupIds[t])return t}_onDragStart(e){if(this.touchParams.itemIsDragging)return;const t=this.touchParams.item||null,n=this;let r;if(t&&(t.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||t.editable!=null&&!t.editable.updateTime&&!t.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,a=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=t,o)r={item:o,initialX:e.center.x,dragLeft:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[r];else if(a)r={item:a,initialX:e.center.x,dragRight:!0,data:this._cloneItemData(t.data)},this.touchParams.itemProps=[r];else if(this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey))this._onDragStartAddItem(e);else{this.groupIds.length<1&&this.redraw();const l=this._getGroupIndex(t.data.group),h=this.options.itemsAlwaysDraggable.item&&!t.selected?[t.id]:this.getSelection();this.touchParams.itemProps=h.map(d=>{const c=n.items[d],u=n._getGroupIndex(c.data.group);return{item:c,initialX:e.center.x,groupOffset:l-u,data:this._cloneItemData(c.data)}})}e.stopPropagation()}else this.options.editable.add&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey)&&this._onDragStartAddItem(e)}_onDragStartAddItem(e){const t=this.options.snap||null,n=this.dom.frame.getBoundingClientRect(),r=this.options.rtl?n.right-e.center.x+10:e.center.x-n.left-10,o=this.body.util.toTime(r),a=this.body.util.getScale(),l=this.body.util.getStep(),h=t?t(o,a,l):o,c={type:"range",start:h,end:h,content:"new item"},u=st();c[this.itemsData.idProp]=u;const f=this.groupFromTarget(e);f&&(c.group=f.groupId);const p=new We(c,this.conversion,this.options);p.id=u,p.data=this._cloneItemData(c),this._addItem(p),this.touchParams.selectedItem=p;const g={item:p,initialX:e.center.x,data:p.data};this.options.rtl?g.dragLeft=!0:g.dragRight=!0,this.touchParams.itemProps=[g],e.stopPropagation()}_onDrag(e){if(this.popup!=null&&this.options.showTooltips&&!this.popup.hidden){const t=this.body.dom.centerContainer,n=t.getBoundingClientRect();this.popup.setPosition(e.center.x-n.left+t.offsetLeft,e.center.y-n.top+t.offsetTop),this.popup.show()}if(this.touchParams.itemProps){e.stopPropagation();const t=this,n=this.options.snap||null,r=this.body.dom.root.offsetLeft,o=this.options.rtl?r+this.body.domProps.right.width:r+this.body.domProps.left.width,a=this.body.util.getScale(),l=this.body.util.getStep(),h=this.touchParams.selectedItem,d=(this.options.editable.overrideItems||h.editable==null)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&h.editable!=null&&h.editable.updateGroup;let c=null;if(d&&h&&h.data.group!=null){const u=t.groupFromTarget(e);u&&(c=this._getGroupIndex(u.groupId))}this.touchParams.itemProps.forEach(u=>{const f=t.body.util.toTime(e.center.x-o),p=t.body.util.toTime(u.initialX-o);let g,b,y,_,w;this.options.rtl?g=-(f-p):g=f-p;let x=this._cloneItemData(u.item.data);if(u.item.editable!=null&&!u.item.editable.updateTime&&!u.item.editable.updateGroup&&!t.options.editable.overrideItems)return;if((this.options.editable.overrideItems||h.editable==null)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&h.editable!=null&&h.editable.updateTime){if(u.dragLeft)this.options.rtl?x.end!=null&&(y=v.convert(u.data.end,"Date"),w=new Date(y.valueOf()+g),x.end=n?n(w,a,l):w):x.start!=null&&(b=v.convert(u.data.start,"Date"),_=new Date(b.valueOf()+g),x.start=n?n(_,a,l):_);else if(u.dragRight)this.options.rtl?x.start!=null&&(b=v.convert(u.data.start,"Date"),_=new Date(b.valueOf()+g),x.start=n?n(_,a,l):_):x.end!=null&&(y=v.convert(u.data.end,"Date"),w=new Date(y.valueOf()+g),x.end=n?n(w,a,l):w);else if(x.start!=null)if(b=v.convert(u.data.start,"Date").valueOf(),_=new Date(b+g),x.end!=null){y=v.convert(u.data.end,"Date");const C=y.valueOf()-b.valueOf();x.start=n?n(_,a,l):_,x.end=new Date(x.start.valueOf()+C)}else x.start=n?n(_,a,l):_}if(d&&!u.dragLeft&&!u.dragRight&&c!=null&&x.group!=null){let C=c-u.groupOffset;C=Math.max(0,C),C=Math.min(t.groupIds.length-1,C),x.group=t.groupIds[C]}x=this._cloneItemData(x),t.options.onMoving(x,C=>{C&&u.item.setData(this._cloneItemData(C,"Date"))})}),this.body.emitter.emit("_change")}}_moveToGroup(e,t){const n=this.groups[t];if(n&&n.groupId!=e.data.group){const r=e.parent;r.remove(e),r.order(),e.data.group=n.groupId,n.add(e),n.order()}}_onDragEnd(e){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){e.stopPropagation();const t=this,n=this.touchParams.itemProps;this.touchParams.itemProps=null,n.forEach(r=>{const o=r.item.id;if(!(t.itemsData.get(o)!=null))t.options.onAdd(r.item.data,l=>{t._removeItem(r.item),l&&t.itemsData.add(l),t.body.emitter.emit("_change")});else{const l=this._cloneItemData(r.item.data);t.options.onMove(l,h=>{h?(h[this.itemsData.idProp]=o,this.itemsData.update(h)):(r.item.setData(r.data),t.body.emitter.emit("_change"))})}})}}_onGroupClick(e){const t=this.groupFromTarget(e);setTimeout(()=>{this.toggleGroupShowNested(t)},1)}toggleGroupShowNested(e,t=void 0){if(!e||!e.nestedGroups)return;const n=this.groupsData.getDataSet();t!=null?e.showNested=!!t:e.showNested=!e.showNested;let r=n.get(e.groupId);r.showNested=e.showNested;let o=e.nestedGroups,a=o;for(;a.length>0;){let d=a;a=[];for(let c=0;c<d.length;c++){let u=n.get(d[c]);u.nestedGroups&&(a=a.concat(u.nestedGroups))}a.length>0&&(o=o.concat(a))}var l;if(r.showNested){var h=n.get(r.nestedGroups);for(let d=0;d<h.length;d++){let c=h[d];c.nestedGroups&&c.nestedGroups.length>0&&(c.showNested==null||c.showNested==!0)&&h.push(...n.get(c.nestedGroups))}l=h.map(function(d){return d.visible==null&&(d.visible=!0),d.visible=!!r.showNested,d})}else l=n.get(o).map(function(d){return d.visible==null&&(d.visible=!0),d.visible=!!r.showNested,d});n.update(l.concat(r)),r.showNested?(v.removeClassName(e.dom.label,"collapsed"),v.addClassName(e.dom.label,"expanded")):(v.removeClassName(e.dom.label,"expanded"),v.addClassName(e.dom.label,"collapsed"))}toggleGroupDragClassName(e){e.dom.label.classList.toggle("vis-group-is-dragging"),e.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(e){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(e),this.groupTouchParams.group&&(e.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(e){if(this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this.groupsData.getDataSet(),n=this.groupFromTarget(e);if(n&&n.height!=this.groupTouchParams.group.height){const r=n.top<this.groupTouchParams.group.top,o=e.center?e.center.y:e.clientY,a=n.dom.foreground.getBoundingClientRect(),l=this.groupTouchParams.group.height;if(r){if(a.top+l<o)return}else{const h=n.height;if(a.top+h-l>o)return}}if(n&&n!=this.groupTouchParams.group){const r=t.get(n.groupId),o=t.get(this.groupTouchParams.group.groupId);o&&r&&(this.options.groupOrderSwap(o,r,t),t.update(o),t.update(r));const a=t.getIds({order:this.options.groupOrder});if(!v.equalArray(a,this.groupTouchParams.originalOrder)){const l=this.groupTouchParams.originalOrder,h=this.groupTouchParams.group.groupId,d=Math.min(l.length,a.length);let c=0,u=0,f=0;for(;c<d;){for(;c+u<d&&c+f<d&&a[c+u]==l[c+f];)c++;if(c+u>=d)break;if(a[c+u]==h)u=1;else if(l[c+f]==h)f=1;else{const p=a.indexOf(l[c+f]),g=t.get(a[c+u]),b=t.get(l[c+f]);this.options.groupOrderSwap(g,b,t),t.update(g),t.update(b);const y=a[c+u];a[c+u]=l[c+f],a[p]=y,c++}}}}}}_onGroupDragEnd(e){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){e.stopPropagation();const t=this,n=t.groupTouchParams.group.groupId,r=t.groupsData.getDataSet(),o=v.extend({},r.get(n));t.options.onMoveGroup(o,a=>{if(a)a[r._idProp]=n,r.update(a);else{const l=r.getIds({order:t.options.groupOrder});if(!v.equalArray(l,t.groupTouchParams.originalOrder)){const h=t.groupTouchParams.originalOrder,d=Math.min(h.length,l.length);let c=0;for(;c<d;){for(;c<d&&l[c]==h[c];)c++;if(c>=d)break;const u=l.indexOf(h[c]),f=r.get(l[c]),p=r.get(h[c]);t.options.groupOrderSwap(f,p,r),r.update(f),r.update(p);const g=l[c];l[c]=h[c],l[u]=g,c++}}}}),t.body.emitter.emit("groupDragged",{groupId:n}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(e){if(!this.options.selectable)return;const t=e.srcEvent&&(e.srcEvent.ctrlKey||e.srcEvent.metaKey),n=e.srcEvent&&e.srcEvent.shiftKey;if(t||n){this._onMultiSelectItem(e);return}const r=this.getSelection(),o=this.itemFromTarget(e),a=o&&o.selectable?[o.id]:[];this.setSelection(a);const l=this.getSelection();(l.length>0||r.length>0)&&this.body.emitter.emit("select",{items:l,event:e})}_onMouseOver(e){const t=this.itemFromTarget(e);if(!t)return;const n=this.itemFromRelatedTarget(e);if(t===n)return;const r=t.getTitle();if(this.options.showTooltips&&r){this.popup==null&&(this.popup=new Vv(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(r);const o=this.body.dom.centerContainer,a=o.getBoundingClientRect();this.popup.setPosition(e.clientX-a.left+o.offsetLeft,e.clientY-a.top+o.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),this.popup!=null&&this.popup.hide();this.body.emitter.emit("itemover",{item:t.id,event:e})}_onMouseOut(e){const t=this.itemFromTarget(e);if(!t)return;const n=this.itemFromRelatedTarget(e);t!==n&&(this.clearPopupTimer(),this.popup!=null&&this.popup.hide(),this.body.emitter.emit("itemout",{item:t.id,event:e}))}_onMouseMove(e){if(this.itemFromTarget(e)&&(this.popupTimer!=null&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const n=this.body.dom.centerContainer,r=n.getBoundingClientRect();this.popup.setPosition(e.clientX-r.left+n.offsetLeft,e.clientY-r.top+n.offsetTop),this.popup.show()}}_onMouseWheel(e){this.touchParams.itemIsDragging&&this._onDragEnd(e)}_onUpdateItem(e){if(!this.options.selectable||!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const t=this;if(e){const n=t.itemsData.get(e.id);this.options.onUpdate(n,r=>{r&&t.itemsData.update(r)})}}_onDropObjectOnItem(e){const t=this.itemFromTarget(e),n=JSON.parse(e.dataTransfer.getData("text"));this.options.onDropObjectOnItem(n,t)}_onAddItem(e){if(!this.options.selectable||!this.options.editable.add)return;const t=this,n=this.options.snap||null,r=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?r.right-e.center.x:e.center.x-r.left,a=this.body.util.toTime(o),l=this.body.util.getScale(),h=this.body.util.getStep();let d,c;e.type=="drop"?(c=JSON.parse(e.dataTransfer.getData("text")),c.content=c.content?c.content:"new item",c.start=c.start?c.start:n?n(a,l,h):a,c.type=c.type||"box",c[this.itemsData.idProp]=c.id||st(),c.type=="range"&&!c.end&&(d=this.body.util.toTime(o+this.props.width/5),c.end=n?n(d,l,h):d)):(c={start:n?n(a,l,h):a,content:"new item"},c[this.itemsData.idProp]=st(),this.options.type==="range"&&(d=this.body.util.toTime(o+this.props.width/5),c.end=n?n(d,l,h):d));const u=this.groupFromTarget(e);u&&(c.group=u.groupId),c=this._cloneItemData(c),this.options.onAdd(c,f=>{f&&(t.itemsData.add(f),e.type=="drop"&&t.setSelection([f.id]))})}_onMultiSelectItem(e){if(!this.options.selectable)return;const t=this.itemFromTarget(e);if(t){let n=this.options.multiselect?this.getSelection():[];if((e.srcEvent&&e.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const a=this.itemsData.get(t.id).group;let l;this.options.multiselectPerGroup&&n.length>0&&(l=this.itemsData.get(n[0]).group),(!this.options.multiselectPerGroup||l==null||l==a)&&n.push(t.id);const h=Ve._getItemRange(this.itemsData.get(n));if(!this.options.multiselectPerGroup||l==a){n=[];for(const d in this.items)if(this.items.hasOwnProperty(d)){const c=this.items[d],u=c.data.start,f=c.data.end!==void 0?c.data.end:u;u>=h.min&&f<=h.max&&(!this.options.multiselectPerGroup||l==this.itemsData.get(c.id).group)&&!(c instanceof Ye)&&n.push(c.id)}}}else{const a=n.indexOf(t.id);a==-1?n.push(t.id):n.splice(a,1)}const o=n.filter(a=>this.getItemById(a).selectable);this.setSelection(o),this.body.emitter.emit("select",{items:this.getSelection(),event:e})}}static _getItemRange(e){let t=null,n=null;return e.forEach(r=>{(n==null||r.start<n)&&(n=r.start),r.end!=null?(t==null||r.end>t)&&(t=r.end):(t==null||r.start>t)&&(t=r.start)}),{min:n,max:t}}itemFromElement(e){let t=e;for(;t;){if(t.hasOwnProperty("vis-item"))return t["vis-item"];t=t.parentNode}return null}itemFromTarget(e){return this.itemFromElement(e.target)}itemFromRelatedTarget(e){return this.itemFromElement(e.relatedTarget)}groupFromTarget(e){const t=e.center?e.center.y:e.clientY;let n=this.groupIds;n.length<=0&&this.groupsData&&(n=this.groupsData.getIds({order:this.options.groupOrder}));for(let r=0;r<n.length;r++){const o=n[r],a=this.groups[o],l=a.dom.foreground,h=l.getBoundingClientRect();if(t>=h.top&&t<h.top+l.offsetHeight)return a;if(this.options.orientation.item==="top"){if(r===this.groupIds.length-1&&t>h.top)return a}else if(r===0&&t<h.top+l.offset)return a}return null}static itemSetFromTarget(e){let t=e.target;for(;t;){if(t.hasOwnProperty("vis-itemset"))return t["vis-itemset"];t=t.parentNode}return null}_cloneItemData(e,t){const n=v.extend({},e);return t||(t=this.itemsData.type),n.start!=null&&(n.start=v.convert(n.start,t&&t.start||"Date")),n.end!=null&&(n.end=v.convert(n.end,t&&t.end||"Date")),n}_clusterItems(){if(!this.options.cluster)return;const{scale:e}=this.body.range.conversion(this.body.domProps.center.width),t=this.clusterGenerator.getClusters(this.clusters,e,this.options.cluster);if(this.clusters!=t){if(this._detachAllClusters(),t){for(let n of t)n.attach();this.clusters=t}this._updateClusters(t)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let e of this.clusters)e.detach()}_updateClusters(e){if(this.clusters&&this.clusters.length){const t=new Set(e.map(o=>o.id)),n=this.clusters.filter(o=>!t.has(o.id));let r=!1;for(let o of n){const a=this.selection.indexOf(o.id);a!==-1&&(o.unselect(),this.selection.splice(a,1),r=!0)}if(r){const o=this.getSelection();this.body.emitter.emit("select",{items:o,event})}}this.clusters=e||[]}}Ve.types={background:Ye,box:rf,range:We,point:of};Ve.prototype._onAdd=Ve.prototype._onUpdate;let Ut=!1,Tl,Xi="background: #FFeeee; color: #dd0000";class U{constructor(){}static validate(e,t,n){Ut=!1,Tl=t;let r=t;return n!==void 0&&(r=t[n]),U.parse(e,r,[]),Ut}static parse(e,t,n){for(let r in e)e.hasOwnProperty(r)&&U.check(r,e,t,n)}static check(e,t,n,r){if(n[e]===void 0&&n.__any__===void 0){U.getSuggestion(e,n,r);return}let o=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(o="__any__",a=U.getType(t[e])==="object");let l=n[o];a&&l.__type__!==void 0&&(l=l.__type__),U.checkFields(e,t,n,o,l,r)}static checkFields(e,t,n,r,o,a){let l=function(c){console.log("%c"+c+U.printLocation(a,e),Xi)},h=U.getType(t[e]),d=o[h];d!==void 0?U.getType(d)==="array"&&d.indexOf(t[e])===-1?(l('Invalid option detected in "'+e+'". Allowed values are:'+U.print(d)+' not "'+t[e]+'". '),Ut=!0):h==="object"&&r!=="__any__"&&(a=v.copyAndExtendArray(a,e),U.parse(t[e],n[r],a)):o.any===void 0&&(l('Invalid type received for "'+e+'". Expected: '+U.print(Object.keys(o))+". Received ["+h+'] "'+t[e]+'"'),Ut=!0)}static getType(e){var t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,n){let r=U.findInOptions(e,t,n,!1),o=U.findInOptions(e,Tl,[],!0),a=8,l=4,h;r.indexMatch!==void 0?h=" in "+U.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+`"?

`:o.distance<=l&&r.distance>o.distance?h=" in "+U.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+U.printLocation(o.path,o.closestMatch,""):r.distance<=a?h='. Did you mean "'+r.closestMatch+'"?'+U.printLocation(r.path,e):h=". Did you mean one of these: "+U.print(Object.keys(t))+U.printLocation(n,e),console.log('%cUnknown option detected: "'+e+'"'+h,Xi),Ut=!0}static findInOptions(e,t,n,r=!1){let o=1e9,a="",l=[],h=e.toLowerCase(),d;for(let c in t){let u;if(t[c].__type__!==void 0&&r===!0){let f=U.findInOptions(e,t[c],v.copyAndExtendArray(n,c));o>f.distance&&(a=f.closestMatch,l=f.path,o=f.distance,d=f.indexMatch)}else c.toLowerCase().indexOf(h)!==-1&&(d=c),u=U.levenshteinDistance(e,c),o>u&&(a=c,l=v.copyArray(n),o=u)}return{closestMatch:a,path:l,distance:o,indexMatch:d}}static printLocation(e,t,n=`Problem value found at: 
`){let r=`

`+n+`options = {
`;for(let o=0;o<e.length;o++){for(let a=0;a<o+1;a++)r+="  ";r+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)r+="  ";r+=t+`
`;for(let o=0;o<e.length+1;o++){for(let a=0;a<e.length-o;a++)r+="  ";r+=`}
`}return r+`

`}static print(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];var o;for(o=0;o<=e.length;o++)n[0][o]=o;for(r=1;r<=t.length;r++)for(o=1;o<=e.length;o++)t.charAt(r-1)==e.charAt(o-1)?n[r][o]=n[r-1][o-1]:n[r][o]=Math.min(n[r-1][o-1]+1,Math.min(n[r][o-1]+1,n[r-1][o]+1));return n[t.length][e.length]}}let O="string",k="boolean",H="number",Sl="array",yt="date",X="object",Zv="dom",_t="moment",Dl="any",Jv={configure:{enabled:{boolean:k},filter:{boolean:k,function:"function"},container:{dom:Zv},__type__:{object:X,boolean:k,function:"function"}},align:{string:O},alignCurrentTime:{string:O,undefined:"undefined"},rtl:{boolean:k,undefined:"undefined"},rollingMode:{follow:{boolean:k},offset:{number:H,undefined:"undefined"},__type__:{object:X}},onTimeout:{timeoutMs:{number:H},callback:{function:"function"},__type__:{object:X}},verticalScroll:{boolean:k,undefined:"undefined"},horizontalScroll:{boolean:k,undefined:"undefined"},autoResize:{boolean:k},throttleRedraw:{number:H},clickToUse:{boolean:k},dataAttributes:{string:O,array:Sl},editable:{add:{boolean:k,undefined:"undefined"},remove:{boolean:k,undefined:"undefined"},updateGroup:{boolean:k,undefined:"undefined"},updateTime:{boolean:k,undefined:"undefined"},overrideItems:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:X}},end:{number:H,date:yt,string:O,moment:_t},format:{minorLabels:{millisecond:{string:O,undefined:"undefined"},second:{string:O,undefined:"undefined"},minute:{string:O,undefined:"undefined"},hour:{string:O,undefined:"undefined"},weekday:{string:O,undefined:"undefined"},day:{string:O,undefined:"undefined"},week:{string:O,undefined:"undefined"},month:{string:O,undefined:"undefined"},year:{string:O,undefined:"undefined"},__type__:{object:X,function:"function"}},majorLabels:{millisecond:{string:O,undefined:"undefined"},second:{string:O,undefined:"undefined"},minute:{string:O,undefined:"undefined"},hour:{string:O,undefined:"undefined"},weekday:{string:O,undefined:"undefined"},day:{string:O,undefined:"undefined"},week:{string:O,undefined:"undefined"},month:{string:O,undefined:"undefined"},year:{string:O,undefined:"undefined"},__type__:{object:X,function:"function"}},__type__:{object:X}},moment:{function:"function"},groupHeightMode:{string:O},groupOrder:{string:O,function:"function"},groupEditable:{add:{boolean:k,undefined:"undefined"},remove:{boolean:k,undefined:"undefined"},order:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:X}},groupOrderSwap:{function:"function"},height:{string:O,number:H},hiddenDates:{start:{date:yt,number:H,string:O,moment:_t},end:{date:yt,number:H,string:O,moment:_t},repeat:{string:O},__type__:{object:X,array:Sl}},itemsAlwaysDraggable:{item:{boolean:k,undefined:"undefined"},range:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:X}},limitSize:{boolean:k},locale:{string:O},locales:{__any__:{any:Dl},__type__:{object:X}},longSelectPressTime:{number:H},margin:{axis:{number:H},item:{horizontal:{number:H,undefined:"undefined"},vertical:{number:H,undefined:"undefined"},__type__:{object:X,number:H}},__type__:{object:X,number:H}},max:{date:yt,number:H,string:O,moment:_t},maxHeight:{number:H,string:O},maxMinorChars:{number:H},min:{date:yt,number:H,string:O,moment:_t},minHeight:{number:H,string:O},moveable:{boolean:k},multiselect:{boolean:k},multiselectPerGroup:{boolean:k},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:O,undefined:"undefined"},item:{string:O,undefined:"undefined"},__type__:{string:O,object:X}},selectable:{boolean:k},sequentialSelection:{boolean:k},showCurrentTime:{boolean:k},showMajorLabels:{boolean:k},showMinorLabels:{boolean:k},showWeekScale:{boolean:k},stack:{boolean:k},stackSubgroups:{boolean:k},cluster:{maxItems:{number:H,undefined:"undefined"},titleTemplate:{string:O,undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:k,undefined:"undefined"},fitOnDoubleClick:{boolean:k,undefined:"undefined"},__type__:{boolean:k,object:X}},snap:{function:"function",null:"null"},start:{date:yt,number:H,string:O,moment:_t},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:O,function:"function"},showTooltips:{boolean:k},tooltip:{followMouse:{boolean:k},overflowMethod:{string:["cap","flip","none"]},delay:{number:H},template:{function:"function"},__type__:{object:X}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:k,object:X}},timeAxis:{scale:{string:O,undefined:"undefined"},step:{number:H,undefined:"undefined"},__type__:{object:X}},type:{string:O},width:{string:O,number:H},preferZoom:{boolean:k},zoomable:{boolean:k},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:H},zoomMax:{number:H},zoomMin:{number:H},xss:{disabled:{boolean:k},filterOptions:{__any__:{any:Dl},__type__:{object:X}},__type__:{object:X}},__type__:{object:X}},eb={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var tb={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class ib{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return tb[e]}setColor(e,t=!0){if(e==="none")return;let n;var r=this._isColorString(e);if(r!==void 0&&(e=r),v.isString(e)===!0){if(v.isValidRGB(e)===!0){let o=e.substr(4).substr(0,e.length-5).split(",");n={r:o[0],g:o[1],b:o[2],a:1}}else if(v.isValidRGBA(e)===!0){let o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(v.isValidHex(e)===!0){let o=v.hexToRGB(e);n={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){let o=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:o}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(n,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=v.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=v.extend({},e)),this.color=e;let n=v.RGBToHSV(e.r,e.g,e.b),r=2*Math.PI,o=this.r*n.s,a=this.centerCoordinates.x+o*Math.sin(r*n.h),l=this.centerCoordinates.y+o*Math.cos(r*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){let t=v.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;let n=v.HSVToRGB(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(e=this.color){let t=v.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let r=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,o),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new te(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),$u(this.hammer,e=>{this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){let e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let t=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,n);let r,o,a,l;this.centerCoordinates={x:t*.5,y:n*.5},this.r=.49*t;let h=2*Math.PI/360,d=1/360,c=1/this.r,u;for(a=0;a<360;a++)for(l=0;l<this.r;l++)r=this.centerCoordinates.x+l*Math.sin(h*a),o=this.centerCoordinates.y+l*Math.cos(h*a),u=v.HSVToRGB(a*d,l*c,1),e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")",e.fillRect(r-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,n)}this.generated=!0}_moveSelector(e){let t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,r=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,l=n-a,h=r-o,d=Math.atan2(l,h),c=.98*Math.min(Math.sqrt(l*l+h*h),a),u=Math.cos(d)*c+o,f=Math.sin(d)*c+a;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=d/(2*Math.PI);p=p<0?p+1:p;let g=c/this.r,b=v.RGBToHSV(this.color.r,this.color.g,this.color.b);b.h=p,b.s=g;let y=v.HSVToRGB(b.h,b.s,b.v);y.a=this.color.a,this.color=y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class af{constructor(e,t,n,r=1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},v.extend(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ib(r),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let e=this.options.filter,t=0,n=!1;for(let r in this.configureOptions)this.configureOptions.hasOwnProperty(r)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(r,[]),n=n||this._handleObject(this.configureOptions[r],[r],!0)):(e===!0||e.indexOf(r)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)t=t[e[n]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){let n=document.createElement("div");return n.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(r=>{n.appendChild(r)}),this.domElements.push(n),this.domElements.length}return 0}_makeHeader(e){let t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=v.xss(e),this._makeItem([],t)}_makeLabel(e,t,n=!1){let r=document.createElement("div");return r.className="vis-configuration vis-config-label vis-config-s"+t.length,n===!0?r.innerHTML=v.xss("<i><b>"+e+":</b></i>"):r.innerHTML=v.xss(e+":"),r}_makeDropdown(e,t,n){let r=document.createElement("select");r.className="vis-configuration vis-config-select";let o=0;t!==void 0&&e.indexOf(t)!==-1&&(o=e.indexOf(t));for(let h=0;h<e.length;h++){let d=document.createElement("option");d.value=e[h],h===o&&(d.selected="selected"),d.innerHTML=e[h],r.appendChild(d)}let a=this;r.onchange=function(){a._update(this.value,n)};let l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,r)}_makeRange(e,t,n){let r=e[0],o=e[1],a=e[2],l=e[3],h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range",h.min=o,h.max=a}catch{}h.step=l;let d="",c=0;if(t!==void 0){let b=1.2;t<0&&t*b<o?(h.min=Math.ceil(t*b),c=h.min,d="range increased"):t/b<o&&(h.min=Math.ceil(t/b),c=h.min,d="range increased"),t*b>a&&a!==1&&(h.max=Math.ceil(t*b),c=h.max,d="range increased"),h.value=t}else h.value=r;let u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=Number(h.value);var f=this;h.onchange=function(){u.value=this.value,f._update(Number(this.value),n)},h.oninput=function(){u.value=this.value};let p=this._makeLabel(n[n.length-1],n),g=this._makeItem(n,p,h,u);d!==""&&this.popupHistory[g]!==c&&(this.popupHistory[g]=c,this._setupPopup(d,g))}_makeButton(){if(this.options.showButton===!0){let e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){let n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerHTML=v.xss(e),n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,n){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,t!==void 0&&(r.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));let o=this;r.onchange=function(){o._update(this.checked,n)};let a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}_makeTextInput(e,t,n){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});let o=this;r.onchange=function(){o._update(this.value,n)};let a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,r)}_makeColorField(e,t,n){let r=e[1],o=document.createElement("div");t=t===void 0?r:t,t!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=t===void 0?r:t,o.onclick=()=>{this._showColorPicker(t,o,n)};let a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}_showColorPicker(e,t,n){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(r=>{let o="rgba("+r.r+","+r.g+","+r.b+","+r.a+")";t.style.backgroundColor=o,this._update(o,n)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,n)}})}_handleObject(e,t=[],n=!1){let r=!1,o=this.options.filter,a=!1;for(let l in e)if(e.hasOwnProperty(l)){r=!0;let h=e[l],d=v.copyAndExtendArray(t,l);if(typeof o=="function"&&(r=o(l,t),r===!1&&!Array.isArray(h)&&typeof h!="string"&&typeof h!="boolean"&&h instanceof Object&&(this.allowCreation=!1,r=this._handleObject(h,d,!0),this.allowCreation=n===!1)),r!==!1){a=!0;let c=this._getValue(d);if(Array.isArray(h))this._handleArray(h,c,d);else if(typeof h=="string")this._makeTextInput(h,c,d);else if(typeof h=="boolean")this._makeCheckbox(h,c,d);else if(h instanceof Object){let u=!0;if(t.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==l&&(u=!1),u===!0)if(h.enabled!==void 0){let f=v.copyAndExtendArray(d,"enabled"),p=this._getValue(f);if(p===!0){let g=this._makeLabel(l,d,!0);this._makeItem(d,g),a=this._handleObject(h,d)||a}else this._makeCheckbox(h,p,d)}else{let f=this._makeLabel(l,d,!0);this._makeItem(d,f),a=this._handleObject(h,d)||a}}else console.error("dont know how to handle",h,l,d)}}return a}_handleArray(e,t,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}_update(e,t){let n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,t,n={}){let r=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<t.length;o++)t[o]!=="global"&&(r[t[o]]===void 0&&(r[t[o]]={}),o!==t.length-1?r=r[t[o]]:r[t[o]]=e);return n}_printOptions(){let e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}getOptions(){let e={};for(var t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}let sb=class lf extends nt{constructor(e,t,n,r){if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof lf))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(n)||Ie(n))&&n instanceof Object){const h=r;r=n,n=h}r&&r.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const o=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:oe},this.options=v.deepExtend({},this.defaultOptions),r&&v.setupXSSProtection(r.xss),this._create(e),!r||r&&typeof r.rtl>"u"){this.dom.root.style.visibility="hidden";let h,d=this.dom.root;for(;!h&&d;)h=window.getComputedStyle(d,null).direction,d=d.parentElement;this.options.rtl=h&&h.toLowerCase()=="rtl"}else this.options.rtl=r.rtl;r&&(r.rollingMode&&(this.options.rollingMode=r.rollingMode),r.onInitialDrawComplete&&(this.options.onInitialDrawComplete=r.onInitialDrawComplete),r.onTimeout&&(this.options.onTimeout=r.onTimeout),r.loadingScreenTemplate&&(this.options.loadingScreenTemplate=r.loadingScreenTemplate));const a=document.createElement("div");if(this.options.loadingScreenTemplate){const h=this.options.loadingScreenTemplate.bind(this),d=h(this.dom.loadingScreen);d instanceof Object&&!(d instanceof Element)?h(a):d instanceof Element?(a.innerHTML="",a.appendChild(d)):d!=null&&(a.innerHTML=v.xss(d))}this.dom.loadingScreen.appendChild(a),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return o.timeAxis.step.scale},getStep(){return o.timeAxis.step.step},toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new bi(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new ui(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new Pa(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new Ve(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null;function l(h,d){o.hasListeners(h)&&o.emit(h,o.getEventProperties(d))}this.dom.root.onclick=h=>{l("click",h)},this.dom.root.ondblclick=h=>{l("doubleClick",h)},this.dom.root.oncontextmenu=h=>{l("contextmenu",h)},this.dom.root.onmouseover=h=>{l("mouseOver",h)},window.PointerEvent?(this.dom.root.onpointerdown=h=>{l("mouseDown",h)},this.dom.root.onpointermove=h=>{l("mouseMove",h)},this.dom.root.onpointerup=h=>{l("mouseUp",h)}):(this.dom.root.onmousemove=h=>{l("mouseMove",h)},this.dom.root.onmousedown=h=>{l("mouseDown",h)},this.dom.root.onmouseup=h=>{l("mouseUp",h)}),this.initialFitDone=!1,this.on("changed",()=>{if(o.itemsData!=null){if(!o.initialFitDone&&!o.options.rollingMode)if(o.initialFitDone=!0,o.options.start!=null||o.options.end!=null){if(o.options.start==null||o.options.end==null)var h=o.getItemRange();const d=o.options.start!=null?o.options.start:h.min,c=o.options.end!=null?o.options.end:h.max;o.setWindow(d,c,{animation:!1})}else o.fit({animation:!1});!o.initialDrawDone&&(o.initialRangeChangeDone||!o.options.start&&!o.options.end||o.options.rollingMode)&&(o.initialDrawDone=!0,o.itemSet.initialDrawDone=!0,o.dom.root.style.visibility="visible",o.dom.loadingScreen.parentNode.removeChild(o.dom.loadingScreen),o.options.onInitialDrawComplete&&setTimeout(()=>o.options.onInitialDrawComplete(),0))}}),this.on("destroyTimeline",()=>{o.destroy()}),r&&this.setOptions(r),this.body.emitter.on("fit",h=>{this._onFit(h),this.redraw()}),n&&this.setGroups(n),t&&this.setItems(t),this._redraw()}_createConfigurator(){return new af(this,this.dom.container,eb)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(e){if(U.validate(e,Jv)===!0&&console.log("%cErrors have been found in the supplied options object.",Xi),nt.prototype.setOptions.call(this,e),"type"in e&&e.type!==this.options.type){this.options.type=e.type;const n=this.itemsData;if(n){const r=this.getSelection();this.setItems(null),this.setItems(n.rawDS),this.setSelection(r)}}}setItems(e){this.itemsDone=!1;let t;e?Ie(e)?t=Pt(e):t=Pt(new ht(e)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.itemSet&&this.itemSet.setItems(t!=null?t.rawDS:null)}setGroups(e){let t;const n=r=>r.visible!==!1;e?(Array.isArray(e)&&(e=new ht(e)),t=new rs(e,{filter:n})):t=null,this.groupsData!=null&&typeof this.groupsData.setData=="function"&&this.groupsData.setData(null),this.groupsData=t,this.itemSet.setGroups(t)}setData(e){e&&e.groups&&this.setGroups(e.groups),e&&e.items&&this.setItems(e.items)}setSelection(e,t){this.itemSet&&this.itemSet.setSelection(e),t&&t.focus&&this.focus(e,t)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(e,t){if(!this.itemsData||e==null)return;const n=Array.isArray(e)?e:[e],r=this.itemsData.get(n);let o=null,a=null;if(r.forEach(l=>{const h=l.start.valueOf(),d="end"in l?l.end.valueOf():l.start.valueOf();(o===null||h<o)&&(o=h),(a===null||d>a)&&(a=d)}),o!==null&&a!==null){const l=this,h=this.itemSet.items[n[0]];let d=this._getScrollTop()*-1,c=null;const u=(w,x,D)=>{const C=El(l,h);if(C===!1||(c||(c=C),c.itemTop==C.itemTop&&!c.shouldScroll))return;c.itemTop!=C.itemTop&&C.shouldScroll&&(c=C,d=l._getScrollTop()*-1);const T=d,S=c.scrollOffset,N=D?S:T+(S-T)*w;l._setScrollTop(-N),x||l._redraw()},f=()=>{const w=El(l,h);w.shouldScroll&&w.itemTop!=c.itemTop&&(l._setScrollTop(-w.scrollOffset),l._redraw())},p=()=>{f(),setTimeout(f,100)},g=t&&t.zoom!==void 0?t.zoom:!0,b=(o+a)/2,y=g?(a-o)*1.1:Math.max(this.range.end-this.range.start,(a-o)*1.1),_=t&&t.animation!==void 0?t.animation:!0;_||(c={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(b-y/2,b+y/2,{animation:_},p,u)}}fit(e,t){const n=e&&e.animation!==void 0?e.animation:!0;let r;this.itemsData.length===1&&this.itemsData.get()[0].end===void 0?(r=this.getDataRange(),this.moveTo(r.min.valueOf(),{animation:n},t)):(r=this.getItemRange(),this.range.setRange(r.min,r.max,{animation:n},t))}getItemRange(){const e=this.getDataRange();let t=e.min!==null?e.min.valueOf():null,n=e.max!==null?e.max.valueOf():null,r=null,o=null;if(t!=null&&n!=null){let a=n-t;a<=0&&(a=10);const l=a/this.props.center.width,h={};let d=0;if(v.forEach(this.itemSet.items,(u,f)=>{u.groupShowing&&(h[f]=u.redraw(!0),d=h[f].length)}),d>0)for(let u=0;u<d;u++)v.forEach(h,f=>{f[u]()});if(v.forEach(this.itemSet.items,u=>{const f=Ls(u),p=qs(u);let g,b;this.options.rtl?(g=f-(u.getWidthRight()+10)*l,b=p+(u.getWidthLeft()+10)*l):(g=f-(u.getWidthLeft()+10)*l,b=p+(u.getWidthRight()+10)*l),g<t&&(t=g,r=u),b>n&&(n=b,o=u)}),r&&o){const u=r.getWidthLeft()+10,f=o.getWidthRight()+10,p=this.props.center.width-u-f;p>0&&(this.options.rtl?(t=Ls(r)-f*a/p,n=qs(o)+u*a/p):(t=Ls(r)-u*a/p,n=qs(o)+f*a/p))}}return{min:t!=null?new Date(t):null,max:n!=null?new Date(n):null}}getDataRange(){let e=null,t=null;return this.itemsData&&this.itemsData.forEach(n=>{const r=v.convert(n.start,"Date").valueOf(),o=v.convert(n.end!=null?n.end:n.start,"Date").valueOf();(e===null||r<e)&&(e=r),(t===null||o>t)&&(t=o)}),{min:e!=null?new Date(e):null,max:t!=null?new Date(t):null}}getEventProperties(e){const t=e.center?e.center.x:e.clientX,n=e.center?e.center.y:e.clientY,r=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?r.right-t:t-r.left,a=n-r.top,l=this.itemSet.itemFromTarget(e),h=this.itemSet.groupFromTarget(e),d=ds.customTimeFromTarget(e),c=this.itemSet.options.snap||null,u=this.body.util.getScale(),f=this.body.util.getStep(),p=this._toTime(o),g=c?c(p,u,f):p,b=v.getTarget(e);let y=null;return l!=null?y="item":d!=null?y="custom-time":v.hasParent(b,this.timeAxis.dom.foreground)||this.timeAxis2&&v.hasParent(b,this.timeAxis2.dom.foreground)?y="axis":v.hasParent(b,this.itemSet.dom.labelSet)?y="group-label":v.hasParent(b,this.currentTime.bar)?y="current-time":v.hasParent(b,this.dom.center)&&(y="background"),{event:e,item:l?l.id:null,isCluster:l?!!l.isCluster:!1,items:l?l.items||[]:null,group:h?h.groupId:null,customTime:d?d.options.id:null,what:y,pageX:e.srcEvent?e.srcEvent.pageX:e.pageX,pageY:e.srcEvent?e.srcEvent.pageY:e.pageY,x:o,y:a,time:p,snappedTime:g}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(this.options.rollingMode==null&&this.setOptions(this.options),this.range.startRolling())}_redraw(){nt.prototype._redraw.call(this)}_onFit(e){const{start:t,end:n,animation:r}=e;n?this.range.setRange(t,n,{animation:r}):this.moveTo(t.valueOf(),{animation:r})}};function Ls(s){return v.convert(s.data.start,"Date").valueOf()}function qs(s){const e=s.data.end!=null?s.data.end:s.data.start;return v.convert(e,"Date").valueOf()}function El(s,e){if(!e.parent)return!1;const t=s.options.rtl?s.props.rightContainer.height:s.props.leftContainer.height,n=s.props.center.height,r=e.parent;let o=r.top,a=!0;const l=s.timeAxis.options.orientation.axis,h=()=>l=="bottom"?r.height-e.top-e.height:e.top,d=s._getScrollTop()*-1,c=o+h(),u=e.height;return c<d?o+t<=o+h()+u&&(o+=h()-s.itemSet.options.margin.item.vertical):c+u>d+t?o+=h()+u-t+s.itemSet.options.margin.item.vertical:a=!1,o=Math.min(o,n-t),{shouldScroll:a,scrollOffset:o,itemTop:c}}function Be(s){for(var e in s)s.hasOwnProperty(e)&&(s[e].redundant=s[e].used,s[e].used=[])}function fe(s){for(var e in s)if(s.hasOwnProperty(e)&&s[e].redundant){for(var t=0;t<s[e].redundant.length;t++)s[e].redundant[t].parentNode.removeChild(s[e].redundant[t]);s[e].redundant=[]}}function nb(s){Be(s),fe(s),Be(s)}function be(s,e,t){var n;return e.hasOwnProperty(s)?e[s].redundant.length>0?(n=e[s].redundant[0],e[s].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",s),t.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",s),e[s]={used:[],redundant:[]},t.appendChild(n)),e[s].used.push(n),n}function Gs(s,e,t,n){var r;return e.hasOwnProperty(s)?e[s].redundant.length>0?(r=e[s].redundant[0],e[s].redundant.shift()):(r=document.createElement(s),n!==void 0?t.insertBefore(r,n):t.appendChild(r)):(r=document.createElement(s),e[s]={used:[],redundant:[]},n!==void 0?t.insertBefore(r,n):t.appendChild(r)),e[s].used.push(r),r}function Rt(s,e,t,n,r,o){var a;if(t.style=="circle"?(a=be("circle",n,r),a.setAttributeNS(null,"cx",s),a.setAttributeNS(null,"cy",e),a.setAttributeNS(null,"r",.5*t.size)):(a=be("rect",n,r),a.setAttributeNS(null,"x",s-.5*t.size),a.setAttributeNS(null,"y",e-.5*t.size),a.setAttributeNS(null,"width",t.size),a.setAttributeNS(null,"height",t.size)),t.styles!==void 0&&a.setAttributeNS(null,"style",t.styles),a.setAttributeNS(null,"class",t.className+" vis-point"),o){var l=be("text",n,r);o.xOffset&&(s=s+o.xOffset),o.yOffset&&(e=e+o.yOffset),o.content&&(l.textContent=o.content),o.className&&l.setAttributeNS(null,"class",o.className+" vis-label"),l.setAttributeNS(null,"x",s),l.setAttributeNS(null,"y",e)}return a}function la(s,e,t,n,r,o,a,l){if(n!=0){n<0&&(n*=-1,e-=n);var h=be("rect",o,a);h.setAttributeNS(null,"x",s-.5*t),h.setAttributeNS(null,"y",e),h.setAttributeNS(null,"width",t),h.setAttributeNS(null,"height",n),h.setAttributeNS(null,"class",r),l&&h.setAttributeNS(null,"style",l)}}function rb(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch{return"en"}}class hf{constructor(e,t,n,r,o,a,l=!1,h=!1){if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=a,this._start=e,this._end=t,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=l,this.autoScaleStart=n,this.autoScaleEnd=r,this.formattingFunction=h,n||r){const d=this,c=u=>{const f=u-u%(d.magnitudefactor*d.minorSteps[d.minorStepIdx]);return u%(d.magnitudefactor*d.minorSteps[d.minorStepIdx])>.5*(d.magnitudefactor*d.minorSteps[d.minorStepIdx])?f+d.magnitudefactor*d.minorSteps[d.minorStepIdx]:f};n&&(this._start-=this.magnitudefactor*2*this.minorSteps[this.minorStepIdx],this._start=c(this._start)),r&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=c(this._end)),this.determineScale()}}setCharHeight(e){this.majorCharHeight=e}setHeight(e){this.containerHeight=e}determineScale(){const e=this._end-this._start;this.scale=this.containerHeight/e;const t=this.majorCharHeight/this.scale,n=e>0?Math.round(Math.log(e)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,n);let r=0;n<0&&(r=n);let o=!1;for(let a=r;Math.abs(a)<=Math.abs(n);a++){this.magnitudefactor=Math.pow(10,a);for(let l=0;l<this.minorSteps.length;l++)if(this.magnitudefactor*this.minorSteps[l]>=t){o=!0,this.minorStepIdx=l;break}if(o===!0)break}}is_major(e){return e%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const e=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(e-this._start%e)%e)}formatValue(e){let t=e.toPrecision(5);return typeof this.formattingFunction=="function"&&(t=this.formattingFunction(e)),typeof t=="number"?`${t}`:typeof t=="string"?t:e.toPrecision(5)}getLines(){const e=[],t=this.getStep(),n=(t-this._start%t)%t;for(let r=this._start+n;this._end-r>1e-5;r+=t)r!=this._start&&e.push({major:this.is_major(r),y:this.convertValue(r),val:this.formatValue(r)});return e}followScale(e){const t=this.minorStepIdx,n=this._start,r=this._end,o=this,a=()=>{o.magnitudefactor*=2},l=()=>{o.magnitudefactor/=2};e.minorStepIdx<=1&&this.minorStepIdx<=1||e.minorStepIdx>1&&this.minorStepIdx>1||(e.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,t==2||a(),a()):(this.minorStepIdx=2,t==1||l(),l()));const h=e.convertValue(0),d=e.getStep()*e.scale;let c=!1,u=0;for(;!c&&u++<5;){this.scale=d/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const f=this.containerHeight/this.scale;this._start=n,this._end=this._start+f;const p=this._end*this.scale,g=this.magnitudefactor*this.majorSteps[this.minorStepIdx],b=this.getFirstMajor()-e.getFirstMajor();if(this.zeroAlign){const y=h-p;this._end+=y/this.scale,this._start=this._end-f}else this.autoScaleStart?(this._start-=b/this.scale,this._end=this._start+f):(this._start+=g-b/this.scale,this._end=this._start+f);if(!this.autoScaleEnd&&this._end>r+1e-5){l(),c=!1;continue}if(!this.autoScaleStart&&this._start<n-1e-5)if(this.zeroAlign&&n>=0)console.warn("Can't adhere to given 'min' range, due to zeroalign");else{l(),c=!1;continue}if(this.autoScaleStart&&this.autoScaleEnd&&f<r-n){a(),c=!1;continue}c=!0}}convertValue(e){return this.containerHeight-(e-this._start)*this.scale}screenToValue(e){return(this.containerHeight-e)/this.scale+this._start}}class ha extends Re{constructor(e,t,n,r){super(),this.id=st(),this.body=e,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format(a){return`${parseFloat(a.toPrecision(3))}`},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format(a){return`${parseFloat(a.toPrecision(3))}`},title:{text:void 0,style:void 0}}},this.linegraphOptions=r,this.linegraphSVG=n,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=v.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(t),this.width=Number(`${this.options.width}`.replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.scale==null&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",()=>{o.dom.lineContainer.style.top=`${o.body.domProps.scrollTop}px`})}addGroup(e,t){this.groups.hasOwnProperty(e)||(this.groups[e]=t),this.amountOfGroups+=1}updateGroup(e,t){this.groups.hasOwnProperty(e)||(this.amountOfGroups+=1),this.groups[e]=t}removeGroup(e){this.groups.hasOwnProperty(e)&&(delete this.groups[e],this.amountOfGroups-=1)}setOptions(e){if(e){let t=!1;this.options.orientation!=e.orientation&&e.orientation!==void 0&&(t=!0);const n=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];v.selectiveDeepExtend(n,this.options,e),this.minWidth=Number(`${this.options.width}`.replace("px","")),t===!0&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){Be(this.svgElements);let e;const t=this.options.iconWidth,n=15,r=4;let o=r+.5*n;this.options.orientation==="left"?e=r:e=this.width-t-r;const a=Object.keys(this.groups);a.sort((l,h)=>l<h?-1:1);for(const l of a)this.groups[l].visible===!0&&(this.linegraphOptions.visibility[l]===void 0||this.linegraphOptions.visibility[l]===!0)&&(this.groups[l].getLegend(t,n,this.framework,e,o),o+=n+r);fe(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){this.iconsRemoved===!1&&(Be(this.svgElements),fe(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||(this.options.orientation==="left"?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(e,t){this.range.start=e,this.range.end=t}redraw(){let e=!1,t=0;this.dom.lineContainer.style.top=`${this.body.domProps.scrollTop}px`;for(const n in this.groups)this.groups.hasOwnProperty(n)&&this.groups[n].visible===!0&&(this.linegraphOptions.visibility[n]===void 0||this.linegraphOptions.visibility[n]===!0)&&t++;if(this.amountOfGroups===0||t===0)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=`${this.height}px`,this.width=this.options.visible===!0?Number(`${this.options.width}`.replace("px","")):0;const n=this.props,r=this.dom.frame;r.className="vis-data-axis",this._calculateCharSize();const o=this.options.orientation,a=this.options.showMinorLabels,l=this.options.showMajorLabels,h=this.body.dom.backgroundHorizontal.offsetWidth;n.minorLabelHeight=a?n.minorCharHeight:0,n.majorLabelHeight=l?n.majorCharHeight:0,n.minorLineWidth=h-this.lineOffset-this.width+2*this.options.minorLinesOffset,n.minorLineHeight=1,n.majorLineWidth=h-this.lineOffset-this.width+2*this.options.majorLinesOffset,n.majorLineHeight=1,o==="left"?(r.style.top="0",r.style.left="0",r.style.bottom="",r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(r.style.top="",r.style.bottom="0",r.style.left="0",r.style.width=`${this.width}px`,r.style.height=`${this.height}px`,this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),e=this._redrawLabels(),e=this._isResized()||e,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(o)}return e}_redrawLabels(){let e=!1;Be(this.DOMelements.lines),Be(this.DOMelements.labels);const t=this.options.orientation,n=this.options[t].range!=null?this.options[t].range:{};let r=!0;n.max!=null&&(this.range.end=n.max,r=!1);let o=!0;n.min!=null&&(this.range.start=n.min,o=!1),this.scale=new hf(this.range.start,this.range.end,o,r,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[t].format),this.master===!1&&this.masterAxis!=null?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0,this.scale.getLines().forEach(d=>{const c=d.y,u=d.major;this.options.showMinorLabels&&u===!1&&this._redrawLabel(c-2,d.val,t,"vis-y-axis vis-minor",this.props.minorCharHeight),u&&c>=0&&this._redrawLabel(c-2,d.val,t,"vis-y-axis vis-major",this.props.majorCharHeight),this.master===!0&&(u?this._redrawLine(c,t,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(c,t,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))});let l=0;this.options[t].title!==void 0&&this.options[t].title.text!==void 0&&(l=this.props.titleCharHeight);const h=this.options.icons===!0?Math.max(this.options.iconWidth,l)+this.options.labelOffsetX+15:l+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&this.options.visible===!0?(this.width=this.maxLabelSize+h,this.options.width=`${this.width}px`,fe(this.DOMelements.lines),fe(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-h&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=`${this.width}px`,fe(this.DOMelements.lines),fe(this.DOMelements.labels),this.redraw(),e=!0):(fe(this.DOMelements.lines),fe(this.DOMelements.labels),e=!1),e}convertValue(e){return this.scale.convertValue(e)}screenToValue(e){return this.scale.screenToValue(e)}_redrawLabel(e,t,n,r,o){const a=Gs("div",this.DOMelements.labels,this.dom.frame);a.className=r,a.innerHTML=v.xss(t),n==="left"?(a.style.left=`-${this.options.labelOffsetX}px`,a.style.textAlign="right"):(a.style.right=`-${this.options.labelOffsetX}px`,a.style.textAlign="left"),a.style.top=`${e-.5*o+this.options.labelOffsetY}px`,t+="";const l=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<t.length*l&&(this.maxLabelSize=t.length*l)}_redrawLine(e,t,n,r,o){if(this.master===!0){const a=Gs("div",this.DOMelements.lines,this.dom.lineContainer);a.className=n,a.innerHTML="",t==="left"?a.style.left=`${this.width-r}px`:a.style.right=`${this.width-r}px`,a.style.width=`${o}px`,a.style.top=`${e}px`}}_redrawTitle(e){if(Be(this.DOMelements.title),this.options[e].title!==void 0&&this.options[e].title.text!==void 0){const t=Gs("div",this.DOMelements.title,this.dom.frame);t.className=`vis-y-axis vis-title vis-${e}`,t.innerHTML=v.xss(this.options[e].title.text),this.options[e].title.style!==void 0&&v.addCssText(t,this.options[e].title.style),e==="left"?t.style.left=`${this.props.titleCharHeight}px`:t.style.right=`${this.props.titleCharHeight}px`,t.style.width=`${this.height}px`}fe(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-minor vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.minorCharHeight=t.clientHeight,this.props.minorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("majorCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-major vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.majorCharHeight=t.clientHeight,this.props.majorCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}if(!("titleCharHeight"in this.props)){const e=document.createTextNode("0"),t=document.createElement("div");t.className="vis-y-axis vis-title vis-measure",t.appendChild(e),this.dom.frame.appendChild(t),this.props.titleCharHeight=t.clientHeight,this.props.titleCharWidth=t.clientWidth,this.dom.frame.removeChild(t)}}}function _i(s,e){}_i.draw=function(s,e,t,n){n=n||0;for(var r=ob(t,e),o=0;o<s.length;o++)if(!r)Rt(s[o].screen_x+n,s[o].screen_y,da(e),t.svgElements,t.svg,s[o].label);else{var a=r(s[o],e);(a===!0||typeof a=="object")&&Rt(s[o].screen_x+n,s[o].screen_y,da(e,a),t.svgElements,t.svg,s[o].label)}};_i.drawIcon=function(s,e,t,n,r,o){var a=r*.5,l=be("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",t-a),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline"),Rt(e+.5*n,t,da(s),o.svgElements,o.svg)};function da(s,e){return e=typeof e>"u"?{}:e,{style:e.style||s.options.drawPoints.style,styles:e.styles||s.options.drawPoints.styles,size:e.size||s.options.drawPoints.size,className:e.className||s.className}}function ob(s,e){var t=void 0;return s.options&&s.options.drawPoints&&s.options.drawPoints.onRender&&typeof s.options.drawPoints.onRender=="function"&&(t=s.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&typeof e.group.options.drawPoints.onRender=="function"&&(t=e.group.options.drawPoints.onRender),t}function se(s,e){}se.drawIcon=function(s,e,t,n,r,o){var a=r*.5,l=be("rect",o.svgElements,o.svg);l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",t-a),l.setAttributeNS(null,"width",n),l.setAttributeNS(null,"height",2*a),l.setAttributeNS(null,"class","vis-outline");var h=Math.round(.3*n),d=s.options.barChart.width,c=d/h,u=Math.round(.4*r),f=Math.round(.75*r),p=Math.round((n-2*h)/3);if(la(e+.5*h+p,t+a-u-1,h,u,s.className+" vis-bar",o.svgElements,o.svg,s.style),la(e+1.5*h+p+2,t+a-f-1,h,f,s.className+" vis-bar",o.svgElements,o.svg,s.style),s.options.drawPoints.enabled==!0){var g={style:s.options.drawPoints.style,styles:s.options.drawPoints.styles,size:s.options.drawPoints.size/c,className:s.className};Rt(e+.5*h+p,t+a-u-1,g,o.svgElements,o.svg),Rt(e+1.5*h+p+2,t+a-f-1,g,o.svgElements,o.svg)}};se.draw=function(s,e,t){var n=[],r={},o,a,l,h,d,c,u=0;for(d=0;d<s.length;d++)if(h=t.groups[s[d]],h.options.style==="bar"&&h.visible===!0&&(t.options.groups.visibility[s[d]]===void 0||t.options.groups.visibility[s[d]]===!0))for(c=0;c<e[s[d]].length;c++)n.push({screen_x:e[s[d]][c].screen_x,screen_end:e[s[d]][c].screen_end,screen_y:e[s[d]][c].screen_y,x:e[s[d]][c].x,end:e[s[d]][c].end,y:e[s[d]][c].y,groupId:s[d],label:e[s[d]][c].label}),u+=1;if(u!==0)for(n.sort(function(b,y){return b.screen_x===y.screen_x?b.groupId<y.groupId?-1:1:b.screen_x-y.screen_x}),se._getDataIntersections(r,n),d=0;d<n.length;d++){h=t.groups[n[d].groupId];var f=h.options.barChart.minWidth!=null?h.options.barChart.minWidth:.1*h.options.barChart.width;a=n[d].screen_x;var p=0;if(r[a]===void 0)d+1<n.length&&(o=Math.abs(n[d+1].screen_x-a)),l=se._getSafeDrawData(o,h,f);else{var g=d+(r[a].amount-r[a].resolved);g<n.length&&(o=Math.abs(n[g].screen_x-a)),l=se._getSafeDrawData(o,h,f),r[a].resolved+=1,h.options.stack===!0&&h.options.excludeFromStacking!==!0?n[d].screen_y<h.zeroPosition?(p=r[a].accumulatedNegative,r[a].accumulatedNegative+=h.zeroPosition-n[d].screen_y):(p=r[a].accumulatedPositive,r[a].accumulatedPositive+=h.zeroPosition-n[d].screen_y):h.options.barChart.sideBySide===!0&&(l.width=l.width/r[a].amount,l.offset+=r[a].resolved*l.width-.5*l.width*(r[a].amount+1))}let b=l.width,y=n[d].screen_x;if(n[d].screen_end!=null?(b=n[d].screen_end-n[d].screen_x,y+=b*.5):y+=l.offset,la(y,n[d].screen_y-p,b,h.zeroPosition-n[d].screen_y,h.className+" vis-bar",t.svgElements,t.svg,h.style),h.options.drawPoints.enabled===!0){let _={screen_x:n[d].screen_x,screen_y:n[d].screen_y-p,x:n[d].x,y:n[d].y,groupId:n[d].groupId,label:n[d].label};_i.draw([_],h,t,l.offset)}}};se._getDataIntersections=function(s,e){for(var t,n=0;n<e.length;n++)n+1<e.length&&(t=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(t=Math.min(t,Math.abs(e[n-1].screen_x-e[n].screen_x))),t===0&&(s[e[n].screen_x]===void 0&&(s[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),s[e[n].screen_x].amount+=1)};se._getSafeDrawData=function(s,e,t){var n,r;return s<e.options.barChart.width&&s>0?(n=s<t?t:s,r=0,e.options.barChart.align==="left"?r-=.5*s:e.options.barChart.align==="right"&&(r+=.5*s)):(n=e.options.barChart.width,r=0,e.options.barChart.align==="left"?r-=.5*e.options.barChart.width:e.options.barChart.align==="right"&&(r+=.5*e.options.barChart.width)),{width:n,offset:r}};se.getStackedYRange=function(s,e,t,n,r){if(s.length>0){s.sort(function(a,l){return a.screen_x===l.screen_x?a.groupId<l.groupId?-1:1:a.screen_x-l.screen_x});var o={};se._getDataIntersections(o,s),e[n]=se._getStackedYRange(o,s),e[n].yAxisOrientation=r,t.push(n)}};se._getStackedYRange=function(s,e){for(var t,n=e[0].screen_y,r=e[0].screen_y,o=0;o<e.length;o++)t=e[o].screen_x,s[t]===void 0?(n=n>e[o].screen_y?e[o].screen_y:n,r=r<e[o].screen_y?e[o].screen_y:r):e[o].screen_y<0?s[t].accumulatedNegative+=e[o].screen_y:s[t].accumulatedPositive+=e[o].screen_y;for(var a in s)s.hasOwnProperty(a)&&(n=n>s[a].accumulatedNegative?s[a].accumulatedNegative:n,n=n>s[a].accumulatedPositive?s[a].accumulatedPositive:n,r=r<s[a].accumulatedNegative?s[a].accumulatedNegative:r,r=r<s[a].accumulatedPositive?s[a].accumulatedPositive:r);return{min:n,max:r}};function J(s,e){}J.calcPath=function(s,e){if(s!=null&&s.length>0){var t=[];return e.options.interpolation.enabled==!0?t=J._catmullRom(s,e):t=J._linear(s),t}};J.drawIcon=function(s,e,t,n,r,o){var a=r*.5,l,h,d=be("rect",o.svgElements,o.svg);if(d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",t-a),d.setAttributeNS(null,"width",n),d.setAttributeNS(null,"height",2*a),d.setAttributeNS(null,"class","vis-outline"),l=be("path",o.svgElements,o.svg),l.setAttributeNS(null,"class",s.className),s.style!==void 0&&l.setAttributeNS(null,"style",s.style),l.setAttributeNS(null,"d","M"+e+","+t+" L"+(e+n)+","+t),s.options.shaded.enabled==!0&&(h=be("path",o.svgElements,o.svg),s.options.shaded.orientation=="top"?h.setAttributeNS(null,"d","M"+e+", "+(t-a)+"L"+e+","+t+" L"+(e+n)+","+t+" L"+(e+n)+","+(t-a)):h.setAttributeNS(null,"d","M"+e+","+t+" L"+e+","+(t+a)+" L"+(e+n)+","+(t+a)+"L"+(e+n)+","+t),h.setAttributeNS(null,"class",s.className+" vis-icon-fill"),s.options.shaded.style!==void 0&&s.options.shaded.style!==""&&h.setAttributeNS(null,"style",s.options.shaded.style)),s.options.drawPoints.enabled==!0){var c={style:s.options.drawPoints.style,styles:s.options.drawPoints.styles,size:s.options.drawPoints.size,className:s.className};Rt(e+.5*n,t,c,o.svgElements,o.svg)}};J.drawShading=function(s,e,t,n){if(e.options.shaded.enabled==!0){var r=Number(n.svg.style.height.replace("px","")),o=be("path",n.svgElements,n.svg),a="L";e.options.interpolation.enabled==!0&&(a="C");var l,h=0;e.options.shaded.orientation=="top"?h=0:e.options.shaded.orientation=="bottom"?h=r:h=Math.min(Math.max(0,e.zeroPosition),r),e.options.shaded.orientation=="group"&&t!=null&&t!=null?l="M"+s[0][0]+","+s[0][1]+" "+this.serializePath(s,a,!1)+" L"+t[t.length-1][0]+","+t[t.length-1][1]+" "+this.serializePath(t,a,!0)+t[0][0]+","+t[0][1]+" Z":l="M"+s[0][0]+","+s[0][1]+" "+this.serializePath(s,a,!1)+" V"+h+" H"+s[0][0]+" Z",o.setAttributeNS(null,"class",e.className+" vis-fill"),e.options.shaded.style!==void 0&&o.setAttributeNS(null,"style",e.options.shaded.style),o.setAttributeNS(null,"d",l)}};J.draw=function(s,e,t){if(s!=null&&s!=null){var n=be("path",t.svgElements,t.svg);n.setAttributeNS(null,"class",e.className),e.style!==void 0&&n.setAttributeNS(null,"style",e.style);var r="L";e.options.interpolation.enabled==!0&&(r="C"),n.setAttributeNS(null,"d","M"+s[0][0]+","+s[0][1]+" "+this.serializePath(s,r,!1))}};J.serializePath=function(s,e,t){if(s.length<2)return"";var n=e,r;if(t)for(r=s.length-2;r>0;r--)n+=s[r][0]+","+s[r][1]+" ";else for(r=1;r<s.length;r++)n+=s[r][0]+","+s[r][1]+" ";return n};J._catmullRomUniform=function(s){var e,t,n,r,o,a,l=[];l.push([Math.round(s[0].screen_x),Math.round(s[0].screen_y)]);for(var h=1/6,d=s.length,c=0;c<d-1;c++)e=c==0?s[0]:s[c-1],t=s[c],n=s[c+1],r=c+2<d?s[c+2]:n,o={screen_x:(-e.screen_x+6*t.screen_x+n.screen_x)*h,screen_y:(-e.screen_y+6*t.screen_y+n.screen_y)*h},a={screen_x:(t.screen_x+6*n.screen_x-r.screen_x)*h,screen_y:(t.screen_y+6*n.screen_y-r.screen_y)*h},l.push([o.screen_x,o.screen_y]),l.push([a.screen_x,a.screen_y]),l.push([n.screen_x,n.screen_y]);return l};J._catmullRom=function(s,e){var t=e.options.interpolation.alpha;if(t==0||t===void 0)return this._catmullRomUniform(s);var n,r,o,a,l,h,d,c,u,f,p,g,b,y,_,w,x,D,C,T=[];T.push([Math.round(s[0].screen_x),Math.round(s[0].screen_y)]);for(var S=s.length,N=0;N<S-1;N++)n=N==0?s[0]:s[N-1],r=s[N],o=s[N+1],a=N+2<S?s[N+2]:o,d=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2)),c=Math.sqrt(Math.pow(r.screen_x-o.screen_x,2)+Math.pow(r.screen_y-o.screen_y,2)),u=Math.sqrt(Math.pow(o.screen_x-a.screen_x,2)+Math.pow(o.screen_y-a.screen_y,2)),y=Math.pow(u,t),w=Math.pow(u,2*t),_=Math.pow(c,t),x=Math.pow(c,2*t),C=Math.pow(d,t),D=Math.pow(d,2*t),f=2*D+3*C*_+x,p=2*w+3*y*_+x,g=3*C*(C+_),g>0&&(g=1/g),b=3*y*(y+_),b>0&&(b=1/b),l={screen_x:(-x*n.screen_x+f*r.screen_x+D*o.screen_x)*g,screen_y:(-x*n.screen_y+f*r.screen_y+D*o.screen_y)*g},h={screen_x:(w*r.screen_x+p*o.screen_x-x*a.screen_x)*b,screen_y:(w*r.screen_y+p*o.screen_y-x*a.screen_y)*b},l.screen_x==0&&l.screen_y==0&&(l=r),h.screen_x==0&&h.screen_y==0&&(h=o),T.push([l.screen_x,l.screen_y]),T.push([h.screen_x,h.screen_y]),T.push([o.screen_x,o.screen_y]);return T};J._linear=function(s){for(var e=[],t=0;t<s.length;t++)e.push([s[t].screen_x,s[t].screen_y]);return e};function Me(s,e,t,n){this.id=e;var r=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=v.selectiveBridgeObject(r,t),this.usingDefaultStyle=s.className===void 0,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(s),this.usingDefaultStyle==!0&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=s.visible===void 0?!0:s.visible}Me.prototype.setItems=function(s){s!=null?(this.itemsData=s,this.options.sort==!0&&v.insertSort(this.itemsData,function(e,t){return e.x>t.x?1:-1})):this.itemsData=[]};Me.prototype.getItems=function(){return this.itemsData};Me.prototype.setZeroPosition=function(s){this.zeroPosition=s};Me.prototype.setOptions=function(s){if(s!==void 0){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];v.selectiveDeepExtend(e,this.options,s),typeof s.drawPoints=="function"&&(s.drawPoints={onRender:s.drawPoints}),v.mergeOptions(this.options,s,"interpolation"),v.mergeOptions(this.options,s,"drawPoints"),v.mergeOptions(this.options,s,"shaded"),s.interpolation&&typeof s.interpolation=="object"&&s.interpolation.parametrization&&(s.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:s.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}};Me.prototype.update=function(s){this.group=s,this.content=s.content||"graph",this.className=s.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=s.visible===void 0?!0:s.visible,this.style=s.style,this.setOptions(s.options)};Me.prototype.getLegend=function(s,e,t,n,r){if(t==null||t==null){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");t={svg:o,svgElements:{},options:this.options,groups:[this]}}switch((n==null||n==null)&&(n=0),(r==null||r==null)&&(r=.5*e),this.options.style){case"line":J.drawIcon(this,n,r,s,e,t);break;case"points":case"point":_i.drawIcon(this,n,r,s,e,t);break;case"bar":se.drawIcon(this,n,r,s,e,t);break}return{icon:t.svg,label:this.content,orientation:this.options.yAxisOrientation}};Me.prototype.getYRange=function(s){for(var e=s[0].y,t=s[0].y,n=0;n<s.length;n++)e=e>s[n].y?s[n].y:e,t=t<s[n].y?s[n].y:t;return{min:e,max:t,yAxisOrientation:this.options.yAxisOrientation}};function le(s,e,t,n){this.body=s,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=t,this.options=v.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}le.prototype=new Re;le.prototype.clear=function(){this.groups={},this.amountOfGroups=0};le.prototype.addGroup=function(s,e){e.options.excludeFromLegend!=!0&&(this.groups.hasOwnProperty(s)||(this.groups[s]=e),this.amountOfGroups+=1)};le.prototype.updateGroup=function(s,e){this.groups[s]=e};le.prototype.removeGroup=function(s){this.groups.hasOwnProperty(s)&&(delete this.groups[s],this.amountOfGroups-=1)};le.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)};le.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};le.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};le.prototype.setOptions=function(s){var e=["enabled","orientation","icons","left","right"];v.selectiveDeepExtend(e,this.options,s)};le.prototype.redraw=function(){var s=0,e=Object.keys(this.groups);e.sort(function(a,l){return a<l?-1:1});for(var t=0;t<e.length;t++){var n=e[t];this.groups[n].visible==!0&&(this.linegraphOptions.visibility[n]===void 0||this.linegraphOptions.visibility[n]==!0)&&s++}if(this.options[this.side].visible==!1||this.amountOfGroups==0||this.options.enabled==!1||s==0)this.hide();else{if(this.show(),this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right")this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}this.options.icons==!1?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var o="";for(t=0;t<e.length;t++)n=e[t],this.groups[n].visible==!0&&(this.linegraphOptions.visibility[n]===void 0||this.linegraphOptions.visibility[n]==!0)&&(o+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=v.xss(o),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};le.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var s=Object.keys(this.groups);s.sort(function(d,c){return d<c?-1:1}),nb(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,t=Number(e.replace("px","")),n=t,r=this.options.iconSize,o=.75*this.options.iconSize,a=t+.5*o+3;this.svg.style.width=r+5+t+"px";for(var l=0;l<s.length;l++){var h=s[l];this.groups[h].visible==!0&&(this.linegraphOptions.visibility[h]===void 0||this.linegraphOptions.visibility[h]==!0)&&(this.groups[h].getLegend(r,o,this.framework,n,a),a+=o+this.options.iconSpacing)}}};var Ki="__ungrouped__";function j(s,e){this.id=st(),this.body=s,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=v.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var t=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(n,r,o){t._onAdd(r.items)},update:function(n,r,o){t._onUpdate(r.items)},remove:function(n,r,o){t._onRemove(r.items)}},this.groupListeners={add:function(n,r,o){t._onAddGroups(r.items)},update:function(n,r,o){t._onUpdateGroups(r.items)},remove:function(n,r,o){t._onRemoveGroups(r.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){t.svg.style.left=v.option.asSize(-t.props.width),t.forceGraphUpdate=!0,t.redraw.call(t)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}j.prototype=new Re;j.prototype._create=function(){var s=document.createElement("div");s.className="vis-line-graph",this.dom.frame=s,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",s.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new ha(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new ha(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new le(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new le(this.body,this.options.legend,"right",this.options.groups),this.show()};j.prototype.setOptions=function(s){if(s){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];s.graphHeight===void 0&&s.height!==void 0?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):this.body.domProps.centerContainer.height!==void 0&&s.graphHeight!==void 0&&parseInt((s.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),v.selectiveDeepExtend(e,this.options,s),v.mergeOptions(this.options,s,"interpolation"),v.mergeOptions(this.options,s,"drawPoints"),v.mergeOptions(this.options,s,"shaded"),v.mergeOptions(this.options,s,"legend"),s.interpolation&&typeof s.interpolation=="object"&&s.interpolation.parametrization&&(s.interpolation.parametrization=="uniform"?this.options.interpolation.alpha=0:s.interpolation.parametrization=="chordal"?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&s.dataAxis!==void 0&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&s.legend!==void 0&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(Ki)&&this.groups[Ki].setOptions(s)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))};j.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};j.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};j.prototype.setItems=function(s){var e=this,t,n=this.itemsData;if(!s)this.itemsData=null;else if(Ie(s))this.itemsData=Pt(s);else throw new TypeError("Data must implement the interface of DataSet or DataView");if(n&&(v.forEach(this.itemListeners,function(o,a){n.off(a,o)}),n.dispose(),t=n.getIds(),this._onRemove(t)),this.itemsData){var r=this.id;v.forEach(this.itemListeners,function(o,a){e.itemsData.on(a,o,r)}),t=this.itemsData.getIds(),this._onAdd(t)}};j.prototype.setGroups=function(s){var e=this,t;if(this.groupsData){v.forEach(this.groupListeners,function(o,a){e.groupsData.off(a,o)}),t=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<t.length;n++)this._removeGroup(t[n])}if(!s)this.groupsData=null;else if(Ie(s))this.groupsData=s;else throw new TypeError("Data must implement the interface of DataSet or DataView");if(this.groupsData){var r=this.id;v.forEach(this.groupListeners,function(o,a){e.groupsData.on(a,o,r)}),t=this.groupsData.getIds(),this._onAddGroups(t)}};j.prototype._onUpdate=function(s){this._updateAllGroupData(s)};j.prototype._onAdd=function(s){this._onUpdate(s)};j.prototype._onRemove=function(s){this._onUpdate(s)};j.prototype._onUpdateGroups=function(s){this._updateAllGroupData(null,s)};j.prototype._onAddGroups=function(s){this._onUpdateGroups(s)};j.prototype._onRemoveGroups=function(s){for(var e=0;e<s.length;e++)this._removeGroup(s[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})};j.prototype._removeGroup=function(s){this.groups.hasOwnProperty(s)&&(this.groups[s].options.yAxisOrientation=="right"?(this.yAxisRight.removeGroup(s),this.legendRight.removeGroup(s),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(s),this.legendLeft.removeGroup(s),this.legendLeft.redraw()),delete this.groups[s])};j.prototype._updateGroup=function(s,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(s),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new Me(s,e,this.options,this.groupsUsingDefaultStyles),this.groups[e].options.yAxisOrientation=="right"?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()};j.prototype._updateAllGroupData=function(s,e){if(this.itemsData!=null){var t={},n=this.itemsData.get(),r=this.itemsData.idProp,o={};s&&s.map(function(y){o[y]=y});for(var a={},l=0;l<n.length;l++){var h=n[l],d=h.group;d==null&&(d=Ki),a.hasOwnProperty(d)?a[d]++:a[d]=1}var c={};if(!e&&s){for(d in this.groups)if(this.groups.hasOwnProperty(d)){b=this.groups[d];var u=b.getItems();t[d]=u.filter(function(y){return c[y[r]]=y[r],y[r]!==o[y[r]]});var f=a[d];a[d]-=t[d].length,t[d].length<f&&(t[d][f-1]={})}}for(l=0;l<n.length;l++)if(h=n[l],d=h.group,d==null&&(d=Ki),!(!e&&s&&h[r]!==o[h[r]]&&c.hasOwnProperty(h[r]))){t.hasOwnProperty(d)||(t[d]=new Array(a[d]));var p=v.bridgeObject(h);p.x=v.convert(h.x,"Date"),p.end=v.convert(h.end,"Date"),p.orginalY=h.y,p.y=Number(h.y),p[r]=h[r];var g=t[d].length-a[d]--;t[d][g]=p}for(d in this.groups)this.groups.hasOwnProperty(d)&&(t.hasOwnProperty(d)||(t[d]=new Array(0)));for(d in t)if(t.hasOwnProperty(d))if(t[d].length==0)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var b=void 0;this.groupsData!=null&&(b=this.groupsData.get(d)),b==null&&(b={id:d,content:this.options.defaultGroup+d}),this._updateGroup(b,d),this.groups[d].setItems(t[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}};j.prototype.redraw=function(){var s=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,s=this._isResized()||s;var e=this.body.range.end-this.body.range.start,t=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,s==!0&&(this.svg.style.width=v.option.asSize(3*this.props.width),this.svg.style.left=v.option.asSize(-this.props.width),((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==!0)&&(this.updateSVGheight=!0)),this.updateSVGheight==!0?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",s==!0||t==!0||this.abortedGraphUpdate==!0||this.forceGraphUpdate==!0)s=this._updateGraph()||s,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(this.lastStart!=0){var n=this.body.range.start-this.lastStart,r=this.body.range.end-this.body.range.start;if(this.props.width!=0){var o=this.props.width/r,a=n*o;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),s};j.prototype._getSortedGroupIds=function(){var s=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var t=this.groups[e];t.visible==!0&&(this.options.groups.visibility[e]===void 0||this.options.groups.visibility[e]==!0)&&s.push({id:e,zIndex:t.options.zIndex})}v.insertSort(s,function(o,a){var l=o.zIndex,h=a.zIndex;return l===void 0&&(l=0),h===void 0&&(h=0),l==h?0:l<h?-1:1});for(var n=new Array(s.length),r=0;r<s.length;r++)n[r]=s[r].id;return n};j.prototype._updateGraph=function(){if(Be(this.svgElements),this.props.width!=0&&this.itemsData!=null){var s,e,t={},n=!1,r=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var l={};for(this._getRelevantData(a,l,r,o),this._applySampling(a,l),e=0;e<a.length;e++)this._convertXcoordinates(l[a[e]]);if(this._getYRanges(a,l,t),n=this._updateYAxis(a,t),n==!0)return fe(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var h=void 0;for(e=0;e<a.length;e++)s=this.groups[a[e]],this.options.stack===!0&&this.options.style==="line"&&(s.options.excludeFromStacking==null||!s.options.excludeFromStacking)&&(h!=null&&(this._stack(l[s.id],l[h.id]),s.options.shaded.enabled==!0&&s.options.shaded.orientation!=="group"&&(s.options.shaded.orientation=="top"&&h.options.shaded.orientation!=="group"?(h.options.shaded.orientation="group",h.options.shaded.groupId=s.id):(s.options.shaded.orientation="group",s.options.shaded.groupId=h.id))),h=s),this._convertYcoordinates(l[a[e]],s);var d={};for(e=0;e<a.length;e++)if(s=this.groups[a[e]],s.options.style==="line"&&s.options.shaded.enabled==!0){var c=l[a[e]];if(c==null||c.length==0)continue;if(d.hasOwnProperty(a[e])||(d[a[e]]=J.calcPath(c,s)),s.options.shaded.orientation==="group"){var u=s.options.shaded.groupId;if(a.indexOf(u)===-1){console.log(s.id+": Unknown shading group target given:"+u);continue}d.hasOwnProperty(u)||(d[u]=J.calcPath(l[u],this.groups[u])),J.drawShading(d[a[e]],s,d[u],this.framework)}else J.drawShading(d[a[e]],s,void 0,this.framework)}for(se.draw(a,l,this.framework),e=0;e<a.length;e++)if(s=this.groups[a[e]],l[a[e]].length>0)switch(s.options.style){case"line":d.hasOwnProperty(a[e])||(d[a[e]]=J.calcPath(l[a[e]],s)),J.draw(d[a[e]],s,this.framework);case"point":case"points":(s.options.style=="point"||s.options.style=="points"||s.options.drawPoints.enabled==!0)&&_i.draw(l[a[e]],s,this.framework);break}}}return fe(this.svgElements),!1};j.prototype._stack=function(s,e){var t,n,r,o,a;t=0;for(var l=0;l<s.length;l++){o=void 0,a=void 0;for(var h=t;h<e.length;h++)if(e[h].x===s[l].x){o=e[h],a=e[h],t=h;break}else if(e[h].x>s[l].x){a=e[h],h==0?o=a:o=e[h-1],t=h;break}a===void 0&&(o=e[e.length-1],a=e[e.length-1]),n=a.x-o.x,r=a.y-o.y,n==0?s[l].y=s[l].orginalY+a.y:s[l].y=s[l].orginalY+r/n*(s[l].x-o.x)+o.y}};j.prototype._getRelevantData=function(s,e,t,n){var r,o,a,l;if(s.length>0)for(o=0;o<s.length;o++){r=this.groups[s[o]];var h=r.getItems();if(r.options.sort==!0){var d=function(p,g){return p.getTime()==g.getTime()?0:p<g?-1:1},c=Math.max(0,v.binarySearchValue(h,t,"x","before",d)),u=Math.min(h.length,v.binarySearchValue(h,n,"x","after",d)+1);u<=0&&(u=h.length);var f=new Array(u-c);for(a=c;a<u;a++)l=r.itemsData[a],f[a-c]=l;e[s[o]]=f}else e[s[o]]=r.itemsData}};j.prototype._applySampling=function(s,e){var t;if(s.length>0){for(var n=0;n<s.length;n++)if(t=this.groups[s[n]],t.options.sampling==!0){var r=e[s[n]];if(r.length>0){var o=1,a=r.length,l=this.body.util.toGlobalScreen(r[r.length-1].x)-this.body.util.toGlobalScreen(r[0].x),h=a/l;o=Math.min(Math.ceil(.2*a),Math.max(1,Math.round(h)));for(var d=new Array(a),c=0;c<a;c+=o){var u=Math.round(c/o);d[u]=r[c]}e[s[n]]=d.splice(0,Math.round(a/o))}}}};j.prototype._getYRanges=function(s,e,t){var n,r,o,a=[],l=[],h;if(s.length>0){for(o=0;o<s.length;o++)n=e[s[o]],h=this.groups[s[o]].options,n.length>0&&(r=this.groups[s[o]],h.stack===!0&&h.style==="bar"?h.yAxisOrientation==="left"?a=a.concat(n):l=l.concat(n):t[s[o]]=r.getYRange(n,s[o]));se.getStackedYRange(a,t,s,"__barStackLeft","left"),se.getStackedYRange(l,t,s,"__barStackRight","right")}};j.prototype._updateYAxis=function(s,e){var t=!1,n=!1,r=!1,o=1e9,a=1e9,l=-1e9,h=-1e9,d,c;if(s.length>0){for(var u=0;u<s.length;u++){var f=this.groups[s[u]];f&&f.options.yAxisOrientation!="right"?(n=!0,o=1e9,l=-1e9):f&&f.options.yAxisOrientation&&(r=!0,a=1e9,h=-1e9)}for(u=0;u<s.length;u++)e.hasOwnProperty(s[u])&&e[s[u]].ignore!==!0&&(d=e[s[u]].min,c=e[s[u]].max,e[s[u]].yAxisOrientation!="right"?(n=!0,o=o>d?d:o,l=l<c?c:l):(r=!0,a=a>d?d:a,h=h<c?c:h));n==!0&&this.yAxisLeft.setRange(o,l),r==!0&&this.yAxisRight.setRange(a,h)}t=this._toggleAxisVisiblity(n,this.yAxisLeft)||t,t=this._toggleAxisVisiblity(r,this.yAxisRight)||t,r==!0&&n==!0?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!n,this.yAxisRight.masterAxis=this.yAxisLeft,this.yAxisRight.master==!1?(r==!0?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,t=this.yAxisLeft.redraw()||t,t=this.yAxisRight.redraw()||t):t=this.yAxisRight.redraw()||t;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<p.length;u++)s.indexOf(p[u])!=-1&&s.splice(s.indexOf(p[u]),1);return t};j.prototype._toggleAxisVisiblity=function(s,e){var t=!1;return s==!1?e.dom.frame.parentNode&&e.hidden==!1&&(e.hide(),t=!0):!e.dom.frame.parentNode&&e.hidden==!0&&(e.show(),t=!0),t};j.prototype._convertXcoordinates=function(s){for(var e=this.body.util.toScreen,t=0;t<s.length;t++)s[t].screen_x=e(s[t].x)+this.props.width,s[t].screen_y=s[t].y,s[t].end!=null?s[t].screen_end=e(s[t].end)+this.props.width:s[t].screen_end=void 0};j.prototype._convertYcoordinates=function(s,e){var t=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));e.options.yAxisOrientation=="right"&&(t=this.yAxisRight);for(var r=0;r<s.length;r++)s[r].screen_y=Math.round(t.convertValue(s[r].y));e.setZeroPosition(Math.min(n,t.convertValue(0)))};let A="string",R="boolean",L="number",ab="array",wt="date",$="object",lb="dom",xt="moment",kl="any",hb={configure:{enabled:{boolean:R},filter:{boolean:R,function:"function"},container:{dom:lb},__type__:{object:$,boolean:R,function:"function"}},alignCurrentTime:{string:A,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:A},sort:{boolean:R},sampling:{boolean:R},stack:{boolean:R},graphHeight:{string:A,number:L},shaded:{enabled:{boolean:R},orientation:{string:["bottom","top","zero","group"]},groupId:{object:$},__type__:{boolean:R,object:$}},style:{string:["line","bar","points"]},barChart:{width:{number:L},minWidth:{number:L},sideBySide:{boolean:R},align:{string:["left","center","right"]},__type__:{object:$}},interpolation:{enabled:{boolean:R},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:L},__type__:{object:$,boolean:R}},drawPoints:{enabled:{boolean:R},onRender:{function:"function"},size:{number:L},style:{string:["square","circle"]},__type__:{object:$,boolean:R,function:"function"}},dataAxis:{showMinorLabels:{boolean:R},showMajorLabels:{boolean:R},showWeekScale:{boolean:R},icons:{boolean:R},width:{string:A,number:L},visible:{boolean:R},alignZeros:{boolean:R},left:{range:{min:{number:L,undefined:"undefined"},max:{number:L,undefined:"undefined"},__type__:{object:$}},format:{function:"function"},title:{text:{string:A,number:L,undefined:"undefined"},style:{string:A,undefined:"undefined"},__type__:{object:$}},__type__:{object:$}},right:{range:{min:{number:L,undefined:"undefined"},max:{number:L,undefined:"undefined"},__type__:{object:$}},format:{function:"function"},title:{text:{string:A,number:L,undefined:"undefined"},style:{string:A,undefined:"undefined"},__type__:{object:$}},__type__:{object:$}},__type__:{object:$}},legend:{enabled:{boolean:R},icons:{boolean:R},left:{visible:{boolean:R},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:$}},right:{visible:{boolean:R},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:$}},__type__:{object:$,boolean:R}},groups:{visibility:{any:kl},__type__:{object:$}},autoResize:{boolean:R},throttleRedraw:{number:L},clickToUse:{boolean:R},end:{number:L,date:wt,string:A,moment:xt},format:{minorLabels:{millisecond:{string:A,undefined:"undefined"},second:{string:A,undefined:"undefined"},minute:{string:A,undefined:"undefined"},hour:{string:A,undefined:"undefined"},weekday:{string:A,undefined:"undefined"},day:{string:A,undefined:"undefined"},week:{string:A,undefined:"undefined"},month:{string:A,undefined:"undefined"},quarter:{string:A,undefined:"undefined"},year:{string:A,undefined:"undefined"},__type__:{object:$}},majorLabels:{millisecond:{string:A,undefined:"undefined"},second:{string:A,undefined:"undefined"},minute:{string:A,undefined:"undefined"},hour:{string:A,undefined:"undefined"},weekday:{string:A,undefined:"undefined"},day:{string:A,undefined:"undefined"},week:{string:A,undefined:"undefined"},month:{string:A,undefined:"undefined"},quarter:{string:A,undefined:"undefined"},year:{string:A,undefined:"undefined"},__type__:{object:$}},__type__:{object:$}},moment:{function:"function"},height:{string:A,number:L},hiddenDates:{start:{date:wt,number:L,string:A,moment:xt},end:{date:wt,number:L,string:A,moment:xt},repeat:{string:A},__type__:{object:$,array:ab}},locale:{string:A},locales:{__any__:{any:kl},__type__:{object:$}},max:{date:wt,number:L,string:A,moment:xt},maxHeight:{number:L,string:A},maxMinorChars:{number:L},min:{date:wt,number:L,string:A,moment:xt},minHeight:{number:L,string:A},moveable:{boolean:R},multiselect:{boolean:R},orientation:{string:A},showCurrentTime:{boolean:R},showMajorLabels:{boolean:R},showMinorLabels:{boolean:R},showWeekScale:{boolean:R},snap:{function:"function",null:"null"},start:{date:wt,number:L,string:A,moment:xt},timeAxis:{scale:{string:A,undefined:"undefined"},step:{number:L,undefined:"undefined"},__type__:{object:$}},width:{string:A,number:L},zoomable:{boolean:R},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:L},zoomMin:{number:L},zIndex:{number:L},__type__:{object:$}},db={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Se(s,e,t,n){if(!(Array.isArray(t)||Ie(t))&&t instanceof Object){var r=n;n=t,t=r}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var o=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:oe,width:null,height:null,maxHeight:null,minHeight:null},this.options=v.deepExtend({},this.defaultOptions),this._create(s),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale(){return o.timeAxis.step.scale},getStep(){return o.timeAxis.step.step},toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new bi(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new ui(this.body),this.components.push(this.timeAxis),this.currentTime=new Pa(this.body),this.components.push(this.currentTime),this.linegraph=new j(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(a){o.emit("click",o.getEventProperties(a))}),this.on("doubletap",function(a){o.emit("doubleClick",o.getEventProperties(a))}),this.dom.root.oncontextmenu=function(a){o.emit("contextmenu",o.getEventProperties(a))},this.initialFitDone=!1,this.on("changed",function(){if(o.itemsData!=null){if(!o.initialFitDone&&!o.options.rollingMode)if(o.initialFitDone=!0,o.options.start!=null||o.options.end!=null){if(o.options.start==null||o.options.end==null)var a=o.getItemRange();var l=o.options.start!=null?o.options.start:a.min,h=o.options.end!=null?o.options.end:a.max;o.setWindow(l,h,{animation:!1})}else o.fit({animation:!1});!o.initialDrawDone&&(o.initialRangeChangeDone||!o.options.start&&!o.options.end||o.options.rollingMode)&&(o.initialDrawDone=!0,o.dom.root.style.visibility="visible",o.dom.loadingScreen.parentNode.removeChild(o.dom.loadingScreen),o.options.onInitialDrawComplete&&setTimeout(()=>o.options.onInitialDrawComplete(),0))}}),n&&this.setOptions(n),t&&this.setGroups(t),e&&this.setItems(e),this._redraw()}Se.prototype=new nt;Se.prototype.setOptions=function(s){U.validate(s,hb)===!0&&console.log("%cErrors have been found in the supplied options object.",Xi),nt.prototype.setOptions.call(this,s)};Se.prototype.setItems=function(s){var e=this.itemsData==null,t;if(s?Ie(s)?t=Pt(s):t=Pt(new ht(s)):t=null,this.itemsData&&this.itemsData.dispose(),this.itemsData=t,this.linegraph&&this.linegraph.setItems(t!=null?t.rawDS:null),e)if(this.options.start!=null||this.options.end!=null){var n=this.options.start!=null?this.options.start:null,r=this.options.end!=null?this.options.end:null;this.setWindow(n,r,{animation:!1})}else this.fit({animation:!1})};Se.prototype.setGroups=function(s){var e;s?Ie(s)?e=s:e=new ht(s):e=null,this.groupsData=e,this.linegraph.setGroups(e)};Se.prototype.getLegend=function(s,e,t){return e===void 0&&(e=15),t===void 0&&(t=15),this.linegraph.groups[s]!==void 0?this.linegraph.groups[s].getLegend(e,t):"cannot find group:'"+s+"'"};Se.prototype.isGroupVisible=function(s){return this.linegraph.groups[s]!==void 0?this.linegraph.groups[s].visible&&(this.linegraph.options.groups.visibility[s]===void 0||this.linegraph.options.groups.visibility[s]==!0):!1};Se.prototype.getDataRange=function(){var s=null,e=null;for(var t in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(t)&&this.linegraph.groups[t].visible==!0)for(var n=0;n<this.linegraph.groups[t].itemsData.length;n++){var r=this.linegraph.groups[t].itemsData[n],o=v.convert(r.x,"Date").valueOf();s=s==null||s>o?o:s,e=e==null||e<o?o:e}return{min:s!=null?new Date(s):null,max:e!=null?new Date(e):null}};Se.prototype.getEventProperties=function(s){var e=s.center?s.center.x:s.clientX,t=s.center?s.center.y:s.clientY,n=e-v.getAbsoluteLeft(this.dom.centerContainer),r=t-v.getAbsoluteTop(this.dom.centerContainer),o=this._toTime(n),a=ds.customTimeFromTarget(s),l=v.getTarget(s),h=null;v.hasParent(l,this.timeAxis.dom.foreground)||this.timeAxis2&&v.hasParent(l,this.timeAxis2.dom.foreground)?h="axis":v.hasParent(l,this.linegraph.yAxisLeft.dom.frame)||v.hasParent(l,this.linegraph.yAxisRight.dom.frame)?h="data-axis":v.hasParent(l,this.linegraph.legendLeft.dom.frame)||v.hasParent(l,this.linegraph.legendRight.dom.frame)?h="legend":a!=null?h="custom-time":v.hasParent(l,this.currentTime.bar)?h="current-time":v.hasParent(l,this.dom.center)&&(h="background");var d=[],c=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return!c.hidden&&this.itemsData.length>0&&d.push(c.screenToValue(r)),!u.hidden&&this.itemsData.length>0&&d.push(u.screenToValue(r)),{event:s,customTime:a?a.options.id:null,what:h,pageX:s.srcEvent?s.srcEvent.pageX:s.pageX,pageY:s.srcEvent?s.srcEvent.pageY:s.pageY,x:n,y:r,time:o,value:d}};Se.prototype._createConfigurator=function(){return new af(this,this.dom.container,db)};const cb=rb();z.locale(cb);const ub={Core:nt,DateUtil:mv,Range:bi,stack:$v,TimeStep:Ue,components:{items:{Item:ft,BackgroundItem:Ye,BoxItem:rf,ClusterItem:yi,PointItem:of,RangeItem:We},BackgroundGroup:Ra,Component:Re,CurrentTime:Pa,CustomTime:ds,DataAxis:ha,DataScale:hf,GraphGroup:Me,Group:Yi,ItemSet:Ve,Legend:le,LineGraph:j,TimeAxis:ui}},fb=Object.freeze(Object.defineProperty({__proto__:null,Graph2d:Se,Timeline:sb,timeline:ub},Symbol.toStringTag,{value:"Module"})),pb=dt(fb);var Hs,Ol;function df(){if(Ol)return Hs;Ol=1;var s=typeof ie=="object"&&ie&&ie.Object===Object&&ie;return Hs=s,Hs}var Bs,Al;function De(){if(Al)return Bs;Al=1;var s=df(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=s||e||Function("return this")();return Bs=t,Bs}var zs,Nl;function wi(){if(Nl)return zs;Nl=1;var s=De(),e=s.Symbol;return zs=e,zs}var $s,Pl;function mb(){if(Pl)return $s;Pl=1;var s=wi(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,r=s?s.toStringTag:void 0;function o(a){var l=t.call(a,r),h=a[r];try{a[r]=void 0;var d=!0}catch{}var c=n.call(a);return d&&(l?a[r]=h:delete a[r]),c}return $s=o,$s}var Us,Il;function gb(){if(Il)return Us;Il=1;var s=Object.prototype,e=s.toString;function t(n){return e.call(n)}return Us=t,Us}var Ws,Rl;function jt(){if(Rl)return Ws;Rl=1;var s=wi(),e=mb(),t=gb(),n="[object Null]",r="[object Undefined]",o=s?s.toStringTag:void 0;function a(l){return l==null?l===void 0?r:n:o&&o in Object(l)?e(l):t(l)}return Ws=a,Ws}var Vs,Ml;function Lt(){if(Ml)return Vs;Ml=1;function s(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Vs=s,Vs}var Ys,Fl;function cf(){if(Fl)return Ys;Fl=1;var s=jt(),e=Lt(),t="[object AsyncFunction]",n="[object Function]",r="[object GeneratorFunction]",o="[object Proxy]";function a(l){if(!e(l))return!1;var h=s(l);return h==n||h==r||h==t||h==o}return Ys=a,Ys}var Xs,jl;function vb(){if(jl)return Xs;jl=1;var s=De(),e=s["__core-js_shared__"];return Xs=e,Xs}var Ks,Ll;function bb(){if(Ll)return Ks;Ll=1;var s=vb(),e=function(){var n=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return Ks=t,Ks}var Qs,ql;function uf(){if(ql)return Qs;ql=1;var s=Function.prototype,e=s.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Qs=t,Qs}var Zs,Gl;function yb(){if(Gl)return Zs;Gl=1;var s=cf(),e=bb(),t=Lt(),n=uf(),r=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,h=a.toString,d=l.hasOwnProperty,c=RegExp("^"+h.call(d).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(f){if(!t(f)||e(f))return!1;var p=s(f)?c:o;return p.test(n(f))}return Zs=u,Zs}var Js,Hl;function _b(){if(Hl)return Js;Hl=1;function s(e,t){return e==null?void 0:e[t]}return Js=s,Js}var en,Bl;function pt(){if(Bl)return en;Bl=1;var s=yb(),e=_b();function t(n,r){var o=e(n,r);return s(o)?o:void 0}return en=t,en}var tn,zl;function cs(){if(zl)return tn;zl=1;var s=pt(),e=s(Object,"create");return tn=e,tn}var sn,$l;function wb(){if($l)return sn;$l=1;var s=cs();function e(){this.__data__=s?s(null):{},this.size=0}return sn=e,sn}var nn,Ul;function xb(){if(Ul)return nn;Ul=1;function s(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return nn=s,nn}var rn,Wl;function Cb(){if(Wl)return rn;Wl=1;var s=cs(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function r(o){var a=this.__data__;if(s){var l=a[o];return l===e?void 0:l}return n.call(a,o)?a[o]:void 0}return rn=r,rn}var on,Vl;function Tb(){if(Vl)return on;Vl=1;var s=cs(),e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=this.__data__;return s?o[r]!==void 0:t.call(o,r)}return on=n,on}var an,Yl;function Sb(){if(Yl)return an;Yl=1;var s=cs(),e="__lodash_hash_undefined__";function t(n,r){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=s&&r===void 0?e:r,this}return an=t,an}var ln,Xl;function Db(){if(Xl)return ln;Xl=1;var s=wb(),e=xb(),t=Cb(),n=Tb(),r=Sb();function o(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var d=a[l];this.set(d[0],d[1])}}return o.prototype.clear=s,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=r,ln=o,ln}var hn,Kl;function Eb(){if(Kl)return hn;Kl=1;function s(){this.__data__=[],this.size=0}return hn=s,hn}var dn,Ql;function Ma(){if(Ql)return dn;Ql=1;function s(e,t){return e===t||e!==e&&t!==t}return dn=s,dn}var cn,Zl;function us(){if(Zl)return cn;Zl=1;var s=Ma();function e(t,n){for(var r=t.length;r--;)if(s(t[r][0],n))return r;return-1}return cn=e,cn}var un,Jl;function kb(){if(Jl)return un;Jl=1;var s=us(),e=Array.prototype,t=e.splice;function n(r){var o=this.__data__,a=s(o,r);if(a<0)return!1;var l=o.length-1;return a==l?o.pop():t.call(o,a,1),--this.size,!0}return un=n,un}var fn,eh;function Ob(){if(eh)return fn;eh=1;var s=us();function e(t){var n=this.__data__,r=s(n,t);return r<0?void 0:n[r][1]}return fn=e,fn}var pn,th;function Ab(){if(th)return pn;th=1;var s=us();function e(t){return s(this.__data__,t)>-1}return pn=e,pn}var mn,ih;function Nb(){if(ih)return mn;ih=1;var s=us();function e(t,n){var r=this.__data__,o=s(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this}return mn=e,mn}var gn,sh;function fs(){if(sh)return gn;sh=1;var s=Eb(),e=kb(),t=Ob(),n=Ab(),r=Nb();function o(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var d=a[l];this.set(d[0],d[1])}}return o.prototype.clear=s,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=r,gn=o,gn}var vn,nh;function Fa(){if(nh)return vn;nh=1;var s=pt(),e=De(),t=s(e,"Map");return vn=t,vn}var bn,rh;function Pb(){if(rh)return bn;rh=1;var s=Db(),e=fs(),t=Fa();function n(){this.size=0,this.__data__={hash:new s,map:new(t||e),string:new s}}return bn=n,bn}var yn,oh;function Ib(){if(oh)return yn;oh=1;function s(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return yn=s,yn}var _n,ah;function ps(){if(ah)return _n;ah=1;var s=Ib();function e(t,n){var r=t.__data__;return s(n)?r[typeof n=="string"?"string":"hash"]:r.map}return _n=e,_n}var wn,lh;function Rb(){if(lh)return wn;lh=1;var s=ps();function e(t){var n=s(this,t).delete(t);return this.size-=n?1:0,n}return wn=e,wn}var xn,hh;function Mb(){if(hh)return xn;hh=1;var s=ps();function e(t){return s(this,t).get(t)}return xn=e,xn}var Cn,dh;function Fb(){if(dh)return Cn;dh=1;var s=ps();function e(t){return s(this,t).has(t)}return Cn=e,Cn}var Tn,ch;function jb(){if(ch)return Tn;ch=1;var s=ps();function e(t,n){var r=s(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this}return Tn=e,Tn}var Sn,uh;function ja(){if(uh)return Sn;uh=1;var s=Pb(),e=Rb(),t=Mb(),n=Fb(),r=jb();function o(a){var l=-1,h=a==null?0:a.length;for(this.clear();++l<h;){var d=a[l];this.set(d[0],d[1])}}return o.prototype.clear=s,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=r,Sn=o,Sn}var Dn,fh;function Lb(){if(fh)return Dn;fh=1;var s="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,s),this}return Dn=e,Dn}var En,ph;function qb(){if(ph)return En;ph=1;function s(e){return this.__data__.has(e)}return En=s,En}var kn,mh;function ff(){if(mh)return kn;mh=1;var s=ja(),e=Lb(),t=qb();function n(r){var o=-1,a=r==null?0:r.length;for(this.__data__=new s;++o<a;)this.add(r[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,kn=n,kn}var On,gh;function Gb(){if(gh)return On;gh=1;function s(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}return On=s,On}var An,vh;function Hb(){if(vh)return An;vh=1;function s(e){return e!==e}return An=s,An}var Nn,bh;function Bb(){if(bh)return Nn;bh=1;function s(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}return Nn=s,Nn}var Pn,yh;function zb(){if(yh)return Pn;yh=1;var s=Gb(),e=Hb(),t=Bb();function n(r,o,a){return o===o?t(r,o,a):s(r,e,a)}return Pn=n,Pn}var In,_h;function pf(){if(_h)return In;_h=1;var s=zb();function e(t,n){var r=t==null?0:t.length;return!!r&&s(t,n,0)>-1}return In=e,In}var Rn,wh;function mf(){if(wh)return Rn;wh=1;function s(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}return Rn=s,Rn}var Mn,xh;function xi(){if(xh)return Mn;xh=1;function s(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}return Mn=s,Mn}var Fn,Ch;function Ci(){if(Ch)return Fn;Ch=1;function s(e){return function(t){return e(t)}}return Fn=s,Fn}var jn,Th;function gf(){if(Th)return jn;Th=1;function s(e,t){return e.has(t)}return jn=s,jn}var Ln,Sh;function $b(){if(Sh)return Ln;Sh=1;var s=ff(),e=pf(),t=mf(),n=xi(),r=Ci(),o=gf(),a=200;function l(h,d,c,u){var f=-1,p=e,g=!0,b=h.length,y=[],_=d.length;if(!b)return y;c&&(d=n(d,r(c))),u?(p=t,g=!1):d.length>=a&&(p=o,g=!1,d=new s(d));e:for(;++f<b;){var w=h[f],x=c==null?w:c(w);if(w=u||w!==0?w:0,g&&x===x){for(var D=_;D--;)if(d[D]===x)continue e;y.push(w)}else p(d,x,u)||y.push(w)}return y}return Ln=l,Ln}var qn,Dh;function La(){if(Dh)return qn;Dh=1;function s(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}return qn=s,qn}var Gn,Eh;function Xe(){if(Eh)return Gn;Eh=1;function s(e){return e!=null&&typeof e=="object"}return Gn=s,Gn}var Hn,kh;function Ub(){if(kh)return Hn;kh=1;var s=jt(),e=Xe(),t="[object Arguments]";function n(r){return e(r)&&s(r)==t}return Hn=n,Hn}var Bn,Oh;function vf(){if(Oh)return Bn;Oh=1;var s=Ub(),e=Xe(),t=Object.prototype,n=t.hasOwnProperty,r=t.propertyIsEnumerable,o=s(function(){return arguments}())?s:function(a){return e(a)&&n.call(a,"callee")&&!r.call(a,"callee")};return Bn=o,Bn}var zn,Ah;function Ke(){if(Ah)return zn;Ah=1;var s=Array.isArray;return zn=s,zn}var $n,Nh;function Wb(){if(Nh)return $n;Nh=1;var s=wi(),e=vf(),t=Ke(),n=s?s.isConcatSpreadable:void 0;function r(o){return t(o)||e(o)||!!(n&&o&&o[n])}return $n=r,$n}var Un,Ph;function bf(){if(Ph)return Un;Ph=1;var s=La(),e=Wb();function t(n,r,o,a,l){var h=-1,d=n.length;for(o||(o=e),l||(l=[]);++h<d;){var c=n[h];r>0&&o(c)?r>1?t(c,r-1,o,a,l):s(l,c):a||(l[l.length]=c)}return l}return Un=t,Un}var Wn,Ih;function qa(){if(Ih)return Wn;Ih=1;function s(e){return e}return Wn=s,Wn}var Vn,Rh;function Vb(){if(Rh)return Vn;Rh=1;function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}return Vn=s,Vn}var Yn,Mh;function yf(){if(Mh)return Yn;Mh=1;var s=Vb(),e=Math.max;function t(n,r,o){return r=e(r===void 0?n.length-1:r,0),function(){for(var a=arguments,l=-1,h=e(a.length-r,0),d=Array(h);++l<h;)d[l]=a[r+l];l=-1;for(var c=Array(r+1);++l<r;)c[l]=a[l];return c[r]=o(d),s(n,this,c)}}return Yn=t,Yn}var Xn,Fh;function Yb(){if(Fh)return Xn;Fh=1;function s(e){return function(){return e}}return Xn=s,Xn}var Kn,jh;function _f(){if(jh)return Kn;jh=1;var s=pt(),e=function(){try{var t=s(Object,"defineProperty");return t({},"",{}),t}catch{}}();return Kn=e,Kn}var Qn,Lh;function Xb(){if(Lh)return Qn;Lh=1;var s=Yb(),e=_f(),t=qa(),n=e?function(r,o){return e(r,"toString",{configurable:!0,enumerable:!1,value:s(o),writable:!0})}:t;return Qn=n,Qn}var Zn,qh;function Kb(){if(qh)return Zn;qh=1;var s=800,e=16,t=Date.now;function n(r){var o=0,a=0;return function(){var l=t(),h=e-(l-a);if(a=l,h>0){if(++o>=s)return arguments[0]}else o=0;return r.apply(void 0,arguments)}}return Zn=n,Zn}var Jn,Gh;function wf(){if(Gh)return Jn;Gh=1;var s=Xb(),e=Kb(),t=e(s);return Jn=t,Jn}var er,Hh;function Ga(){if(Hh)return er;Hh=1;var s=qa(),e=yf(),t=wf();function n(r,o){return t(e(r,o,s),r+"")}return er=n,er}var tr,Bh;function xf(){if(Bh)return tr;Bh=1;var s=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=s}return tr=e,tr}var ir,zh;function qt(){if(zh)return ir;zh=1;var s=cf(),e=xf();function t(n){return n!=null&&e(n.length)&&!s(n)}return ir=t,ir}var sr,$h;function Cf(){if($h)return sr;$h=1;var s=qt(),e=Xe();function t(n){return e(n)&&s(n)}return sr=t,sr}var nr,Uh;function Qb(){if(Uh)return nr;Uh=1;var s=$b(),e=bf(),t=Ga(),n=Cf(),r=t(function(o,a){return n(o)?s(o,e(a,1,n,!0)):[]});return nr=r,nr}var rr,Wh;function Zb(){if(Wh)return rr;Wh=1;var s=ff(),e=pf(),t=mf(),n=xi(),r=Ci(),o=gf(),a=Math.min;function l(h,d,c){for(var u=c?t:e,f=h[0].length,p=h.length,g=p,b=Array(p),y=1/0,_=[];g--;){var w=h[g];g&&d&&(w=n(w,r(d))),y=a(w.length,y),b[g]=!c&&(d||f>=120&&w.length>=120)?new s(g&&w):void 0}w=h[0];var x=-1,D=b[0];e:for(;++x<f&&_.length<y;){var C=w[x],T=d?d(C):C;if(C=c||C!==0?C:0,!(D?o(D,T):u(_,T,c))){for(g=p;--g;){var S=b[g];if(!(S?o(S,T):u(h[g],T,c)))continue e}D&&D.push(T),_.push(C)}}return _}return rr=l,rr}var or,Vh;function Jb(){if(Vh)return or;Vh=1;var s=Cf();function e(t){return s(t)?t:[]}return or=e,or}var ar,Yh;function ey(){if(Yh)return ar;Yh=1;var s=xi(),e=Zb(),t=Ga(),n=Jb(),r=t(function(o){var a=s(o,n);return a.length&&a[0]===o[0]?e(a):[]});return ar=r,ar}var lr,Xh;function Tf(){if(Xh)return lr;Xh=1;function s(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}return lr=s,lr}var hr,Kh;function ty(){if(Kh)return hr;Kh=1;function s(e){return function(t,n,r){for(var o=-1,a=Object(t),l=r(t),h=l.length;h--;){var d=l[e?h:++o];if(n(a[d],d,a)===!1)break}return t}}return hr=s,hr}var dr,Qh;function iy(){if(Qh)return dr;Qh=1;var s=ty(),e=s();return dr=e,dr}var cr,Zh;function sy(){if(Zh)return cr;Zh=1;function s(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}return cr=s,cr}var Vt={exports:{}},ur,Jh;function ny(){if(Jh)return ur;Jh=1;function s(){return!1}return ur=s,ur}Vt.exports;var ed;function Sf(){return ed||(ed=1,function(s,e){var t=De(),n=ny(),r=e&&!e.nodeType&&e,o=r&&!0&&s&&!s.nodeType&&s,a=o&&o.exports===r,l=a?t.Buffer:void 0,h=l?l.isBuffer:void 0,d=h||n;s.exports=d}(Vt,Vt.exports)),Vt.exports}var fr,td;function Df(){if(td)return fr;td=1;var s=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,r){var o=typeof n;return r=r??s,!!r&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<r}return fr=t,fr}var pr,id;function ry(){if(id)return pr;id=1;var s=jt(),e=xf(),t=Xe(),n="[object Arguments]",r="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",h="[object Function]",d="[object Map]",c="[object Number]",u="[object Object]",f="[object RegExp]",p="[object Set]",g="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",D="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",B="[object Uint16Array]",he="[object Uint32Array]",I={};I[w]=I[x]=I[D]=I[C]=I[T]=I[S]=I[N]=I[B]=I[he]=!0,I[n]=I[r]=I[y]=I[o]=I[_]=I[a]=I[l]=I[h]=I[d]=I[c]=I[u]=I[f]=I[p]=I[g]=I[b]=!1;function _e(Fe){return t(Fe)&&e(Fe.length)&&!!I[s(Fe)]}return pr=_e,pr}var Yt={exports:{}};Yt.exports;var sd;function Ha(){return sd||(sd=1,function(s,e){var t=df(),n=e&&!e.nodeType&&e,r=n&&!0&&s&&!s.nodeType&&s,o=r&&r.exports===n,a=o&&t.process,l=function(){try{var h=r&&r.require&&r.require("util").types;return h||a&&a.binding&&a.binding("util")}catch{}}();s.exports=l}(Yt,Yt.exports)),Yt.exports}var mr,nd;function oy(){if(nd)return mr;nd=1;var s=ry(),e=Ci(),t=Ha(),n=t&&t.isTypedArray,r=n?e(n):s;return mr=r,mr}var gr,rd;function Ef(){if(rd)return gr;rd=1;var s=sy(),e=vf(),t=Ke(),n=Sf(),r=Df(),o=oy(),a=Object.prototype,l=a.hasOwnProperty;function h(d,c){var u=t(d),f=!u&&e(d),p=!u&&!f&&n(d),g=!u&&!f&&!p&&o(d),b=u||f||p||g,y=b?s(d.length,String):[],_=y.length;for(var w in d)(c||l.call(d,w))&&!(b&&(w=="length"||p&&(w=="offset"||w=="parent")||g&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||r(w,_)))&&y.push(w);return y}return gr=h,gr}var vr,od;function ms(){if(od)return vr;od=1;var s=Object.prototype;function e(t){var n=t&&t.constructor,r=typeof n=="function"&&n.prototype||s;return t===r}return vr=e,vr}var br,ad;function kf(){if(ad)return br;ad=1;function s(e,t){return function(n){return e(t(n))}}return br=s,br}var yr,ld;function ay(){if(ld)return yr;ld=1;var s=kf(),e=s(Object.keys,Object);return yr=e,yr}var _r,hd;function ly(){if(hd)return _r;hd=1;var s=ms(),e=ay(),t=Object.prototype,n=t.hasOwnProperty;function r(o){if(!s(o))return e(o);var a=[];for(var l in Object(o))n.call(o,l)&&l!="constructor"&&a.push(l);return a}return _r=r,_r}var wr,dd;function Gt(){if(dd)return wr;dd=1;var s=Ef(),e=ly(),t=qt();function n(r){return t(r)?s(r):e(r)}return wr=n,wr}var xr,cd;function hy(){if(cd)return xr;cd=1;var s=iy(),e=Gt();function t(n,r){return n&&s(n,r,e)}return xr=t,xr}var Cr,ud;function dy(){if(ud)return Cr;ud=1;var s=qt();function e(t,n){return function(r,o){if(r==null)return r;if(!s(r))return t(r,o);for(var a=r.length,l=n?a:-1,h=Object(r);(n?l--:++l<a)&&o(h[l],l,h)!==!1;);return r}}return Cr=e,Cr}var Tr,fd;function cy(){if(fd)return Tr;fd=1;var s=hy(),e=dy(),t=e(s);return Tr=t,Tr}var Sr,pd;function uy(){if(pd)return Sr;pd=1;var s=qa();function e(t){return typeof t=="function"?t:s}return Sr=e,Sr}var Dr,md;function fy(){if(md)return Dr;md=1;var s=Tf(),e=cy(),t=uy(),n=Ke();function r(o,a){var l=n(o)?s:e;return l(o,t(a))}return Dr=r,Dr}var Er,gd;function py(){return gd||(gd=1,Er=fy()),Er}var kr,vd;function Of(){if(vd)return kr;vd=1;var s=_f();function e(t,n,r){n=="__proto__"&&s?s(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}return kr=e,kr}var Or,bd;function Ba(){if(bd)return Or;bd=1;var s=Of(),e=Ma(),t=Object.prototype,n=t.hasOwnProperty;function r(o,a,l){var h=o[a];(!(n.call(o,a)&&e(h,l))||l===void 0&&!(a in o))&&s(o,a,l)}return Or=r,Or}var Ar,yd;function Ht(){if(yd)return Ar;yd=1;var s=Ba(),e=Of();function t(n,r,o,a){var l=!o;o||(o={});for(var h=-1,d=r.length;++h<d;){var c=r[h],u=a?a(o[c],n[c],c,o,n):void 0;u===void 0&&(u=n[c]),l?e(o,c,u):s(o,c,u)}return o}return Ar=t,Ar}var Nr,_d;function my(){if(_d)return Nr;_d=1;var s=Ma(),e=qt(),t=Df(),n=Lt();function r(o,a,l){if(!n(l))return!1;var h=typeof a;return(h=="number"?e(l)&&t(a,l.length):h=="string"&&a in l)?s(l[a],o):!1}return Nr=r,Nr}var Pr,wd;function gy(){if(wd)return Pr;wd=1;var s=Ga(),e=my();function t(n){return s(function(r,o){var a=-1,l=o.length,h=l>1?o[l-1]:void 0,d=l>2?o[2]:void 0;for(h=n.length>3&&typeof h=="function"?(l--,h):void 0,d&&e(o[0],o[1],d)&&(h=l<3?void 0:h,l=1),r=Object(r);++a<l;){var c=o[a];c&&n(r,c,a,h)}return r})}return Pr=t,Pr}var Ir,xd;function vy(){if(xd)return Ir;xd=1;var s=Ba(),e=Ht(),t=gy(),n=qt(),r=ms(),o=Gt(),a=Object.prototype,l=a.hasOwnProperty,h=t(function(d,c){if(r(c)||n(c)){e(c,o(c),d);return}for(var u in c)l.call(c,u)&&s(d,u,c[u])});return Ir=h,Ir}var Rr,Cd;function by(){if(Cd)return Rr;Cd=1;var s=fs();function e(){this.__data__=new s,this.size=0}return Rr=e,Rr}var Mr,Td;function yy(){if(Td)return Mr;Td=1;function s(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return Mr=s,Mr}var Fr,Sd;function _y(){if(Sd)return Fr;Sd=1;function s(e){return this.__data__.get(e)}return Fr=s,Fr}var jr,Dd;function wy(){if(Dd)return jr;Dd=1;function s(e){return this.__data__.has(e)}return jr=s,jr}var Lr,Ed;function xy(){if(Ed)return Lr;Ed=1;var s=fs(),e=Fa(),t=ja(),n=200;function r(o,a){var l=this.__data__;if(l instanceof s){var h=l.__data__;if(!e||h.length<n-1)return h.push([o,a]),this.size=++l.size,this;l=this.__data__=new t(h)}return l.set(o,a),this.size=l.size,this}return Lr=r,Lr}var qr,kd;function Cy(){if(kd)return qr;kd=1;var s=fs(),e=by(),t=yy(),n=_y(),r=wy(),o=xy();function a(l){var h=this.__data__=new s(l);this.size=h.size}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=o,qr=a,qr}var Gr,Od;function Ty(){if(Od)return Gr;Od=1;var s=Ht(),e=Gt();function t(n,r){return n&&s(r,e(r),n)}return Gr=t,Gr}var Hr,Ad;function Sy(){if(Ad)return Hr;Ad=1;function s(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}return Hr=s,Hr}var Br,Nd;function Dy(){if(Nd)return Br;Nd=1;var s=Lt(),e=ms(),t=Sy(),n=Object.prototype,r=n.hasOwnProperty;function o(a){if(!s(a))return t(a);var l=e(a),h=[];for(var d in a)d=="constructor"&&(l||!r.call(a,d))||h.push(d);return h}return Br=o,Br}var zr,Pd;function za(){if(Pd)return zr;Pd=1;var s=Ef(),e=Dy(),t=qt();function n(r){return t(r)?s(r,!0):e(r)}return zr=n,zr}var $r,Id;function Ey(){if(Id)return $r;Id=1;var s=Ht(),e=za();function t(n,r){return n&&s(r,e(r),n)}return $r=t,$r}var Xt={exports:{}};Xt.exports;var Rd;function ky(){return Rd||(Rd=1,function(s,e){var t=De(),n=e&&!e.nodeType&&e,r=n&&!0&&s&&!s.nodeType&&s,o=r&&r.exports===n,a=o?t.Buffer:void 0,l=a?a.allocUnsafe:void 0;function h(d,c){if(c)return d.slice();var u=d.length,f=l?l(u):new d.constructor(u);return d.copy(f),f}s.exports=h}(Xt,Xt.exports)),Xt.exports}var Ur,Md;function Oy(){if(Md)return Ur;Md=1;function s(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}return Ur=s,Ur}var Wr,Fd;function Ay(){if(Fd)return Wr;Fd=1;function s(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var l=e[n];t(l,n,e)&&(a[o++]=l)}return a}return Wr=s,Wr}var Vr,jd;function Af(){if(jd)return Vr;jd=1;function s(){return[]}return Vr=s,Vr}var Yr,Ld;function $a(){if(Ld)return Yr;Ld=1;var s=Ay(),e=Af(),t=Object.prototype,n=t.propertyIsEnumerable,r=Object.getOwnPropertySymbols,o=r?function(a){return a==null?[]:(a=Object(a),s(r(a),function(l){return n.call(a,l)}))}:e;return Yr=o,Yr}var Xr,qd;function Ny(){if(qd)return Xr;qd=1;var s=Ht(),e=$a();function t(n,r){return s(n,e(n),r)}return Xr=t,Xr}var Kr,Gd;function Ua(){if(Gd)return Kr;Gd=1;var s=kf(),e=s(Object.getPrototypeOf,Object);return Kr=e,Kr}var Qr,Hd;function Nf(){if(Hd)return Qr;Hd=1;var s=La(),e=Ua(),t=$a(),n=Af(),r=Object.getOwnPropertySymbols,o=r?function(a){for(var l=[];a;)s(l,t(a)),a=e(a);return l}:n;return Qr=o,Qr}var Zr,Bd;function Py(){if(Bd)return Zr;Bd=1;var s=Ht(),e=Nf();function t(n,r){return s(n,e(n),r)}return Zr=t,Zr}var Jr,zd;function Pf(){if(zd)return Jr;zd=1;var s=La(),e=Ke();function t(n,r,o){var a=r(n);return e(n)?a:s(a,o(n))}return Jr=t,Jr}var eo,$d;function Iy(){if($d)return eo;$d=1;var s=Pf(),e=$a(),t=Gt();function n(r){return s(r,t,e)}return eo=n,eo}var to,Ud;function If(){if(Ud)return to;Ud=1;var s=Pf(),e=Nf(),t=za();function n(r){return s(r,t,e)}return to=n,to}var io,Wd;function Ry(){if(Wd)return io;Wd=1;var s=pt(),e=De(),t=s(e,"DataView");return io=t,io}var so,Vd;function My(){if(Vd)return so;Vd=1;var s=pt(),e=De(),t=s(e,"Promise");return so=t,so}var no,Yd;function Fy(){if(Yd)return no;Yd=1;var s=pt(),e=De(),t=s(e,"Set");return no=t,no}var ro,Xd;function jy(){if(Xd)return ro;Xd=1;var s=pt(),e=De(),t=s(e,"WeakMap");return ro=t,ro}var oo,Kd;function Wa(){if(Kd)return oo;Kd=1;var s=Ry(),e=Fa(),t=My(),n=Fy(),r=jy(),o=jt(),a=uf(),l="[object Map]",h="[object Object]",d="[object Promise]",c="[object Set]",u="[object WeakMap]",f="[object DataView]",p=a(s),g=a(e),b=a(t),y=a(n),_=a(r),w=o;return(s&&w(new s(new ArrayBuffer(1)))!=f||e&&w(new e)!=l||t&&w(t.resolve())!=d||n&&w(new n)!=c||r&&w(new r)!=u)&&(w=function(x){var D=o(x),C=D==h?x.constructor:void 0,T=C?a(C):"";if(T)switch(T){case p:return f;case g:return l;case b:return d;case y:return c;case _:return u}return D}),oo=w,oo}var ao,Qd;function Ly(){if(Qd)return ao;Qd=1;var s=Object.prototype,e=s.hasOwnProperty;function t(n){var r=n.length,o=new n.constructor(r);return r&&typeof n[0]=="string"&&e.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return ao=t,ao}var lo,Zd;function qy(){if(Zd)return lo;Zd=1;var s=De(),e=s.Uint8Array;return lo=e,lo}var ho,Jd;function Va(){if(Jd)return ho;Jd=1;var s=qy();function e(t){var n=new t.constructor(t.byteLength);return new s(n).set(new s(t)),n}return ho=e,ho}var co,ec;function Gy(){if(ec)return co;ec=1;var s=Va();function e(t,n){var r=n?s(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}return co=e,co}var uo,tc;function Hy(){if(tc)return uo;tc=1;var s=/\w*$/;function e(t){var n=new t.constructor(t.source,s.exec(t));return n.lastIndex=t.lastIndex,n}return uo=e,uo}var fo,ic;function By(){if(ic)return fo;ic=1;var s=wi(),e=s?s.prototype:void 0,t=e?e.valueOf:void 0;function n(r){return t?Object(t.call(r)):{}}return fo=n,fo}var po,sc;function zy(){if(sc)return po;sc=1;var s=Va();function e(t,n){var r=n?s(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}return po=e,po}var mo,nc;function $y(){if(nc)return mo;nc=1;var s=Va(),e=Gy(),t=Hy(),n=By(),r=zy(),o="[object Boolean]",a="[object Date]",l="[object Map]",h="[object Number]",d="[object RegExp]",c="[object Set]",u="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",D="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",S="[object Uint32Array]";function N(B,he,I){var _e=B.constructor;switch(he){case p:return s(B);case o:case a:return new _e(+B);case g:return e(B,I);case b:case y:case _:case w:case x:case D:case C:case T:case S:return r(B,I);case l:return new _e;case h:case u:return new _e(B);case d:return t(B);case c:return new _e;case f:return n(B)}}return mo=N,mo}var go,rc;function Uy(){if(rc)return go;rc=1;var s=Lt(),e=Object.create,t=function(){function n(){}return function(r){if(!s(r))return{};if(e)return e(r);n.prototype=r;var o=new n;return n.prototype=void 0,o}}();return go=t,go}var vo,oc;function Wy(){if(oc)return vo;oc=1;var s=Uy(),e=Ua(),t=ms();function n(r){return typeof r.constructor=="function"&&!t(r)?s(e(r)):{}}return vo=n,vo}var bo,ac;function Vy(){if(ac)return bo;ac=1;var s=Wa(),e=Xe(),t="[object Map]";function n(r){return e(r)&&s(r)==t}return bo=n,bo}var yo,lc;function Yy(){if(lc)return yo;lc=1;var s=Vy(),e=Ci(),t=Ha(),n=t&&t.isMap,r=n?e(n):s;return yo=r,yo}var _o,hc;function Xy(){if(hc)return _o;hc=1;var s=Wa(),e=Xe(),t="[object Set]";function n(r){return e(r)&&s(r)==t}return _o=n,_o}var wo,dc;function Ky(){if(dc)return wo;dc=1;var s=Xy(),e=Ci(),t=Ha(),n=t&&t.isSet,r=n?e(n):s;return wo=r,wo}var xo,cc;function Qy(){if(cc)return xo;cc=1;var s=Cy(),e=Tf(),t=Ba(),n=Ty(),r=Ey(),o=ky(),a=Oy(),l=Ny(),h=Py(),d=Iy(),c=If(),u=Wa(),f=Ly(),p=$y(),g=Wy(),b=Ke(),y=Sf(),_=Yy(),w=Lt(),x=Ky(),D=Gt(),C=za(),T=1,S=2,N=4,B="[object Arguments]",he="[object Array]",I="[object Boolean]",_e="[object Date]",Fe="[object Error]",Ee="[object Function]",Ti="[object GeneratorFunction]",vs="[object Map]",Qe="[object Number]",Si="[object Object]",Di="[object RegExp]",mt="[object Set]",bs="[object String]",ys="[object Symbol]",_s="[object WeakMap]",ws="[object ArrayBuffer]",xs="[object DataView]",Cs="[object Float32Array]",Ts="[object Float64Array]",Ss="[object Int8Array]",Ds="[object Int16Array]",Es="[object Int32Array]",ks="[object Uint8Array]",E="[object Uint8ClampedArray]",F="[object Uint16Array]",Q="[object Uint32Array]",M={};M[B]=M[he]=M[ws]=M[xs]=M[I]=M[_e]=M[Cs]=M[Ts]=M[Ss]=M[Ds]=M[Es]=M[vs]=M[Qe]=M[Si]=M[Di]=M[mt]=M[bs]=M[ys]=M[ks]=M[E]=M[F]=M[Q]=!0,M[Fe]=M[Ee]=M[_s]=!1;function ke(P,we,Oe,Bt,Ei,je){var re,ki=we&T,Oi=we&S,Bf=we&N;if(Oe&&(re=Ei?Oe(P,Bt,Ei,je):Oe(P)),re!==void 0)return re;if(!w(P))return P;var Ka=b(P);if(Ka){if(re=f(P),!ki)return a(P,re)}else{var gt=u(P),Qa=gt==Ee||gt==Ti;if(y(P))return o(P,ki);if(gt==Si||gt==B||Qa&&!Ei){if(re=Oi||Qa?{}:g(P),!ki)return Oi?h(P,r(re,P)):l(P,n(re,P))}else{if(!M[gt])return Ei?P:{};re=p(P,gt,ki)}}je||(je=new s);var Za=je.get(P);if(Za)return Za;je.set(P,re),x(P)?P.forEach(function(Le){re.add(ke(Le,we,Oe,Le,P,je))}):_(P)&&P.forEach(function(Le,Ze){re.set(Ze,ke(Le,we,Oe,Ze,P,je))});var zf=Bf?Oi?c:d:Oi?C:D,Ja=Ka?void 0:zf(P);return e(Ja||P,function(Le,Ze){Ja&&(Ze=Le,Le=P[Ze]),t(re,Ze,ke(Le,we,Oe,Ze,P,je))}),re}return xo=ke,xo}var Co,uc;function Ya(){if(uc)return Co;uc=1;var s=jt(),e=Xe(),t="[object Symbol]";function n(r){return typeof r=="symbol"||e(r)&&s(r)==t}return Co=n,Co}var To,fc;function Zy(){if(fc)return To;fc=1;var s=Ke(),e=Ya(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function r(o,a){if(s(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:n.test(o)||!t.test(o)||a!=null&&o in Object(a)}return To=r,To}var So,pc;function Jy(){if(pc)return So;pc=1;var s=ja(),e="Expected a function";function t(n,r){if(typeof n!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var o=function(){var a=arguments,l=r?r.apply(this,a):a[0],h=o.cache;if(h.has(l))return h.get(l);var d=n.apply(this,a);return o.cache=h.set(l,d)||h,d};return o.cache=new(t.Cache||s),o}return t.Cache=s,So=t,So}var Do,mc;function e_(){if(mc)return Do;mc=1;var s=Jy(),e=500;function t(n){var r=s(n,function(a){return o.size===e&&o.clear(),a}),o=r.cache;return r}return Do=t,Do}var Eo,gc;function t_(){if(gc)return Eo;gc=1;var s=e_(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=s(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(e,function(a,l,h,d){o.push(h?d.replace(t,"$1"):l||a)}),o});return Eo=n,Eo}var ko,vc;function i_(){if(vc)return ko;vc=1;var s=wi(),e=xi(),t=Ke(),n=Ya(),r=1/0,o=s?s.prototype:void 0,a=o?o.toString:void 0;function l(h){if(typeof h=="string")return h;if(t(h))return e(h,l)+"";if(n(h))return a?a.call(h):"";var d=h+"";return d=="0"&&1/h==-r?"-0":d}return ko=l,ko}var Oo,bc;function s_(){if(bc)return Oo;bc=1;var s=i_();function e(t){return t==null?"":s(t)}return Oo=e,Oo}var Ao,yc;function Xa(){if(yc)return Ao;yc=1;var s=Ke(),e=Zy(),t=t_(),n=s_();function r(o,a){return s(o)?o:e(o,a)?[o]:t(n(o))}return Ao=r,Ao}var No,_c;function n_(){if(_c)return No;_c=1;function s(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}return No=s,No}var Po,wc;function Rf(){if(wc)return Po;wc=1;var s=Ya(),e=1/0;function t(n){if(typeof n=="string"||s(n))return n;var r=n+"";return r=="0"&&1/n==-e?"-0":r}return Po=t,Po}var Io,xc;function r_(){if(xc)return Io;xc=1;var s=Xa(),e=Rf();function t(n,r){r=s(r,n);for(var o=0,a=r.length;n!=null&&o<a;)n=n[e(r[o++])];return o&&o==a?n:void 0}return Io=t,Io}var Ro,Cc;function o_(){if(Cc)return Ro;Cc=1;function s(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}return Ro=s,Ro}var Mo,Tc;function a_(){if(Tc)return Mo;Tc=1;var s=r_(),e=o_();function t(n,r){return r.length<2?n:s(n,e(r,0,-1))}return Mo=t,Mo}var Fo,Sc;function l_(){if(Sc)return Fo;Sc=1;var s=Xa(),e=n_(),t=a_(),n=Rf();function r(o,a){return a=s(a,o),o=t(o,a),o==null||delete o[n(e(a))]}return Fo=r,Fo}var jo,Dc;function h_(){if(Dc)return jo;Dc=1;var s=jt(),e=Ua(),t=Xe(),n="[object Object]",r=Function.prototype,o=Object.prototype,a=r.toString,l=o.hasOwnProperty,h=a.call(Object);function d(c){if(!t(c)||s(c)!=n)return!1;var u=e(c);if(u===null)return!0;var f=l.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&a.call(f)==h}return jo=d,jo}var Lo,Ec;function d_(){if(Ec)return Lo;Ec=1;var s=h_();function e(t){return s(t)?void 0:t}return Lo=e,Lo}var qo,kc;function c_(){if(kc)return qo;kc=1;var s=bf();function e(t){var n=t==null?0:t.length;return n?s(t,1):[]}return qo=e,qo}var Go,Oc;function u_(){if(Oc)return Go;Oc=1;var s=c_(),e=yf(),t=wf();function n(r){return t(e(r,void 0,s),r+"")}return Go=n,Go}var Ho,Ac;function f_(){if(Ac)return Ho;Ac=1;var s=xi(),e=Qy(),t=l_(),n=Xa(),r=Ht(),o=d_(),a=u_(),l=If(),h=1,d=2,c=4,u=a(function(f,p){var g={};if(f==null)return g;var b=!1;p=s(p,function(_){return _=n(_,f),b||(b=_.length>1),_}),r(f,l(f),g),b&&(g=e(g,h|d|c,o));for(var y=p.length;y--;)t(g,p[y]);return g});return Ho=u,Ho}var ue=dp,p_=cp;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Timeline=void 0;var m_=ue(up),g_=ue(fp),Ct=ue(Lc()),v_=ue(pp),b_=ue(gp()),Nc=ue(vp()),Kt=ue(bp),Bo=C_(Y),Pc=pg,y_=pb,Ic=ue(Qb()),__=ue(ey()),Bi=ue(py()),w_=ue(vy()),x_=ue(f_()),Rc=ue(Gt());function Mf(s){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Mf=function(r){return r?t:e})(s)}function C_(s,e){if(!e&&s&&s.__esModule)return s;if(s===null||p_(s)!=="object"&&typeof s!="function")return{default:s};var t=Mf(e);if(t&&t.has(s))return t.get(s);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in s)if(o!=="default"&&Object.prototype.hasOwnProperty.call(s,o)){var a=r?Object.getOwnPropertyDescriptor(s,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=s[o]}return n.default=s,t&&t.set(s,n),n}function T_(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=S_(s))||e&&s&&typeof s.length=="number"){t&&(s=t);var n=0,r=function(){};return{s:r,n:function(){return n>=s.length?{done:!0}:{done:!1,value:s[n++]}},e:function(d){throw d},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,l;return{s:function(){t=t.call(s)},n:function(){var d=t.next();return o=d.done,d},e:function(d){a=!0,l=d},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(a)throw l}}}}function S_(s,e){if(s){if(typeof s=="string")return Mc(s,e);var t=Object.prototype.toString.call(s).slice(8,-1);if(t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set")return Array.from(s);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mc(s,e)}}function Mc(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=s[t];return n}function D_(s){var e=E_();return function(){var n=(0,Nc.default)(s),r;if(e){var o=(0,Nc.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,b_.default)(this,r)}}function E_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ff=function(){},jf=["currentTimeTick","click","contextmenu","doubleClick","dragover","drop","mouseOver","mouseDown","mouseUp","mouseMove","groupDragged","changed","rangechange","rangechanged","select","itemover","itemout","timechange","timechanged","markerchange","markerchanged"],Lf={};(0,Bi.default)(jf,function(s){Lf["".concat(s,"Handler")]=Ff});var qf=function(s){(0,v_.default)(t,s);var e=D_(t);function t(n){var r;return(0,m_.default)(this,t),r=e.call(this,n),(0,Kt.default)((0,Ct.default)(r),"timeline",void 0),(0,Kt.default)((0,Ct.default)(r),"items",void 0),(0,Kt.default)((0,Ct.default)(r),"groups",void 0),(0,Kt.default)((0,Ct.default)(r),"ref",Bo.default.createRef()),Object.defineProperty((0,Ct.default)(r),"items",{value:new Pc.DataSet,writable:!1}),Object.defineProperty((0,Ct.default)(r),"groups",{value:new Pc.DataSet,writable:!1}),r}return(0,g_.default)(t,[{key:"componentWillUnmount",value:function(){this.timeline.destroy()}},{key:"componentDidMount",value:function(){Object.defineProperty(this,"timeline",{value:new y_.Timeline(this.ref.current,this.items,this.groups,this.props.options),writable:!1});var r=T_(jf),o;try{for(r.s();!(o=r.n()).done;){var a=o.value,l=this.props["".concat(a,"Handler")];l!==Ff&&this.timeline.on(a,l)}}catch(h){r.e(h)}finally{r.f()}this.init()}},{key:"shouldComponentUpdate",value:function(r){var o=this.props,a=o.initialItems,l=o.initialGroups,h=o.options,d=o.selection,c=o.customTimes,u=o.currentTime,f=a!==r.initialItems,p=l!==r.initialGroups,g=h!==r.options,b=c!==r.customTimes,y=d!==r.selection,_=u!==r.currentTime;return p&&console.warn("react-vis-timeline: you are trying to change 'initialGroups' prop. Please use the public api exposed with in ref"),f&&console.warn("react-vis-timeline: you are trying to change 'initialItems' prop. Please use the public api exposed with in ref"),g&&this.timeline.setOptions(r.options),b&&this.updateCustomTimes(c,r.customTimes),y&&this.updateSelection(r.selection,r.selectionOptions),_&&this.timeline.setCurrentTime(r.currentTime),!1}},{key:"updateCustomTimes",value:function(r,o){var a=this,l=(0,Rc.default)(r),h=(0,Rc.default)(o),d=(0,Ic.default)(h,l),c=(0,Ic.default)(l,h),u=(0,__.default)(l,h);(0,Bi.default)(c,function(f){return a.timeline.removeCustomTime(f)}),(0,Bi.default)(d,function(f){var p=o[f].datetime;a.timeline.addCustomTime(p,f)}),(0,Bi.default)(u,function(f){var p=o[f].datetime;a.timeline.setCustomTime(p,f)})}},{key:"updateSelection",value:function(r,o){this.timeline.setSelection(r,o)}},{key:"init",value:function(){var r=this.props,o=r.initialItems,a=r.initialGroups,l=r.options,h=r.selection,d=r.selectionOptions,c=d===void 0?{}:d,u=r.customTimes,f=r.animate,p=f===void 0?!0:f,g=r.currentTime,b=l;p&&(b=(0,x_.default)(l,"start","end"),this.timeline.setWindow(l.start,l.end,{animation:p})),this.timeline.setOptions(b),(a==null?void 0:a.length)>0&&this.groups.add(a),(o==null?void 0:o.length)>0&&this.items.add(o),this.updateSelection(h,c),g&&this.timeline.setCurrentTime(g),this.updateCustomTimes([],u)}},{key:"render",value:function(){return Bo.default.createElement("div",{ref:this.ref})}}]),t}(Bo.Component);Ji.Timeline=qf;(0,Kt.default)(qf,"defaultProps",(0,w_.default)({initialItems:[],groups:[],options:{},selection:[],customTimes:[]},Lf));(function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return e.Timeline}});var e=Ji})(Fc);const k_=Zi(Fc);var Gf={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.cssValue=Mt.parseLengthAndUnit=void 0;var O_={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Hf(s){if(typeof s=="number")return{value:s,unit:"px"};var e,t=(s.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var n=(s.match(/[^0-9]*$/)||"").toString();return O_[n]?{value:e,unit:n}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}Mt.parseLengthAndUnit=Hf;function A_(s){var e=Hf(s);return"".concat(e.value).concat(e.unit)}Mt.cssValue=A_;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.createAnimation=void 0;var N_=function(s,e,t){var n="react-spinners-".concat(s,"-").concat(t);if(typeof window>"u"||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,a=`
    @keyframes `.concat(n,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(a,0),n};gs.createAnimation=N_;var Qi=ie&&ie.__assign||function(){return Qi=Object.assign||function(s){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=e[r])}return s},Qi.apply(this,arguments)},P_=ie&&ie.__createBinding||(Object.create?function(s,e,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(s,n,r)}:function(s,e,t,n){n===void 0&&(n=t),s[n]=e[t]}),I_=ie&&ie.__setModuleDefault||(Object.create?function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}:function(s,e){s.default=e}),R_=ie&&ie.__importStar||function(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var t in s)t!=="default"&&Object.prototype.hasOwnProperty.call(s,t)&&P_(e,s,t);return I_(e,s),e},M_=ie&&ie.__rest||function(s,e){var t={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&e.indexOf(n)<0&&(t[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(t[n[r]]=s[n[r]]);return t};Object.defineProperty(Gf,"__esModule",{value:!0});var Je=R_(Y),F_=Mt,Tt=gs,ee=[1,3,5],j_=[(0,Tt.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(ee[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-0"),(0,Tt.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(ee[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-1"),(0,Tt.createAnimation)("PropagateLoader","25% {transform: translateX(-".concat(ee[0],`rem) scale(0.75)}
    75% {transform: translateX(-`).concat(ee[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-2"),(0,Tt.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(ee[0],`rem) scale(0.75)}
    75% {transform: translateX(`).concat(ee[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-3"),(0,Tt.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(ee[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-4"),(0,Tt.createAnimation)("PropagateLoader","25% {transform: translateX(".concat(ee[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(ee[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(ee[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-5")];function L_(s){var e=s.loading,t=e===void 0?!0:e,n=s.color,r=n===void 0?"#000000":n,o=s.speedMultiplier,a=o===void 0?1:o,l=s.cssOverride,h=l===void 0?{}:l,d=s.size,c=d===void 0?15:d,u=M_(s,["loading","color","speedMultiplier","cssOverride","size"]),f=(0,F_.parseLengthAndUnit)(c),p=f.value,g=f.unit,b=Qi({display:"inherit",position:"relative"},h),y=function(_){return{position:"absolute",fontSize:"".concat(p/3).concat(g),width:"".concat(p).concat(g),height:"".concat(p).concat(g),background:r,borderRadius:"50%",animation:"".concat(j_[_]," ").concat(1.5/a,"s infinite"),animationFillMode:"forwards"}};return t?Je.createElement("span",Qi({style:b},u),Je.createElement("span",{style:y(0)}),Je.createElement("span",{style:y(1)}),Je.createElement("span",{style:y(2)}),Je.createElement("span",{style:y(3)}),Je.createElement("span",{style:y(4)}),Je.createElement("span",{style:y(5)})):null}var q_=Gf.default=L_;qi.registerLocale(lp);Wf.register(Vf,Yf,Xf);const G_=ap(op),H_={chart:{fontFamily:"inherit"},cutoutPercentage:75,responsive:!0,maintainAspectRatio:!1,cutout:"75%",title:{display:!1},animation:{animateScale:!0,animateRotate:!0},tooltips:{enabled:!0,intersect:!1,mode:"nearest",bodySpacing:5,yPadding:10,xPadding:10,caretPadding:0,displayColors:!1,backgroundColor:"#20D489",titleFontColor:"#ffffff",cornerRadius:4,footerSpacing:0,titleSpacing:0},plugins:{legend:{display:!1}}},B_={chart:{id:"basic-bar",fontFamily:"inherit",type:"bar",toolbar:{show:!1}},xaxis:{categories:["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"}},crosshairs:{fill:{gradient:{opacityFrom:0,opacityTo:0}}}},yaxis:{labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"},formatter:function(s){return parseInt(s)}}},fill:{opacity:1},tooltip:{style:{fontSize:"12px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"22%",borderRadius:5,dataLabels:{position:"top"}}},legend:{show:!1},dataLabels:{enabled:!0,offsetY:-30,style:{fontSize:"13px",colors:[q("--bs-gray-900")]},formatter:function(s){return s==0?"":s}},stroke:{show:!0,width:2,colors:["transparent"]},colors:[q("--bs-success"),q("--bs-success-light")],grid:{borderColor:q("--bs-border-dashed-color"),strokeDashArray:4,yaxis:{lines:{show:!0}}}},z_={chart:{id:"basic-bar",fontFamily:"inherit",type:"bar",toolbar:{show:!1}},xaxis:{categories:["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"}},crosshairs:{fill:{gradient:{opacityFrom:0,opacityTo:0}}}},yaxis:{labels:{style:{colors:q("--bs-gray-500"),fontSize:"13px"},formatter:function(s){return parseInt(s)}}},fill:{opacity:1},tooltip:{style:{fontSize:"12px"}},plotOptions:{bar:{horizontal:!1,columnWidth:"22%",borderRadius:5,dataLabels:{position:"top"}}},legend:{show:!1},dataLabels:{enabled:!0,offsetY:-30,style:{fontSize:"13px",colors:[q("--bs-gray-900")]},formatter:function(s){return s==0?"":s}},stroke:{show:!0,width:2,colors:["transparent"]},colors:[q("--bs-primary"),q("--bs-primary-light")],grid:{borderColor:q("--bs-border-dashed-color"),strokeDashArray:4,yaxis:{lines:{show:!0}}}},$_={series:[20,100,15,25],chart:{fontFamily:"inherit",type:"donut",width:250},plotOptions:{pie:{donut:{size:"50%",labels:{value:{fontSize:"10px"}}}}},colors:[q("--bs-info"),q("--bs-success"),q("--bs-primary"),q("--bs-danger")],stroke:{width:0},labels:["Approved","Change","Correction"],legend:{show:!1},fill:{type:"false"}},U_={chart:{type:"area",height:350,toolbar:{show:!1}},legend:{show:!1},dataLabels:{enabled:!1},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",show:!0,width:3,colors:[q("--bs-success"),q("--bs-primary")]},xaxis:{categories:["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:q("--bs-gray-500"),fontSize:"12px"}},crosshairs:{position:"front",stroke:{color:q("--bs-primary"),width:1,dashArray:3}},tooltip:{enabled:!0,formatter:void 0,offsetY:0,style:{fontSize:"12px"}}},yaxis:{labels:{style:{colors:q("--bs-gray-500"),fontSize:"12px"}}},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(s){return s?parseInt(s)+" dossiers":"0 dossiers"}}},colors:[q("--bs-success"),q("--bs-primary")],grid:{borderColor:q("--bs-gray-200"),strokeDashArray:4,yaxis:{lines:{show:!0}}},markers:{colors:[q("--bs-primary-light"),q("--bs-success-light")],strokeColor:[q("--bs-success"),q("--bs-primary")],strokeWidth:3}},W_=({RequetNumber:s,totalRequet:e,PublishingCount:t,formattingCount:n,acceptance:r,correction:o,update:a,totalclosed:l,productCountry:h,inprogress:d,currentUser:c})=>{const[u,f]=Y.useState(new Date),[p,g]=Y.useState(new Date),[b,y]=Y.useState(new Date),[_,w]=Y.useState(1),[x,D]=Y.useState([]),[C,T]=Y.useState(0),[S,N]=Y.useState({formattingRT:[],publishingRT:[],labelsf:"",labelsp:""}),[B,he]=Y.useState({formattingR:[],publishingR:[]}),[I,_e]=Y.useState({formattingCR:[],publishingCR:[]}),[Fe,Ee]=Y.useState(!1),[Ti,vs]=Y.useState([]),[Qe,Si]=Y.useState(),Di=Y.useRef(),mt=Y.useRef(!0),bs={labels:["Formatting","Publishing","Submission"],datasets:[{data:[n,t,0],backgroundColor:["#00A3FF","#50CD89","#E4E6EF"]}]};Y.useEffect(()=>{mt.current||Ee(!0),ys()},[u]),Y.useEffect(()=>{mt.current||Ee(!0),_s()},[p]),Y.useEffect(()=>{mt.current?mt.current=!1:Ee(!0),ws()},[b]);const ys=()=>{const E=z(u).year();Os.post("getRequestPerType",{selecedYear:E}).then(F=>{N(Q=>({formattingRT:F.data.formattingRT.data?F.data.formattingRT.data:[],publishingRT:F.data.publishingRT.data?F.data.publishingRT.data:[],labelsf:F.data.formattingRT.cat?F.data.formattingRT.cat:"",labelsp:F.data.publishingRT.cat?F.data.publishingRT.cat:""})),setTimeout(()=>{Ee(!1)},1e3)})},_s=()=>{const E=z(p).year();Os.post("getRequestsPerMonth",{selecedYear:E}).then(F=>{he(Q=>({formattingR:F.data.formattingReq?F.data.formattingReq:[],publishingR:F.data.publishingReq?F.data.publishingReq:[]})),setTimeout(()=>{Ee(!1)},1e3)})},ws=()=>{const E=z(b).year();Os.post("getRequestsPerMonth",{selecedYear:E}).then(F=>{_e(Q=>({formattingCR:F.data.formattingReq?F.data.formattingReq:[],publishingCR:F.data.publishingReq?F.data.publishingReq:[]})),setTimeout(()=>{Ee(!1)},1e3)})};Y.useEffect(()=>{const E=rp(Di.current).DataTable({info:!1,order:[],pageLength:5});T(E.page.info().pages),Si(E);const F=d.map(Q=>({id:Q._id,group:Q.form=="Formatting"?"Formatting":"Publishing",start:new Date(Q.created_at),end:new Date(Q.deadline),content:Q.dossier_type.value,title:"Start : "+z(Q.created_at).format("DD-MM-yyyy")+" , End : "+z(Q.deadline).format("DD-MM-yyyy"),color:Q.form=="Formatting"?"primary":"success",type:"point"}));return vs(F),function(){E.destroy()}},[]),Y.useEffect(()=>{var E=[],F=5,Q=Math.floor(F/2),M=function(ke,P){var we;typeof P>"u"?(P=0,we=ke):(we=P,P=ke);for(var Oe=[],Bt=P;Bt<we;Bt++)Oe.push(Bt);return Oe};C<=F?E=M(0,C):_<=Q?E=M(0,F):_>=C-1-Q?E=M(C-F,C):E=M(_-Q,_+Q+1),E=Array.from(E,ke=>ke+1),D(E)},[C,_]);const xs=E=>{w(E),Qe.page(E-1).draw("page")},Cs=()=>{let E=Qe.page.info().page;w(E),Qe.page(E-1).draw("page")},Ts=()=>{let E=Qe.page.info().page+1;w(E+1),Qe.page(E).draw("page")},Ss={chart:{fontFamily:"inherit",type:"pie",width:"100%"},labels:S.labelsf,legend:{show:!1}},Ds={chart:{fontFamily:"inherit",type:"pie",width:"100%"},labels:S.labelsp,legend:{show:!1}},Es=[{id:"Formatting",content:"Formatting",order:1,style:"color:#3e97ff"},{id:"Publishing",content:"Publishing",order:2,style:"color:#50cd89"}];z(new Date).add(1.5,"hours"),z(new Date).add(1,"hours"),z(new Date).add(2,"hours"),z(new Date).add(30,"minutes"),z(new Date).add(2.5,"hours"),z(new Date).add(1.5,"hours"),z(new Date).add(3,"hours");const ks={zoomable:!1,moveable:!0,selectable:!1,margin:{item:{horizontal:10,vertical:35}},showCurrentTime:!0,xss:{disabled:!1,filterOptions:{whiteList:{div:["class","style"],img:["data-kt-timeline-avatar-src","alt"],a:["href","class"]}}},template:function(E){return`<div class="rounded-pill bg-${E.color} d-flex align-items-center position-relative h-40px w-100 p-2 overflow-hidden">
                
    
                <div class="d-flex align-items-center position-relative z-index-2">
                   
    
                    <a class="fw-bold text-white">${E.content}</a>
                </div>
    
               
            </div>        
            `}};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"row g-5 g-xl-10 mb-5 mb-xl-1",children:[m.jsx("div",{className:"col-4",children:m.jsxs("div",{className:"card card-flush h-xl-100 h-100",children:[m.jsx("div",{className:"card-header rounded bgi-no-repeat bgi-size-cover bgi-position-y-top bgi-position-x-center align-items-start h-250px",style:{backgroundImage:"url('storage/media/svg/shapes/top-green.png')"},"data-bs-theme":"light",children:m.jsxs("h3",{className:"card-title align-items-start flex-column text-white pt-15",children:[m.jsx("span",{className:"fw-bold fs-2x mb-3",children:"My Tasks"}),m.jsxs("div",{className:"fs-4 text-white",children:[m.jsx("span",{className:"opacity-75",children:"You have "}),m.jsxs("span",{className:"position-relative d-inline-block",children:[m.jsx("a",{href:"#",className:"link-white opacity-75-hover text-warning fw-bold d-block mb-1",onClick:()=>{Kf.get("tasks")},children:e}),m.jsx("span",{className:"position-absolute opacity-50 bottom-0 start-0 border-2 border-body border-bottom w-100"})]}),m.jsx("span",{className:"opacity-75",children:" task to complete"})]})]})}),m.jsx("div",{className:"card-body mt-n5",children:m.jsx("div",{className:"mt-n20 position-relative",children:m.jsxs("div",{className:"row g-3 g-lg-6",children:[m.jsx("div",{className:"col-12",children:m.jsxs("div",{className:"bg-gray-100 d-flex justify-content-between bg-opacity-70 rounded-2 px-6 py-5",children:[m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[0].total}),m.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[0].status})]}),s[2]?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"vr text-gray-500"}),m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[2].total}),m.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[2].status})]})]}):""]})}),m.jsx("div",{className:"col-12",children:m.jsxs("div",{className:"bg-gray-100 d-flex justify-content-between bg-opacity-70 rounded-2 px-6 py-5",children:[m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[1].total}),m.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[1].status})]}),s[3]?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"vr text-gray-500"}),m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-gray-700 fw-bolder d-block fs-2qx lh-1 ls-n1 me-3 ",children:s[3].total}),m.jsx("span",{className:"text-gray-500 fw-semibold fs-6",children:s[3].status})]})]}):""]})})]})})})]})}),m.jsx("div",{className:"col-lg-3",children:m.jsxs("div",{className:"card card-flush h-100",children:[m.jsx("div",{className:"card-header mt-6",children:m.jsx("div",{className:"card-title flex-column",children:m.jsx("h3",{className:"fw-bold mb-1",children:"Total requests"})})}),m.jsx("div",{className:"card-body p-9 pt-5",children:m.jsxs("div",{className:"d-flex flex-wrap justify-content-center",children:[m.jsxs("div",{className:"position-relative d-flex flex-center h-175px w-175px mb-7",children:[m.jsxs("div",{className:"position-absolute translate-middle start-50 top-50 d-flex flex-column flex-center",children:[m.jsx("span",{className:"fs-2qx fw-bold",children:n+t}),m.jsx("span",{className:"fs-6 fw-semibold text-gray-400",children:"Total Req"})]}),m.jsx(hp,{data:bs,options:H_})]}),m.jsxs("div",{className:"d-flex flex-column justify-content-center flex-row-fluid pe-11 mb-5 ms-4",children:[m.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[m.jsx("div",{className:"bullet bg-primary me-3"}),m.jsx("div",{className:"text-gray-400",children:"Formatting"}),m.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:n})]}),m.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center mb-3",children:[m.jsx("div",{className:"bullet bg-success me-3"}),m.jsx("div",{className:"text-gray-400",children:"Publishing"}),m.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:t})]}),m.jsxs("div",{className:"d-flex fs-6 fw-semibold align-items-center",children:[m.jsx("div",{className:"bullet bg-gray-300 me-3"}),m.jsx("div",{className:"text-gray-400",children:"Submission"}),m.jsx("div",{className:"ms-auto fw-bold text-gray-700",children:"0"})]})]})]})})]})}),m.jsx("div",{className:"col-5",children:m.jsxs("div",{className:"card card-flush h-lg-100",children:[m.jsxs("div",{className:"card-header py-7 mb-3",children:[m.jsx("h3",{className:"card-title align-items-start flex-column",children:m.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Request per type"})}),m.jsxs("div",{className:"card-toolbar m-0",children:[m.jsxs("ul",{className:"nav nav-pills nav-pills-custom",role:"tablist",children:[m.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:m.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-primary flex-column overflow-hidden w-60px h-60px pt-5 pb-2 active","data-bs-toggle":"tab",href:"#kt_charts_widget_11_tab_content_1",children:m.jsxs("div",{className:"nav-icon mb-2",children:[m.jsxs("i",{className:"ki-duotone ki-ship fs-4 p-0",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"}),m.jsx("span",{className:"path3"})]}),m.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-9 lh-1",children:"Formatting"}),m.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-2px bg-primary"})]})})}),m.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:m.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-primary flex-column overflow-hidden w-60px h-60px pt-5 pb-2","data-bs-toggle":"tab",href:"#kt_charts_widget_12_tab_content_2",children:m.jsxs("div",{className:"nav-icon mb-2",children:[m.jsxs("i",{className:"ki-duotone ki-ship fs-4 p-0",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"}),m.jsx("span",{className:"path3"})]}),m.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-9 lh-1",children:"Publishing"}),m.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-2px bg-primary"})]})})})]}),m.jsx(Ns,{dateFormat:"yyyy",showYearPicker:!0,selected:u,onChange:E=>f(E),className:"form-select form-select-solid form-select-sm fw-bold w-100px",yearItemNumber:6})]})]}),m.jsx("div",{className:"card-body py-0 ps-6 mt-2",children:m.jsxs("div",{className:"tab-content ps-4 pe-6",children:[m.jsx("div",{className:"tab-pane fade active show",id:"kt_charts_widget_11_tab_content_1",children:m.jsx(vt,{options:Ss,series:S.formattingRT,type:"donut",height:300})}),m.jsx("div",{className:"tab-pane fade",id:"kt_charts_widget_12_tab_content_2",children:m.jsx(vt,{options:Ds,series:S.publishingRT,type:"donut",height:300})})]})})]})}),m.jsx("div",{className:"col-lg-6 col-md-6 mb-5 mb-xl-10",children:m.jsxs("div",{className:"card card-flush h-xxl-100 h-lg-100",children:[m.jsxs("div",{className:"card-header pt-7",children:[m.jsx("h3",{className:"card-title align-items-start flex-column",children:m.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Requests per month"})}),m.jsx("div",{className:"card-toolbar",children:m.jsx(Ns,{dateFormat:"yyyy",showYearPicker:!0,selected:p,onChange:E=>g(E),className:"form-select form-select-solid form-select-sm fw-bold w-100px",yearItemNumber:6})})]}),m.jsxs("div",{className:"card-body d-flex flex-column justify-content-between pb-5 px-0",children:[m.jsxs("ul",{className:"nav nav-pills nav-pills-custom mb-3 mx-9",role:"tablist",children:[m.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:m.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-success flex-column overflow-hidden w-80px h-85px pt-5 pb-2 active","data-bs-toggle":"tab",href:"#kt_charts_widget_10_tab_content_1",children:m.jsxs("div",{className:"nav-icon mb-3",children:[m.jsxs("i",{className:"ki-duotone ki-ship fs-1 p-0",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"}),m.jsx("span",{className:"path3"})]}),m.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-6 lh-1",children:"Formatting"}),m.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-4px bg-success"})]})})}),m.jsx("li",{className:"nav-item mb-3 me-3 me-lg-6",children:m.jsx("a",{className:"nav-link btn btn-outline btn-flex btn-active-color-primary flex-column overflow-hidden w-80px h-85px pt-5 pb-2","data-bs-toggle":"tab",href:"#kt_charts_widget_10_tab_content_2",children:m.jsxs("div",{className:"nav-icon mb-3",children:[m.jsxs("i",{className:"ki-duotone ki-ship fs-1 p-0",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"}),m.jsx("span",{className:"path3"})]}),m.jsx("span",{className:"nav-text text-gray-800 fw-bold fs-6 lh-1",children:"Publishing"}),m.jsx("span",{className:"bullet-custom position-absolute bottom-0 w-100 h-4px bg-primary"})]})})})]}),m.jsxs("div",{className:"tab-content ps-4 pe-6",children:[m.jsx("div",{className:"tab-pane fade active show",id:"kt_charts_widget_10_tab_content_1",children:m.jsx(vt,{options:B_,series:[{name:"Formatting",data:B.formattingR}],type:"bar",height:270})}),m.jsx("div",{className:"tab-pane fade",id:"kt_charts_widget_10_tab_content_2",children:m.jsx(vt,{options:z_,series:[{name:"Publishing",data:B.publishingR}],type:"bar",height:270})})]})]})]})}),m.jsx("div",{className:"col-lg-6 col-md-6 mb-5 mb-xl-10",children:m.jsxs("div",{className:"card card-flush h-lg-100",children:[m.jsxs("div",{className:"card-header mt-6",children:[m.jsxs("div",{className:"card-title flex-column",children:[m.jsx("h3",{className:"fw-bold mb-1",children:"Cumulative requests"}),m.jsxs("div",{className:"fs-6 d-flex text-gray-400 fs-6 fw-semibold",children:[m.jsxs("div",{className:"d-flex align-items-center me-6",children:[m.jsx("span",{className:"menu-bullet d-flex align-items-center me-2",children:m.jsx("span",{className:"bullet bg-success"})}),"Formatting"]}),m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"menu-bullet d-flex align-items-center me-2",children:m.jsx("span",{className:"bullet bg-primary"})}),"Publishing"]})]})]}),m.jsx("div",{className:"card-toolbar",children:m.jsx(Ns,{dateFormat:"yyyy",showYearPicker:!0,selected:b,onChange:y,className:"form-select form-select-solid form-select-sm fw-bold w-100px",yearItemNumber:6})})]}),m.jsx("div",{className:"card-body pt-10 pb-0 px-5",children:m.jsx(vt,{options:U_,series:[{name:"Formatting",data:I.formattingCR},{name:"Publishing",data:I.publishingCR}],type:"line"})})]})}),m.jsx("div",{className:"col-lg-6",children:m.jsxs("div",{className:"card card-flush h-lg-100",children:[m.jsx("div",{className:"card-header pt-7 mb-5",children:m.jsx("h3",{className:"card-title align-items-start flex-column",children:m.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Requests per Product-Country"})})}),m.jsx("div",{className:"card-body pt-0",children:m.jsxs("div",{className:"table-responsive",children:[m.jsxs("table",{className:"table table-row-dashed table-row-gray-200 align-middle gs-0 gy-4",ref:Di,children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Country"}),m.jsx("th",{children:"Produit"}),m.jsx("th",{children:"Formatting"}),m.jsx("th",{children:"Publishing"})]})}),m.jsx("tbody",{children:h.map((E,F)=>m.jsxs("tr",{children:[m.jsx("td",{children:m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("div",{className:"symbol symbol-45px me-2",children:E.cnt=="KSA"?m.jsx(As,{countryCode:qi.getAlpha2Code("Saudi arabia","en"),svg:!0,style:{width:"2em",height:"2em"}}):E.cnt=="EU"?m.jsx(As,{countryCode:"EU","aria-label":"Europe",title:"Europe",svg:!0,style:{width:"2em",height:"2em"}}):m.jsx(As,{countryCode:qi.getAlpha2Code(E.cnt,"en"),svg:!0,style:{width:"2em",height:"2em"}})}),m.jsxs("div",{className:"d-flex justify-content-start flex-column",children:[m.jsx("span",{className:"text-dark fw-bold text-hover-primary fs-6",children:E.cnt=="EU"?"Europe":E.cnt}),m.jsx("span",{className:"text-muted fw-semibold text-muted d-block fs-7",children:E.cnt=="EU"?"EU":qi.getAlpha2Code(E.cnt,"en")})]})]})}),m.jsx("td",{children:m.jsx("span",{className:"text-gray-700 fw-bold fs-6 me-3 d-block",children:E.pr})}),m.jsx("td",{children:m.jsx("span",{className:"text-gray-500 fw-bold fs-6 me-3 d-block",children:E.formatting})}),m.jsx("td",{children:m.jsx("span",{className:"text-gray-500 fw-bold fs-6 me-3 d-block",children:E.publishing})})]},F))})]}),m.jsx("div",{className:"row paginate_row",children:m.jsx("div",{className:"col-12 col-md-12 d-flex align-items-center justify-content-end justify-content-md-end",children:m.jsx("div",{className:"dataTables_paginate paging_simple_numbers",id:"kt_profile_overview_table_paginate",children:m.jsxs("ul",{className:"pagination",children:[m.jsx("li",{className:el("paginate_button page-item previous",_===1?"disabled":""),id:"kt_profile_overview_table_previous",children:m.jsx("button",{"aria-controls":"kt_profile_overview_table",className:"page-link",onClick:Cs,children:m.jsx("i",{className:"previous"})})}),x.map(E=>m.jsx("li",{className:_===E?"page-item active":"paginate_button page-item",children:m.jsxs("button",{onClick:()=>xs(E),className:"page-link",children:[" ",E," "]})},E)),m.jsx("li",{className:el("paginate_button page-item next",_===C?"disabled":""),id:"kt_profile_overview_table_next",children:m.jsx("button",{"aria-controls":"kt_profile_overview_table",className:"page-link",onClick:Ts,children:m.jsx("i",{className:"next"})})})]})})})})]})})]})}),m.jsx("div",{className:"col-lg-6",children:m.jsxs("div",{className:"card card-flush h-lg-100",children:[m.jsx("div",{className:"card-header pt-7 mb-5",children:m.jsx("h3",{className:"card-title align-items-center flex-column",children:m.jsx("span",{className:"card-label fw-bold text-gray-800",children:"Request review"})})}),m.jsx("div",{className:"card-body pt-0",children:m.jsxs("div",{className:"d-flex flex-wrap flex-md-nowrap",children:[m.jsxs("div",{className:"me-md-5 w-100",children:[m.jsxs("div",{className:"d-flex border border-gray-300 border-dashed rounded p-6 mb-6",children:[m.jsxs("div",{className:"d-flex align-items-center flex-grow-1 me-2 me-sm-5",children:[m.jsx("div",{className:"symbol symbol-50px me-4",children:m.jsx("span",{className:"symbol-label",children:m.jsxs("i",{className:"ki-duotone ki-shield-tick fs-2qx text-primary",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"})]})})}),m.jsx("div",{className:"me-2",children:m.jsx("span",{className:"text-gray-800 fs-6 fw-bold",children:"Approved"})})]}),m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-dark fw-bolder fs-2x",children:r}),m.jsx("span",{className:"fw-semibold fs-2 text-gray-600 mx-1 pt-1",children:"/"}),m.jsx("span",{className:"text-gray-600 fw-semibold fs-2 me-3 pt-2",children:l})]})]}),m.jsxs("div",{className:"d-flex border border-gray-300 border-dashed rounded p-6 mb-6",children:[m.jsxs("div",{className:"d-flex align-items-center flex-grow-1 me-2 me-sm-5",children:[m.jsx("div",{className:"symbol symbol-50px me-4",children:m.jsx("span",{className:"symbol-label",children:m.jsxs("i",{className:"ki-duotone ki-shield fs-2qx text-primary",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"})]})})}),m.jsx("div",{className:"me-2",children:m.jsx("span",{className:"text-gray-800 fs-6 fw-bold",children:"Change"})})]}),m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-dark fw-bolder fs-2x",children:a}),m.jsx("span",{className:"fw-semibold fs-2 text-gray-600 mx-1 pt-1",children:"/"}),m.jsx("span",{className:"text-gray-600 fw-semibold fs-2 me-3 pt-2",children:l})]})]}),m.jsxs("div",{className:"d-flex border border-gray-300 border-dashed rounded p-6 mb-6",children:[m.jsxs("div",{className:"d-flex align-items-center flex-grow-1 me-2 me-sm-5",children:[m.jsx("div",{className:"symbol symbol-50px me-4",children:m.jsx("span",{className:"symbol-label",children:m.jsxs("i",{className:"ki-duotone ki-shield-cross fs-2qx text-primary",children:[m.jsx("span",{className:"path1"}),m.jsx("span",{className:"path2"}),m.jsx("span",{className:"path3"})]})})}),m.jsx("div",{className:"me-2",children:m.jsx("span",{className:"text-gray-800 fs-6 fw-bold",children:"Correction"})})]}),m.jsxs("div",{className:"d-flex align-items-center",children:[m.jsx("span",{className:"text-dark fw-bolder fs-2x",children:o}),m.jsx("span",{className:"fw-semibold fs-2 text-gray-600 mx-1 pt-1",children:"/"}),m.jsx("span",{className:"text-gray-600 fw-semibold fs-2 me-3 pt-2",children:l})]})]})]}),m.jsxs("div",{className:"d-flex justify-content-between flex-column w-225px w-md-600px mx-auto mx-md-0 pt-3 pb-10",children:[m.jsx(vt,{options:$_,series:[r,a,o],type:"donut"}),m.jsxs("div",{className:"mx-auto",children:[m.jsxs("div",{className:"d-flex align-items-center mb-2",children:[m.jsx("div",{className:"bullet bullet-dot w-8px h-7px bg-success me-2"}),m.jsx("div",{className:"fs-8 fw-semibold text-muted",children:"Change"})]}),m.jsxs("div",{className:"d-flex align-items-center mb-2",children:[m.jsx("div",{className:"bullet bullet-dot w-8px h-7px bg-primary me-2"}),m.jsx("div",{className:"fs-8 fw-semibold text-muted",children:"Correction"})]}),m.jsxs("div",{className:"d-flex align-items-center mb-2",children:[m.jsx("div",{className:"bullet bullet-dot w-8px h-7px bg-info me-2"}),m.jsx("div",{className:"fs-8 fw-semibold text-muted",children:"Approved"})]})]})]})]})})]})}),c==3?m.jsx("div",{className:"col-12",children:m.jsxs("div",{className:"card h-md-100",children:[m.jsx("div",{className:"card-header position-relative py-0 border-bottom-1",children:m.jsx("h3",{className:"card-title text-gray-800 fw-bold",children:"Active Tasks"})}),m.jsx("div",{className:"card-body pb-0",children:Ti.length>0?m.jsx(k_,{options:ks,initialGroups:Es,initialItems:Ti}):""})]})}):""]}),Fe&&m.jsx("div",{className:"overlay",children:m.jsx(q_,{color:"#009ef7",loading:Fe,"aria-label":"Loading Spinner","data-testid":"loader"})})]})},V_=s=>{var p,g;const e=s.RequestNumber,t=s.formattingCount,n=s.publishingCount,r=s.acceptance,o=s.correction,a=s.update;s.perMonthFor,s.perMonthPub;const l=Object.values(e).reduce((b,y)=>b+y.total,0),h=s.totalclosed,d=s.productCountry,c=s.inprogress;Y.useEffect(()=>{s.flash.message&&G_.fire({title:m.jsx("p",{children:"Done !"}),icon:"success",text:s.flash.message})},[]);const{config:u,classes:f}=Qf();return(g=(p=u.app)==null?void 0:p.toolbar)!=null&&g.display?m.jsxs(m.Fragment,{children:[m.jsx(Zf,{breadcrumbs:[],children:"Dashboard"}),m.jsx(W_,{RequetNumber:e,totalRequet:l,formattingCount:t,PublishingCount:n,acceptance:r,correction:o,update:a,totalclosed:h,productCountry:d,inprogress:c,currentUser:s.auth.user.current_team_id})]}):null};V_.layout=s=>m.jsx(np,{children:s,auth:s.props.auth});export{V_ as default};
