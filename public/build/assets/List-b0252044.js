import{r as l,j as e}from"./app-8d74c141.js";import{K as N,R as y,h as u,A as v}from"./AuthenticatedLayout-86283164.js";import"./MetronicSplashScreen-416ac914.js";import"./MenuComponent-b357a752.js";import{w as _,S as P}from"./sweetalert2-react-content.es-a91c79f1.js";import{S}from"./StatusComponent-cf4a14cf.js";const C=c=>{const{data:a}=c,[i,L]=l.useState(15),[o,x]=l.useState(1),h=o*i,j=h-i;let m=Object.entries(a).slice(j,h).map(s=>s[1]);const[d,p]=l.useState(""),g=s=>{p(s.target.value)};l.useEffect(()=>{var s=Object.keys(a).filter(n=>{var r=typeof a[n].product_name=="object"?a[n].product_name.value:a[n].product_name;if(r.toLowerCase().includes(d.toLowerCase()))return r.toLowerCase().includes(d.toLowerCase())});console.log(s)},[d,a]);const f=()=>e.jsx("tbody",{children:m?Object.values(m).map((s,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:typeof s.product_name=="object"&&s.product_name?s.product_name.value:s.product_name})}),e.jsx("td",{children:typeof s.country=="object"&&s.country?e.jsx(e.Fragment,{children:e.jsx(y,{countryCode:s.country.code,"aria-label":s.country.value,title:s.country.value,svg:!0,style:{width:"1.5em",height:"1.5em"}})}):s.country}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.sequence?s.sequence:"NA"})}),e.jsx("td",{children:e.jsx(S,{status:s.status})}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.dossier_type?s.dossier_type.value:""})}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.request_date?u(s.request_date).format("DD-MMM-YYYY"):""})}),e.jsx("td",{children:e.jsx("span",{className:"fs-7",children:s.updated_at?u(s.updated_at).format("DD-MMM-YYYY"):""})})]},n)):""}),b=()=>{const s=[],n=Object.keys(a).length;for(let t=1;t<=Math.ceil(n/i);t++)s.push(t);const r=t=>{x(t)};return e.jsx("ul",{className:"pagination pagination-circle",children:s.map(t=>e.jsx("li",{className:o===t?"page-item active":"page-item",children:e.jsxs("button",{onClick:()=>r(t),className:"page-link",children:[" ",t," "]})},t))})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card mb-5",children:[e.jsxs("div",{className:"card-header border-0 pt-5",children:[e.jsx("h3",{className:"card-title align-items-start flex-column",children:e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"Formatting & Publishing List"})}),c.user.current_team_id!==3?e.jsx("div",{className:"card-toolbar","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Click to add a record",children:e.jsxs("a",{href:"#",className:"btn btn-sm btn-light-primary","data-bs-toggle":"modal","data-bs-target":"#kt_modal_invite_friends",children:[e.jsx(N,{iconName:"plus",className:"fs-3"}),"Add New Request"]})}):""]}),e.jsxs("div",{className:"card-body py-3",children:[e.jsxs("label",{htmlFor:"search",children:["Search : ",e.jsx("input",{id:"search",type:"text",onChange:g})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",id:"lisTable",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fw-bold text-muted",children:[e.jsx("th",{className:"min-w-150px",children:"Product"}),e.jsx("th",{className:"min-w-140px",children:"Country"}),e.jsx("th",{className:"min-w-140px",children:"Sequence"}),e.jsx("th",{className:"min-w-130px",children:"Status"}),e.jsx("th",{className:"min-w-130px",children:"Dossier type"}),e.jsx("th",{className:"min-w-130px",children:"Request date"}),e.jsx("th",{className:"min-w-130px",children:"Last update"})]})}),e.jsx(f,{})]})})]}),e.jsx("div",{className:"card-footer",children:e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx(b,{})})})]})})},D=_(P),R=c=>{const{allDemands:a}=c;return l.useEffect(()=>{c.flash.message&&D.fire({title:e.jsx("p",{children:"Done !"}),icon:"success",text:c.flash.message})},[]),e.jsx(v,{auth:c.auth,children:e.jsx(C,{data:a,user:c.auth.user})})};export{R as default};
